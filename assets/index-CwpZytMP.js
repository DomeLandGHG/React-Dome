var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function ne(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function re(e,t){return ne(e.type,t,e.props)}function ie(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ae(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var oe=/\/+/g;function se(e,t){return typeof e==`object`&&e&&e.key!=null?ae(``+e.key):t.toString(36)}function ce(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(te,te):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function le(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,le(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+se(e,0):a,ee(o)?(i=``,c!=null&&(i=c.replace(oe,`$&/`)+`/`),le(o,r,i,``,function(e){return e})):o!=null&&(ie(o)&&(o=re(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(oe,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(ee(e))for(var u=0;u<e.length;u++)a=e[u],s=l+se(a,u),c+=le(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+se(a,u++),c+=le(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return le(ce(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ue(e,t,n){if(e==null)return e;var r=[],i=0;return le(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function de(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var w=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},T={map:ue,forEach:function(e,t,n){ue(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ue(e,function(){t++}),t},toArray:function(e){return ue(e,function(e){return e})||[]},only:function(e){if(!ie(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=T,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!C.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ne(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)C.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ne(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=ie,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:de}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(te,w)}catch(e){w(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),S.T=t}},e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},e.use=function(e){return S.H.use(e)},e.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},e.useCallback=function(e,t){return S.H.useCallback(e,t)},e.useContext=function(e){return S.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return S.H.useEffect(e,t)},e.useEffectEvent=function(e){return S.H.useEffectEvent(e)},e.useId=function(){return S.H.useId()},e.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return S.H.useMemo(e,t)},e.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},e.useRef=function(e){return S.H.useRef(e)},e.useState=function(e){return S.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return S.H.useTransition()},e.version=`19.2.0`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,ee||(ee=!0,ie());else{var t=n(l);t!==null&&se(x,t.startTime-e)}}var ee=!1,te=-1,S=5,C=-1;function ne(){return g?!0:!(e.unstable_now()-C<S)}function re(){if(g=!1,ee){var t=e.unstable_now();C=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(te),te=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ne());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&se(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ie():ee=!1}}}var ie;if(typeof y==`function`)ie=function(){y(re)};else if(typeof MessageChannel<`u`){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=re,ie=function(){oe.postMessage(null)}}else ie=function(){_(re,0)};function se(t,n){te=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(te),te=-1):h=!0,se(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,ee||(ee=!0,ie()))),r},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),ee=Symbol.for(`react.consumer`),te=Symbol.for(`react.context`),S=Symbol.for(`react.forward_ref`),C=Symbol.for(`react.suspense`),ne=Symbol.for(`react.suspense_list`),re=Symbol.for(`react.memo`),ie=Symbol.for(`react.lazy`),ae=Symbol.for(`react.activity`),oe=Symbol.for(`react.memo_cache_sentinel`),se=Symbol.iterator;function ce(e){return typeof e!=`object`||!e?null:(e=se&&e[se]||e[`@@iterator`],typeof e==`function`?e:null)}var le=Symbol.for(`react.client.reference`);function ue(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case C:return`Suspense`;case ne:return`SuspenseList`;case ae:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case te:return e.displayName||`Context`;case ee:return(e._context.displayName||`Context`)+`.Consumer`;case S:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case re:return t=e.displayName||null,t===null?ue(e.type)||`Memo`:t;case ie:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var de=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},pe=[],me=-1;function he(e){return{current:e}}function ge(e){0>me||(e.current=pe[me],pe[me]=null,me--)}function E(e,t){me++,pe[me]=e.current,e.current=t}var _e=he(null),ve=he(null),ye=he(null),be=he(null);function xe(e,t){switch(E(ye,t),E(ve,e),E(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nf(t),e=rf(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ge(_e),E(_e,e)}function Se(){ge(_e),ge(ve),ge(ye)}function Ce(e){e.memoizedState!==null&&E(be,e);var t=_e.current,n=rf(t,e.type);t!==n&&(E(ve,e),E(_e,n))}function we(e){ve.current===e&&(ge(_e),ge(ve)),be.current===e&&(ge(be),mp._currentValue=fe)}var Te,Ee;function De(e){if(Te===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Te=t&&t[1]||``,Ee=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Te+e+Ee}var Oe=!1;function ke(e,t){if(!e||Oe)return``;Oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Oe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?De(n):``}function Ae(e,t){switch(e.tag){case 26:case 27:case 5:return De(e.type);case 16:return De(`Lazy`);case 13:return e.child!==t&&t!==null?De(`Suspense Fallback`):De(`Suspense`);case 19:return De(`SuspenseList`);case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return De(`Activity`);default:return``}}function je(e){try{var t=``,n=null;do t+=Ae(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Me=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Pe=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Le=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,Be=t.unstable_UserBlockingPriority,Ve=t.unstable_NormalPriority,He=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,We=t.log,Ge=t.unstable_setDisableYieldValue,Ke=null,qe=null;function Je(e){if(typeof We==`function`&&Ge(e),qe&&typeof qe.setStrictMode==`function`)try{qe.setStrictMode(Ke,e)}catch{}}var Ye=Math.clz32?Math.clz32:Qe,Xe=Math.log,Ze=Math.LN2;function Qe(e){return e>>>=0,e===0?32:31-(Xe(e)/Ze|0)|0}var $e=256,et=262144,tt=4194304;function nt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=nt(n))):i=nt(o):i=nt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=nt(n))):i=nt(o)):i=nt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function it(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function at(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var e=tt;return tt<<=1,!(tt&62914560)&&(tt=4194304),e}function st(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function D(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ct(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ye(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&lt(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function lt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ye(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ut(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ye(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function dt(e,t){var n=t&-t;return n=n&42?1:ft(n),(n&(e.suspendedLanes|t))===0?n:0}function ft(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mt(){var e=T.p;return e===0?(e=window.event,e===void 0?32:Ap(e.type)):e}function ht(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var gt=Math.random().toString(36).slice(2),_t=`__reactFiber$`+gt,vt=`__reactProps$`+gt,yt=`__reactContainer$`+gt,bt=`__reactEvents$`+gt,xt=`__reactListeners$`+gt,St=`__reactHandles$`+gt,Ct=`__reactResources$`+gt,wt=`__reactMarker$`+gt;function Tt(e){delete e[_t],delete e[vt],delete e[bt],delete e[xt],delete e[St]}function Et(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Df(e);e!==null;){if(n=e[_t])return n;e=Df(e)}return t}e=n,n=e.parentNode}return null}function Dt(e){if(e=e[_t]||e[yt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ot(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function kt(e){var t=e[Ct];return t||=e[Ct]={hoistableStyles:new Map,hoistableScripts:new Map},t}function At(e){e[wt]=!0}var jt=new Set,Mt={};function Nt(e,t){Pt(e,t),Pt(e+`Capture`,t)}function Pt(e,t){for(Mt[e]=t,e=0;e<t.length;e++)jt.add(t[e])}var Ft=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),It={},Lt={};function Rt(e){return Me.call(Lt,e)?!0:Me.call(It,e)?!1:Ft.test(e)?Lt[e]=!0:(It[e]=!0,!1)}function zt(e,t,n){if(Rt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Bt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Vt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Ht(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ut(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Wt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gt(e){if(!e._valueTracker){var t=Ut(e)?`checked`:`value`;e._valueTracker=Wt(e,t,``+e[t])}}function Kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ut(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function qt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Jt=/[\n"\\]/g;function Yt(e){return e.replace(Jt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Xt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Ht(t)):e.value!==``+Ht(t)&&(e.value=``+Ht(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Qt(e,o,Ht(n)):Qt(e,o,Ht(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Ht(s):e.removeAttribute(`name`)}function Zt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Gt(e);return}n=n==null?``:``+Ht(n),t=t==null?n:``+Ht(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Gt(e)}function Qt(e,t,n){t===`number`&&qt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function $t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function en(e,t,n){if(t!=null&&(t=``+Ht(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Ht(n)}function tn(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(de(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Ht(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Gt(e)}function nn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rn=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function an(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||rn.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function on(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&an(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&an(e,o,t[o])}function sn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var cn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),ln=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function un(e){return ln.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function dn(){}var fn=null;function pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mn=null,hn=null;function gn(e){var t=Dt(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Yt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[vt]||null;if(!a)throw Error(i(90));Xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Kt(r)}break a;case`textarea`:en(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&$t(e,!!n.multiple,t,!1)}}}var _n=!1;function vn(e,t,n){if(_n)return e(t,n);_n=!0;try{return e(t)}finally{if(_n=!1,(mn!==null||hn!==null)&&(Fu(),mn&&(t=mn,e=hn,hn=mn=null,gn(t),e)))for(t=0;t<e.length;t++)gn(e[t])}}function yn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[vt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var bn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),xn=!1;if(bn)try{var Sn={};Object.defineProperty(Sn,`passive`,{get:function(){xn=!0}}),window.addEventListener(`test`,Sn,Sn),window.removeEventListener(`test`,Sn,Sn)}catch{xn=!1}var Cn=null,wn=null,Tn=null;function En(){if(Tn)return Tn;var e,t=wn,n=t.length,r,i=`value`in Cn?Cn.value:Cn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Tn=i.slice(e,1<r?1-r:void 0)}function Dn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function On(){return!0}function kn(){return!1}function An(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?On:kn,this.isPropagationStopped=kn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mn=An(jn),Nn=h({},jn,{view:0,detail:0}),Pn=An(Nn),Fn,In,Ln,Rn=h({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Ln&&(Ln&&e.type===`mousemove`?(Fn=e.screenX-Ln.screenX,In=e.screenY-Ln.screenY):In=Fn=0,Ln=e),Fn)},movementY:function(e){return`movementY`in e?e.movementY:In}}),zn=An(Rn),Bn=h({},Rn,{dataTransfer:0}),Vn=An(Bn),Hn=h({},Nn,{relatedTarget:0}),Un=An(Hn),Wn=h({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gn=An(Wn),Kn=h({},jn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}}),qn=An(Kn),Jn=h({},jn,{data:0}),Yn=An(Jn),Xn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Zn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Qn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function $n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qn[e])?!!t[e]:!1}function er(){return $n}var tr=h({},Nn,{key:function(e){if(e.key){var t=Xn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=Dn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Zn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(e){return e.type===`keypress`?Dn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?Dn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}}),nr=An(tr),rr=h({},Rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=An(rr),ar=h({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),or=An(ar),sr=h({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cr=An(sr),lr=h({},Rn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ur=An(lr),dr=h({},jn,{newState:0,oldState:0}),fr=An(dr),pr=[9,13,27,32],mr=bn&&`CompositionEvent`in window,hr=null;bn&&`documentMode`in document&&(hr=document.documentMode);var gr=bn&&`TextEvent`in window&&!hr,_r=bn&&(!mr||hr&&8<hr&&11>=hr),vr=` `,yr=!1;function br(e,t){switch(e){case`keyup`:return pr.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function xr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Sr=!1;function Cr(e,t){switch(e){case`compositionend`:return xr(t);case`keypress`:return t.which===32?(yr=!0,vr):null;case`textInput`:return e=t.data,e===vr&&yr?null:e;default:return null}}function wr(e,t){if(Sr)return e===`compositionend`||!mr&&br(e,t)?(e=En(),Tn=wn=Cn=null,Sr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return _r&&t.locale!==`ko`?null:t.data;default:return null}}var Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!Tr[e.type]:t===`textarea`}function Dr(e,t,n,r){mn?hn?hn.push(r):hn=[r]:mn=r,t=Vd(t,`onChange`),0<t.length&&(n=new Mn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var Or=null,kr=null;function Ar(e){Pd(e,0)}function jr(e){var t=Ot(e);if(Kt(t))return e}function Mr(e,t){if(e===`change`)return t}var Nr=!1;if(bn){var Pr;if(bn){var Fr=`oninput`in document;if(!Fr){var Ir=document.createElement(`div`);Ir.setAttribute(`oninput`,`return;`),Fr=typeof Ir.oninput==`function`}Pr=Fr}else Pr=!1;Nr=Pr&&(!document.documentMode||9<document.documentMode)}function Lr(){Or&&(Or.detachEvent(`onpropertychange`,Rr),kr=Or=null)}function Rr(e){if(e.propertyName===`value`&&jr(kr)){var t=[];Dr(t,kr,e,pn(e)),vn(Ar,t)}}function zr(e,t,n){e===`focusin`?(Lr(),Or=t,kr=n,Or.attachEvent(`onpropertychange`,Rr)):e===`focusout`&&Lr()}function Br(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return jr(kr)}function Vr(e,t){if(e===`click`)return jr(t)}function Hr(e,t){if(e===`input`||e===`change`)return jr(t)}function Ur(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Wr=typeof Object.is==`function`?Object.is:Ur;function Gr(e,t){if(Wr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Me.call(t,i)||!Wr(e[i],t[i]))return!1}return!0}function Kr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qr(e,t){var n=Kr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Kr(n)}}function Jr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=qt(e.document)}return t}function Xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Zr=bn&&`documentMode`in document&&11>=document.documentMode,Qr=null,$r=null,ei=null,ti=!1;function ni(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ti||Qr==null||Qr!==qt(r)||(r=Qr,`selectionStart`in r&&Xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ei&&Gr(ei,r)||(ei=r,r=Vd($r,`onSelect`),0<r.length&&(t=new Mn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Qr)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var ii={animationend:ri(`Animation`,`AnimationEnd`),animationiteration:ri(`Animation`,`AnimationIteration`),animationstart:ri(`Animation`,`AnimationStart`),transitionrun:ri(`Transition`,`TransitionRun`),transitionstart:ri(`Transition`,`TransitionStart`),transitioncancel:ri(`Transition`,`TransitionCancel`),transitionend:ri(`Transition`,`TransitionEnd`)},ai={},oi={};bn&&(oi=document.createElement(`div`).style,`AnimationEvent`in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),`TransitionEvent`in window||delete ii.transitionend.transition);function si(e){if(ai[e])return ai[e];if(!ii[e])return e;var t=ii[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oi)return ai[e]=t[n];return e}var ci=si(`animationend`),li=si(`animationiteration`),ui=si(`animationstart`),di=si(`transitionrun`),fi=si(`transitionstart`),pi=si(`transitioncancel`),mi=si(`transitionend`),hi=new Map,gi=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);gi.push(`scrollEnd`);function _i(e,t){hi.set(e,t),Nt(t,[e])}var vi=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},yi=[],bi=0,xi=0;function Si(){for(var e=bi,t=xi=bi=0;t<e;){var n=yi[t];yi[t++]=null;var r=yi[t];yi[t++]=null;var i=yi[t];yi[t++]=null;var a=yi[t];if(yi[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&Ei(n,i,a)}}function Ci(e,t,n,r){yi[bi++]=e,yi[bi++]=t,yi[bi++]=n,yi[bi++]=r,xi|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function wi(e,t,n,r){return Ci(e,t,n,r),Di(e)}function Ti(e,t){return Ci(e,null,null,t),Di(e)}function Ei(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ye(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Di(e){if(50<Eu)throw Eu=0,Du=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Oi={};function ki(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(e,t,n,r){return new ki(e,t,n,r)}function ji(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,t){var n=e.alternate;return n===null?(n=Ai(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ni(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Pi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ji(e)&&(s=1);else if(typeof e==`string`)s=ap(e,n,_e.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ae:return e=Ai(31,n,t,a),e.elementType=ae,e.lanes=o,e;case y:return Fi(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=Ai(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case C:return e=Ai(13,n,t,a),e.elementType=C,e.lanes=o,e;case ne:return e=Ai(19,n,t,a),e.elementType=ne,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case te:s=10;break a;case ee:s=9;break a;case S:s=11;break a;case re:s=14;break a;case ie:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=Ai(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Fi(e,t,n,r){return e=Ai(7,e,r,t),e.lanes=n,e}function Ii(e,t,n){return e=Ai(6,e,null,t),e.lanes=n,e}function Li(e){var t=Ai(18,null,null,0);return t.stateNode=e,t}function Ri(e,t,n){return t=Ai(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zi=new WeakMap;function Bi(e,t){if(typeof e==`object`&&e){var n=zi.get(e);return n===void 0?(t={value:e,source:t,stack:je(t)},zi.set(e,t),t):n}return{value:e,source:t,stack:je(t)}}var Vi=[],Hi=0,Ui=null,Wi=0,Gi=[],O=0,k=null,A=1,Ki=``;function j(e,t){Vi[Hi++]=Wi,Vi[Hi++]=Ui,Ui=e,Wi=t}function qi(e,t,n){Gi[O++]=A,Gi[O++]=Ki,Gi[O++]=k,k=e;var r=A;e=Ki;var i=32-Ye(r)-1;r&=~(1<<i),n+=1;var a=32-Ye(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,A=1<<32-Ye(t)+i|n<<i|r,Ki=a+e}else A=1<<a|n<<i|r,Ki=e}function Ji(e){e.return!==null&&(j(e,1),qi(e,1,0))}function Yi(e){for(;e===Ui;)Ui=Vi[--Hi],Vi[Hi]=null,Wi=Vi[--Hi],Vi[Hi]=null;for(;e===k;)k=Gi[--O],Gi[O]=null,Ki=Gi[--O],Gi[O]=null,A=Gi[--O],Gi[O]=null}function Xi(e,t){Gi[O++]=A,Gi[O++]=Ki,Gi[O++]=k,A=t.id,Ki=t.overflow,k=e}var M=null,N=null,P=!1,Zi=null,Qi=!1,$i=Error(i(519));function ea(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``));throw oa(Bi(t,e)),$i}function ta(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[_t]=e,t[vt]=r,n){case`dialog`:Q(`cancel`,t),Q(`close`,t);break;case`iframe`:case`object`:case`embed`:Q(`load`,t);break;case`video`:case`audio`:for(n=0;n<Md.length;n++)Q(Md[n],t);break;case`source`:Q(`error`,t);break;case`img`:case`image`:case`link`:Q(`error`,t),Q(`load`,t);break;case`details`:Q(`toggle`,t);break;case`input`:Q(`invalid`,t),Zt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Q(`invalid`,t);break;case`textarea`:Q(`invalid`,t),tn(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||qd(t.textContent,n)?(r.popover!=null&&(Q(`beforetoggle`,t),Q(`toggle`,t)),r.onScroll!=null&&Q(`scroll`,t),r.onScrollEnd!=null&&Q(`scrollend`,t),r.onClick!=null&&(t.onclick=dn),t=!0):t=!1,t||ea(e,!0)}function na(e){for(M=e.return;M;)switch(M.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:M=M.return}}function ra(e){if(e!==M)return!1;if(!P)return na(e),P=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||af(e.type,e.memoizedProps)),n=!n),n&&N&&ea(e),na(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));N=Ef(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));N=Ef(e)}else t===27?(t=N,mf(e.type)?(e=Tf,Tf=null,N=e):N=t):N=M?wf(e.stateNode.nextSibling):null;return!0}function ia(){N=M=null,P=!1}function aa(){var e=Zi;return e!==null&&(pu===null?pu=e:pu.push.apply(pu,e),Zi=null),e}function oa(e){Zi===null?Zi=[e]:Zi.push(e)}var sa=he(null),ca=null,la=null;function ua(e,t,n){E(sa,t._currentValue),t._currentValue=n}function da(e){e._currentValue=sa.current,ge(sa)}function fa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function F(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),fa(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),fa(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function pa(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Wr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===be.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[mp]:e.push(mp))}a=a.return}e!==null&&F(t,e,n,r),t.flags|=262144}function ma(e){for(e=e.firstContext;e!==null;){if(!Wr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){ca=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ga(e){return va(ca,e)}function _a(e,t){return ca===null&&ha(e),va(e,t)}function va(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},la===null){if(e===null)throw Error(i(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return n}var ya=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ba=t.unstable_scheduleCallback,xa=t.unstable_NormalPriority,Sa={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ca(){return{controller:new ya,data:new Map,refCount:0}}function wa(e){e.refCount--,e.refCount===0&&ba(xa,function(){e.controller.abort()})}var Ta=null,Ea=0,Da=0,Oa=null;function ka(e,t){if(Ta===null){var n=Ta=[];Ea=0,Da=wd(),Oa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return Ea++,t.then(Aa,Aa),t}function Aa(){if(--Ea===0&&Ta!==null){Oa!==null&&(Oa.status=`fulfilled`);var e=Ta;Ta=null,Da=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ja(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Ma=w.S;w.S=function(e,t){gu=Le(),typeof t==`object`&&t&&typeof t.then==`function`&&ka(e,t),Ma!==null&&Ma(e,t)};var I=he(null);function Na(){var e=I.current;return e===null?W.pooledCache:e}function Pa(e,t){t===null?E(I,I.current):E(I,t.pool)}function Fa(){var e=Na();return e===null?null:{parent:Sa._currentValue,pool:e}}var Ia=Error(i(460)),La=Error(i(474)),Ra=Error(i(542)),za={then:function(){}};function L(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Ba(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(dn,dn),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Wa(e),e;default:if(typeof t.status==`string`)t.then(dn,dn);else{if(e=W,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Wa(e),e}throw Ha=t,Ia}}function Va(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ha=e,Ia):e}}var Ha=null;function Ua(){if(Ha===null)throw Error(i(459));var e=Ha;return Ha=null,e}function Wa(e){if(e===Ia||e===Ra)throw Error(i(483))}var Ga=null,Ka=0;function qa(e){var t=Ka;return Ka+=1,Ga===null&&(Ga=[]),Ba(Ga,e,t)}function Ja(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ya(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Xa(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=Mi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Ii(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ie&&Va(i)===t.type)?(t=a(t,n.props),Ja(t,n),t.return=e,t):(t=Pi(n.type,n.key,n.props,null,e.mode,r),Ja(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ri(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Fi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=Ii(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=Pi(t.type,t.key,t.props,null,e.mode,n),Ja(n,t),n.return=e,n;case v:return t=Ri(t,e.mode,n),t.return=e,t;case ie:return t=Va(t),f(e,t,n)}if(de(t)||ce(t))return t=Fi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,qa(t),n);if(t.$$typeof===te)return f(e,_a(e,t),n);Ya(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case ie:return n=Va(n),p(e,t,n,r)}if(de(n)||ce(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,qa(n),r);if(n.$$typeof===te)return p(e,t,_a(e,n),r);Ya(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ie:return r=Va(r),m(e,t,n,r,i)}if(de(r)||ce(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,qa(r),i);if(r.$$typeof===te)return m(e,t,n,_a(t,r),i);Ya(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),P&&j(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return P&&j(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),P&&j(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),P&&j(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return P&&j(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),P&&j(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ie&&Va(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ja(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=Fi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=Pi(o.type,o.key,o.props,null,e.mode,c),Ja(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ri(o,e.mode,c),c.return=e,e=c}return s(e);case ie:return o=Va(o),b(e,r,o,c)}if(de(o))return h(e,r,o,c);if(ce(o)){if(l=ce(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,qa(o),c);if(o.$$typeof===te)return b(e,r,_a(e,o),c);Ya(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=Ii(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ka=0;var i=b(e,t,n,r);return Ga=null,i}catch(t){if(t===Ia||t===Ra)throw t;var a=Ai(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Za=Xa(!0),Qa=Xa(!1),$a=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function to(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function no(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Di(e),Ei(e,null,n),t}return Ci(e,r,t,n),Di(e)}function io(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var oo=!1;function so(){if(oo){var e=Oa;if(e!==null)throw e}}function co(e,t,n,r){oo=!1;var i=e.updateQueue;$a=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(K&f)===f:(r&f)===f){f!==0&&f===Da&&(oo=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:$a=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),su|=o,e.lanes=o,e.memoizedState=d}}function lo(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function uo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)lo(n[e],t)}var fo=he(null),po=he(0);function mo(e,t){e=au,E(po,e),E(fo,t),au=e|t.baseLanes}function ho(){E(po,au),E(fo,fo.current)}function go(){au=po.current,ge(fo),ge(po)}var _o=he(null),vo=null;function yo(e){var t=e.alternate;E(wo,wo.current&1),E(_o,e),vo===null&&(t===null||fo.current!==null||t.memoizedState!==null)&&(vo=e)}function bo(e){E(wo,wo.current),E(_o,e),vo===null&&(vo=e)}function xo(e){e.tag===22?(E(wo,wo.current),E(_o,e),vo===null&&(vo=e)):So(e)}function So(){E(wo,wo.current),E(_o,_o.current)}function Co(e){ge(_o),vo===e&&(vo=null),ge(wo)}var wo=he(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xf(n)||Sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eo=0,R=null,z=null,Do=null,Oo=!1,ko=!1,Ao=!1,jo=0,Mo=0,No=null,Po=0;function B(){throw Error(i(321))}function Fo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,a){return Eo=a,R=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?tc:nc,Ao=!1,a=n(r,i),Ao=!1,ko&&(a=Ro(t,n,r,i)),Lo(e),a}function Lo(e){w.H=ec;var t=z!==null&&z.next!==null;if(Eo=0,Do=z=R=null,Oo=!1,Mo=0,No=null,t)throw Error(i(300));e===null||yc||(e=e.dependencies,e!==null&&ma(e)&&(yc=!0))}function Ro(e,t,n,r){R=e;var a=0;do{if(ko&&(No=null),Mo=0,ko=!1,25<=a)throw Error(i(301));if(a+=1,Do=z=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}w.H=rc,o=t(n,r)}while(ko);return o}function zo(){var e=w.H,t=e.useState()[0];return t=typeof t.then==`function`?Ko(t):t,e=e.useState()[0],(z===null?null:z.memoizedState)!==e&&(R.flags|=1024),t}function Bo(){var e=jo!==0;return jo=0,e}function Vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ho(e){if(Oo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oo=!1}Eo=0,Do=z=R=null,ko=!1,Mo=jo=0,No=null}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Do===null?R.memoizedState=Do=e:Do=Do.next=e,Do}function Wo(){if(z===null){var e=R.alternate;e=e===null?null:e.memoizedState}else e=z.next;var t=Do===null?R.memoizedState:Do.next;if(t!==null)Do=t,z=e;else{if(e===null)throw R.alternate===null?Error(i(467)):Error(i(310));z=e,e={memoizedState:z.memoizedState,baseState:z.baseState,baseQueue:z.baseQueue,queue:z.queue,next:null},Do===null?R.memoizedState=Do=e:Do=Do.next=e}return Do}function Go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var t=Mo;return Mo+=1,No===null&&(No=[]),e=Ba(No,e,t),t=R,(Do===null?t.memoizedState:Do.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?tc:nc),e}function qo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Ko(e);if(e.$$typeof===te)return ga(e)}throw Error(i(438,String(e)))}function Jo(e){var t=null,n=R.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=R.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Go(),R.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=oe;return t.index++,n}function Yo(e,t){return typeof t==`function`?t(e):t}function Xo(e){var t=Wo();return Zo(t,z,e)}function Zo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(Eo&f)===f:(K&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Da&&(d=!0);else if((Eo&p)===p){u=u.next,p===Da&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,R.lanes|=p,su|=p;f=u.action,Ao&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,R.lanes|=f,su|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Wr(o,e.memoizedState)&&(yc=!0,d&&(n=Oa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Qo(e){var t=Wo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Wr(o,t.memoizedState)||(yc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $o(e,t,n){var r=R,a=Wo(),o=P;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Wr((z||a).memoizedState,n);if(s&&(a.memoizedState=n,yc=!0),a=a.queue,Es(ns.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||Do!==null&&Do.memoizedState.tag&1){if(r.flags|=2048,xs(9,{destroy:void 0},ts.bind(null,r,a,n,t),null),W===null)throw Error(i(349));o||Eo&127||es(r,t,n)}return n}function es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=R.updateQueue,t===null?(t=Go(),R.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ts(e,t,n,r){t.value=n,t.getSnapshot=r,rs(t)&&os(e)}function ns(e,t,n){return n(function(){rs(t)&&os(e)})}function rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wr(e,n)}catch{return!0}}function os(e){var t=Ti(e,2);t!==null&&Au(t,e,2)}function ss(e){var t=Uo();if(typeof e==`function`){var n=e;if(e=n(),Ao){Je(!0);try{n()}finally{Je(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t}function cs(e,t,n,r){return e.baseState=n,Zo(e,z,typeof r==`function`?r:Yo)}function ls(e,t,n,r,a){if(Zs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};w.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,us(t,o)):(o.next=n.next,t.pending=n.next=o)}}function us(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=w.T,o={};w.T=o;try{var s=n(i,r),c=w.S;c!==null&&c(o,s),ds(e,t,s)}catch(n){ps(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),w.T=a}}else try{a=n(i,r),ds(e,t,a)}catch(n){ps(e,t,n)}}function ds(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){fs(e,t,n)},function(n){return ps(e,t,n)}):fs(e,t,n)}function fs(e,t,n){t.status=`fulfilled`,t.value=n,ms(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,us(e,n)))}function ps(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,ms(t),t=t.next;while(t!==r)}e.action=null}function ms(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hs(e,t){return t}function gs(e,t){if(P){var n=W.formState;if(n!==null){a:{var r=R;if(P){if(N){b:{for(var i=N,a=Qi;i.nodeType!==8;){if(!a){i=null;break b}if(i=wf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){N=wf(i.nextSibling),r=i.data===`F!`;break a}}ea(r)}r=!1}r&&(t=n[0])}}return n=Uo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},n.queue=r,n=Js.bind(null,R,r),r.dispatch=n,r=ss(!1),a=Xs.bind(null,R,!1,r.queue),r=Uo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=ls.bind(null,R,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function _s(e){var t=Wo();return vs(t,z,e)}function vs(e,t,n){if(t=Zo(e,t,hs)[0],e=Xo(Yo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Ko(t)}catch(e){throw e===Ia?Ra:e}else r=t;t=Wo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(R.flags|=2048,xs(9,{destroy:void 0},ys.bind(null,i,n),null)),[r,a,e]}function ys(e,t){e.action=t}function bs(e){var t=Wo(),n=z;if(n!==null)return vs(t,n,e);Wo(),t=t.memoizedState,n=Wo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function xs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=R.updateQueue,t===null&&(t=Go(),R.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ss(){return Wo().memoizedState}function Cs(e,t,n,r){var i=Uo();R.flags|=e,i.memoizedState=xs(1|t,{destroy:void 0},n,r===void 0?null:r)}function ws(e,t,n,r){var i=Wo();r=r===void 0?null:r;var a=i.memoizedState.inst;z!==null&&r!==null&&Fo(r,z.memoizedState.deps)?i.memoizedState=xs(t,a,n,r):(R.flags|=e,i.memoizedState=xs(1|t,a,n,r))}function Ts(e,t){Cs(8390656,8,e,t)}function Es(e,t){ws(2048,8,e,t)}function Ds(e){R.flags|=4;var t=R.updateQueue;if(t===null)t=Go(),R.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Os(e){var t=Wo().memoizedState;return Ds({ref:t,nextImpl:e}),function(){if(U&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ks(e,t){return ws(4,2,e,t)}function As(e,t){return ws(4,4,e,t)}function js(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ms(e,t,n){n=n==null?null:n.concat([e]),ws(4,4,js.bind(null,t,e),n)}function Ns(){}function Ps(e,t){var n=Wo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fs(e,t){var n=Wo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Fo(t,r[1]))return r[0];if(r=e(),Ao){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[r,t],r}function Is(e,t,n){return n===void 0||Eo&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=n,e=ku(),R.lanes|=e,su|=e,n)}function Ls(e,t,n,r){return Wr(n,t)?n:fo.current===null?!(Eo&42)||Eo&1073741824&&!(K&261930)?(yc=!0,e.memoizedState=n):(e=ku(),R.lanes|=e,su|=e,t):(e=Is(e,n,r),Wr(e,t)||(yc=!0),e)}function Rs(e,t,n,r,i){var a=T.p;T.p=a!==0&&8>a?a:8;var o=w.T,s={};w.T=s,Xs(e,!1,t,n);try{var c=i(),l=w.S;if(l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`){var u=ja(c,r);Ys(e,t,u,Ou(e))}else Ys(e,t,r,Ou(e))}catch(n){Ys(e,t,{then:function(){},status:`rejected`,reason:n},Ou())}finally{T.p=a,o!==null&&s.types!==null&&(o.types=s.types),w.T=o}}function zs(){}function Bs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Vs(e).queue;Rs(e,a,t,fe,n===null?zs:function(){return Hs(e),n(r)})}function Vs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:fe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hs(e){var t=Vs(e);t.next===null&&(t=e.alternate.memoizedState),Ys(e,t.next.queue,{},Ou())}function Us(){return ga(mp)}function Ws(){return Wo().memoizedState}function Gs(){return Wo().memoizedState}function Ks(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ou();e=no(n);var r=ro(t,e,n);r!==null&&(Au(r,t,n),io(r,t,n)),t={cache:Ca()},e.payload=t;return}t=t.return}}function qs(e,t,n){var r=Ou();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zs(e)?Qs(t,n):(n=wi(e,t,n,r),n!==null&&(Au(n,e,r),$s(n,t,r)))}function Js(e,t,n){var r=Ou();Ys(e,t,n,r)}function Ys(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zs(e))Qs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Wr(s,o))return Ci(e,t,i,0),W===null&&Si(),!1}catch{}if(n=wi(e,t,i,r),n!==null)return Au(n,e,r),$s(n,t,r),!0}return!1}function Xs(e,t,n,r){if(r={lane:2,revertLane:wd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zs(e)){if(t)throw Error(i(479))}else t=wi(e,n,r,2),t!==null&&Au(t,e,2)}function Zs(e){var t=e.alternate;return e===R||t!==null&&t===R}function Qs(e,t){ko=Oo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}var ec={readContext:ga,use:qo,useCallback:B,useContext:B,useEffect:B,useImperativeHandle:B,useLayoutEffect:B,useInsertionEffect:B,useMemo:B,useReducer:B,useRef:B,useState:B,useDebugValue:B,useDeferredValue:B,useTransition:B,useSyncExternalStore:B,useId:B,useHostTransitionStatus:B,useFormState:B,useActionState:B,useOptimistic:B,useMemoCache:B,useCacheRefresh:B};ec.useEffectEvent=B;var tc={readContext:ga,use:qo,useCallback:function(e,t){return Uo().memoizedState=[e,t===void 0?null:t],e},useContext:ga,useEffect:Ts,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),Cs(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){Cs(4,2,e,t)},useMemo:function(e,t){var n=Uo();t=t===void 0?null:t;var r=e();if(Ao){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Uo();if(n!==void 0){var i=n(t);if(Ao){Je(!0);try{n(t)}finally{Je(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=qs.bind(null,R,e),[r.memoizedState,e]},useRef:function(e){var t=Uo();return e={current:e},t.memoizedState=e},useState:function(e){e=ss(e);var t=e.queue,n=Js.bind(null,R,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ns,useDeferredValue:function(e,t){var n=Uo();return Is(n,e,t)},useTransition:function(){var e=ss(!1);return e=Rs.bind(null,R,e.queue,!0,!1),Uo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=R,a=Uo();if(P){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),W===null)throw Error(i(349));K&127||es(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Ts(ns.bind(null,r,o,e),[e]),r.flags|=2048,xs(9,{destroy:void 0},ts.bind(null,r,o,n,t),null),n},useId:function(){var e=Uo(),t=W.identifierPrefix;if(P){var n=Ki,r=A;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=jo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Po++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Us,useFormState:gs,useActionState:gs,useOptimistic:function(e){var t=Uo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Xs.bind(null,R,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jo,useCacheRefresh:function(){return Uo().memoizedState=Ks.bind(null,R)},useEffectEvent:function(e){var t=Uo(),n={impl:e};return t.memoizedState=n,function(){if(U&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},nc={readContext:ga,use:qo,useCallback:Ps,useContext:ga,useEffect:Es,useImperativeHandle:Ms,useInsertionEffect:ks,useLayoutEffect:As,useMemo:Fs,useReducer:Xo,useRef:Ss,useState:function(){return Xo(Yo)},useDebugValue:Ns,useDeferredValue:function(e,t){var n=Wo();return Ls(n,z.memoizedState,e,t)},useTransition:function(){var e=Xo(Yo)[0],t=Wo().memoizedState;return[typeof e==`boolean`?e:Ko(e),t]},useSyncExternalStore:$o,useId:Ws,useHostTransitionStatus:Us,useFormState:_s,useActionState:_s,useOptimistic:function(e,t){var n=Wo();return cs(n,z,e,t)},useMemoCache:Jo,useCacheRefresh:Gs};nc.useEffectEvent=Os;var rc={readContext:ga,use:qo,useCallback:Ps,useContext:ga,useEffect:Es,useImperativeHandle:Ms,useInsertionEffect:ks,useLayoutEffect:As,useMemo:Fs,useReducer:Qo,useRef:Ss,useState:function(){return Qo(Yo)},useDebugValue:Ns,useDeferredValue:function(e,t){var n=Wo();return z===null?Is(n,e,t):Ls(n,z.memoizedState,e,t)},useTransition:function(){var e=Qo(Yo)[0],t=Wo().memoizedState;return[typeof e==`boolean`?e:Ko(e),t]},useSyncExternalStore:$o,useId:Ws,useHostTransitionStatus:Us,useFormState:bs,useActionState:bs,useOptimistic:function(e,t){var n=Wo();return z===null?(n.baseState=e,[e,n.queue.dispatch]):cs(n,z,e,t)},useMemoCache:Jo,useCacheRefresh:Gs};rc.useEffectEvent=Os;function ic(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ac={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ou(),i=no(r);i.payload=t,n!=null&&(i.callback=n),t=ro(e,i,r),t!==null&&(Au(t,e,r),io(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ou(),i=no(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ro(e,i,r),t!==null&&(Au(t,e,r),io(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ou(),r=no(n);r.tag=2,t!=null&&(r.callback=t),t=ro(e,r,n),t!==null&&(Au(t,e,n),io(t,e,n))}};function oc(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Gr(n,r)||!Gr(i,a):!0}function sc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ac.enqueueReplaceState(t,t.state,null)}function cc(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function lc(e){vi(e)}function uc(e){console.error(e)}function dc(e){vi(e)}function fc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function pc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function mc(e,t,n){return n=no(n),n.tag=3,n.payload={element:null},n.callback=function(){fc(e,t)},n}function hc(e){return e=no(e),e.tag=3,e}function gc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){pc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){pc(t,n,r),typeof i!=`function`&&(yu===null?yu=new Set([this]):yu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function _c(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&pa(t,n,a,!0),n=_o.current,n!==null){switch(n.tag){case 31:case 13:return vo===null?Y():n.alternate===null&&ou===0&&(ou=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===za?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),id(e,r,a)),!1;case 22:return n.flags|=65536,r===za?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),id(e,r,a)),!1}throw Error(i(435,n.tag))}return id(e,r,a),Y(),!1}if(P)return t=_o.current,t===null?(r!==$i&&(t=Error(i(423),{cause:r}),oa(Bi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Bi(r,n),a=mc(e.stateNode,r,a),ao(e,a),ou!==4&&(ou=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==$i&&(e=Error(i(422),{cause:r}),oa(Bi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Bi(o,n),fu===null?fu=[o]:fu.push(o),ou!==4&&(ou=2),t===null)return!0;r=Bi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=mc(n.stateNode,r,e),ao(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(yu===null||!yu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=hc(a),gc(a,e,n,r),ao(n,a),!1}n=n.return}while(n!==null);return!1}var vc=Error(i(461)),yc=!1;function bc(e,t,n,r){t.child=e===null?Qa(t,null,n,r):Za(t,e.child,n,r)}function xc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ha(t),r=Io(e,t,n,o,a,i),s=Bo(),e!==null&&!yc?(Vo(e,t,i),Gc(e,t,i)):(P&&s&&Ji(t),t.flags|=1,bc(e,t,r,i),t.child)}function Sc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ji(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,Cc(e,t,a,r,i)):(e=Pi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Kc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Gr:n,n(o,r)&&e.ref===t.ref)return Gc(e,t,i)}return t.flags|=1,e=Mi(a,r),e.ref=t.ref,e.return=t,t.child=e}function Cc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Gr(a,r)&&e.ref===t.ref)if(yc=!1,t.pendingProps=r=a,Kc(e,i))e.flags&131072&&(yc=!0);else return t.lanes=e.lanes,Gc(e,t,i)}return jc(e,t,n,r,i)}function wc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Ec(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pa(t,a===null?null:a.cachePool),a===null?ho():mo(t,a),xo(t);else return r=t.lanes=536870912,Ec(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Pa(t,null),ho(),So(t)):(Pa(t,a.cachePool),mo(t,a),So(t),t.memoizedState=null);return bc(e,t,i,n),t.child}function Tc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ec(e,t,n,r,i){var a=Na();return a=a===null?null:{parent:Sa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Pa(t,null),ho(),xo(t),e!==null&&pa(e,t,r,!0),t.childLanes=i,null}function Dc(e,t){return t=Bc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Oc(e,t,n){return Za(t,e.child,null,n),e=Dc(t,t.pendingProps),e.flags|=2,Co(t),t.memoizedState=null,e}function kc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(P){if(r.mode===`hidden`)return e=Dc(t,r),t.lanes=536870912,Tc(null,e);if(bo(t),(e=N)?(e=bf(e,Qi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:k===null?null:{id:A,overflow:Ki},retryLane:536870912,hydrationErrors:null},n=Li(e),n.return=t,t.child=n,M=t,N=null)):e=null,e===null)throw ea(t);return t.lanes=536870912,null}return Dc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(bo(t),a)if(t.flags&256)t.flags&=-257,t=Oc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(yc||pa(e,t,n,!1),a=(n&e.childLanes)!==0,yc||a){if(r=W,r!==null&&(s=dt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Ti(e,s),Au(r,e,s),vc;Y(),t=Oc(e,t,n)}else e=o.treeContext,N=wf(s.nextSibling),M=t,P=!0,Zi=null,Qi=!1,e!==null&&Xi(t,e),t=Dc(t,r),t.flags|=4096;return t}return e=Mi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ac(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jc(e,t,n,r,i){return ha(t),n=Io(e,t,n,r,void 0,i),r=Bo(),e!==null&&!yc?(Vo(e,t,i),Gc(e,t,i)):(P&&r&&Ji(t),t.flags|=1,bc(e,t,n,i),t.child)}function Mc(e,t,n,r,i,a){return ha(t),t.updateQueue=null,n=Ro(t,r,n,i),Lo(e),r=Bo(),e!==null&&!yc?(Vo(e,t,a),Gc(e,t,a)):(P&&r&&Ji(t),t.flags|=1,bc(e,t,n,a),t.child)}function Nc(e,t,n,r,i){if(ha(t),t.stateNode===null){var a=Oi,o=n.contextType;typeof o==`object`&&o&&(a=ga(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ac,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},eo(t),o=n.contextType,a.context=typeof o==`object`&&o?ga(o):Oi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(ic(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&ac.enqueueReplaceState(a,a.state,null),co(t,r,a,i),so(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=cc(n,s);a.props=c;var l=a.context,u=n.contextType;o=Oi,typeof u==`object`&&u&&(o=ga(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&sc(t,a,r,o),$a=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),so(),l=t.memoizedState,s||f!==l||$a?(typeof d==`function`&&(ic(t,n,d,r),l=t.memoizedState),(c=$a||oc(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,to(e,t),o=t.memoizedProps,u=cc(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=Oi,typeof l==`object`&&l&&(c=ga(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&sc(t,a,r,c),$a=!1,f=t.memoizedState,a.state=f,co(t,r,a,i),so();var p=t.memoizedState;o!==d||f!==p||$a||e!==null&&e.dependencies!==null&&ma(e.dependencies)?(typeof s==`function`&&(ic(t,n,s,r),p=t.memoizedState),(u=$a||oc(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ma(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ac(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Za(t,e.child,null,i),t.child=Za(t,null,n,i)):bc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Gc(e,t,i),e}function Pc(e,t,n,r){return ia(),t.flags|=256,bc(e,t,n,r),t.child}var Fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ic(e){return{baseLanes:e,cachePool:Fa()}}function Lc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=uu),e}function Rc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(wo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(P){if(a?yo(t):So(t),(e=N)?(e=bf(e,Qi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:k===null?null:{id:A,overflow:Ki},retryLane:536870912,hydrationErrors:null},n=Li(e),n.return=t,t.child=n,M=t,N=null)):e=null,e===null)throw ea(t);return Sf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(So(t),a=t.mode,c=Bc({mode:`hidden`,children:c},a),r=Fi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Ic(n),r.childLanes=Lc(e,s,n),t.memoizedState=Fc,Tc(null,r)):(yo(t),zc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(yo(t),t.flags&=-257,t=Vc(e,t,n)):t.memoizedState===null?(So(t),c=r.fallback,a=t.mode,r=Bc({mode:`visible`,children:r.children},a),c=Fi(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Za(t,e.child,null,n),r=t.child,r.memoizedState=Ic(n),r.childLanes=Lc(e,s,n),t.memoizedState=Fc,t=Tc(null,r)):(So(t),t.child=e.child,t.flags|=128,t=null);else if(yo(t),Sf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,oa({value:r,source:null,stack:null}),t=Vc(e,t,n)}else if(yc||pa(e,t,n,!1),s=(n&e.childLanes)!==0,yc||s){if(s=W,s!==null&&(r=dt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Ti(e,r),Au(s,e,r),vc;xf(c)||Y(),t=Vc(e,t,n)}else xf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,N=wf(c.nextSibling),M=t,P=!0,Zi=null,Qi=!1,e!==null&&Xi(t,e),t=zc(t,r.children),t.flags|=4096);return t}return a?(So(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=Mi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=Fi(c,a,n,null),c.flags|=2):c=Mi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,Tc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Ic(n):(a=c.cachePool,a===null?a=Fa():(l=Sa._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Lc(e,s,n),t.memoizedState=Fc,Tc(e.child,r)):(yo(t),n=e.child,e=n.sibling,n=Mi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function zc(e,t){return t=Bc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Bc(e,t){return e=Ai(22,e,null,t),e.lanes=0,e}function Vc(e,t,n){return Za(t,e.child,null,n),e=zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fa(e.return,t,n)}function Uc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Wc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=wo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,E(wo,o),bc(e,t,r,n),r=P?Wi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,n,t);else if(e.tag===19)Hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&To(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&To(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uc(t,!0,n,null,a,r);break;case`together`:Uc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Gc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),su|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(pa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Mi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ma(e))):!0}function qc(e,t,n){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),ua(t,Sa,e.memoizedState.cache),ia();break;case 27:case 5:Ce(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:ua(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(yo(t),e=Gc(e,t,n),e===null?null:e.sibling):Rc(e,t,n):(yo(t),t.flags|=128,null);yo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(pa(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Wc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),E(wo,wo.current),r)break;return null;case 22:return t.lanes=0,wc(e,t,n,t.pendingProps);case 24:ua(t,Sa,e.memoizedState.cache)}return Gc(e,t,n)}function Jc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)yc=!0;else{if(!Kc(e,n)&&!(t.flags&128))return yc=!1,qc(e,t,n);yc=!!(e.flags&131072)}else yc=!1,P&&t.flags&1048576&&qi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Va(t.elementType),t.type=e,typeof e==`function`)ji(e)?(r=cc(e,r),t.tag=1,t=Nc(null,t,e,r,n)):(t.tag=0,t=jc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===S){t.tag=11,t=xc(null,t,e,r,n);break a}else if(a===re){t.tag=14,t=Sc(null,t,e,r,n);break a}}throw t=ue(e)||e,Error(i(306,t,``))}}return t;case 0:return jc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=cc(r,t.pendingProps),Nc(e,t,r,a,n);case 3:a:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,to(e,t),co(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ua(t,Sa,r),r!==o.cache&&F(t,[Sa],n,!0),so(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Pc(e,t,r,n);break a}else if(r!==a){a=Bi(Error(i(424)),t),oa(a),t=Pc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(N=wf(e.firstChild),M=t,P=!0,Zi=null,Qi=!0,n=Qa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ia(),r===a){t=Gc(e,t,n);break a}bc(e,t,r,n)}t=t.child}return t;case 26:return Ac(e,t),e===null?(n=Gf(t.type,null,t.pendingProps,null))?t.memoizedState=n:P||(n=t.type,e=t.pendingProps,r=tf(ye.current).createElement(n),r[_t]=t,r[vt]=e,Yd(r,n,e),At(r),t.stateNode=r):t.memoizedState=Gf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&P&&(r=t.stateNode=Of(t.type,t.pendingProps,ye.current),M=t,Qi=!0,a=N,mf(t.type)?(Tf=a,N=wf(r.firstChild)):N=a),bc(e,t,t.pendingProps.children,n),Ac(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&P&&((a=r=N)&&(r=vf(r,t.type,t.pendingProps,Qi),r===null?a=!1:(t.stateNode=r,M=t,N=wf(r.firstChild),Qi=!1,a=!0)),a||ea(t)),Ce(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,af(a,o)?r=null:s!==null&&af(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=Io(e,t,zo,null,null,n),mp._currentValue=a),Ac(e,t),bc(e,t,r,n),t.child;case 6:return e===null&&P&&((e=n=N)&&(n=yf(n,t.pendingProps,Qi),n===null?e=!1:(t.stateNode=n,M=t,N=null,e=!0)),e||ea(t)),null;case 13:return Rc(e,t,n);case 4:return xe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Za(t,null,r,n):bc(e,t,r,n),t.child;case 11:return xc(e,t,t.type,t.pendingProps,n);case 7:return bc(e,t,t.pendingProps,n),t.child;case 8:return bc(e,t,t.pendingProps.children,n),t.child;case 12:return bc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ua(t,t.type,r.value),bc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ha(t),a=ga(a),r=r(a),t.flags|=1,bc(e,t,r,n),t.child;case 14:return Sc(e,t,t.type,t.pendingProps,n);case 15:return Cc(e,t,t.type,t.pendingProps,n);case 19:return Wc(e,t,n);case 31:return kc(e,t,n);case 22:return wc(e,t,n,t.pendingProps);case 24:return ha(t),r=ga(Sa),e===null?(a=Na(),a===null&&(a=W,o=Ca(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},eo(t),ua(t,Sa,a)):((e.lanes&n)!==0&&(to(e,t),co(t,null,null,n),so()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,ua(t,Sa,r),r!==a.cache&&F(t,[Sa],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ua(t,Sa,r))),bc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Yc(e){e.flags|=4}function Xc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(zu())e.flags|=8192;else throw Ha=za,La}else e.flags&=-16777217}function Zc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!op(t))if(zu())e.flags|=8192;else throw Ha=za,La}function Qc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:ot(),e.lanes|=t,du|=t)}function $c(e,t){if(!P)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function V(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function el(e,t,n){var r=t.pendingProps;switch(Yi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return V(t),null;case 1:return V(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),da(Sa),Se(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(ra(t)?Yc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,aa())),V(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Yc(t),o===null?(V(t),Xc(t,a,null,r,n)):(V(t),Zc(t,o))):o?o===e.memoizedState?(V(t),t.flags&=-16777217):(Yc(t),V(t),Zc(t,o)):(e=e.memoizedProps,e!==r&&Yc(t),V(t),Xc(t,a,e,r,n)),null;case 27:if(we(t),n=ye.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Yc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return V(t),null}e=_e.current,ra(t)?ta(t,e):(e=Of(a,r,n),t.stateNode=e,Yc(t))}return V(t),null;case 5:if(we(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Yc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return V(t),null}if(o=_e.current,ra(t))ta(t,o);else{var s=tf(ye.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[_t]=t,o[vt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Yd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Yc(t)}}return V(t),Xc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Yc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ye.current,ra(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=M,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[_t]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||qd(e.nodeValue,n)),e||ea(t,!0)}else e=tf(e).createTextNode(r),e[_t]=t,t.stateNode=e}return V(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=ra(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[_t]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;V(t),e=!1}else n=aa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Co(t),t):(Co(t),null);if(t.flags&128)throw Error(i(558))}return V(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[_t]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;V(t),a=!1}else a=aa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Co(t),t):(Co(t),null)}return Co(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Qc(t,t.updateQueue),V(t),null);case 4:return Se(),e===null&&Ld(t.stateNode.containerInfo),V(t),null;case 10:return da(t.type),V(t),null;case 19:if(ge(wo),r=t.memoizedState,r===null)return V(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)$c(r,!1);else{if(ou!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=To(e),o!==null){for(t.flags|=128,$c(r,!1),e=o.updateQueue,t.updateQueue=e,Qc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ni(n,e),n=n.sibling;return E(wo,wo.current&1|2),P&&j(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Le()>_u&&(t.flags|=128,a=!0,$c(r,!1),t.lanes=4194304)}else{if(!a)if(e=To(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Qc(t,e),$c(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!P)return V(t),null}else 2*Le()-r.renderingStartTime>_u&&n!==536870912&&(t.flags|=128,a=!0,$c(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(V(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Le(),e.sibling=null,n=wo.current,E(wo,a?n&1|2:n&1),P&&j(t,r.treeForkCount),e);case 22:case 23:return Co(t),go(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(V(t),t.subtreeFlags&6&&(t.flags|=8192)):V(t),n=t.updateQueue,n!==null&&Qc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ge(I),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),da(Sa),V(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function tl(e,t){switch(Yi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(Sa),Se(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return we(t),null;case 31:if(t.memoizedState!==null){if(Co(t),t.alternate===null)throw Error(i(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Co(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(wo),null;case 4:return Se(),null;case 10:return da(t.type),null;case 22:case 23:return Co(t),go(),e!==null&&ge(I),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(Sa),null;case 25:return null;default:return null}}function nl(e,t){switch(Yi(t),t.tag){case 3:da(Sa),Se();break;case 26:case 27:case 5:we(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&Co(t);break;case 13:Co(t);break;case 19:ge(wo);break;case 10:da(t.type);break;case 22:case 23:Co(t),go(),e!==null&&ge(I);break;case 24:da(Sa)}}function rl(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Z(t,t.return,e)}}function il(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Z(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Z(t,t.return,e)}}function al(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{uo(t,n)}catch(t){Z(e,e.return,t)}}}function ol(e,t,n){n.props=cc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Z(e,t,n)}}function sl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Z(e,t,n)}}function cl(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Z(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Z(e,t,n)}else n.current=null}function ll(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Z(e,e.return,t)}}function ul(e,t,n){try{var r=e.stateNode;Xd(r,e.type,n,t),r[vt]=t}catch(t){Z(e,e.return,t)}}function dl(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mf(e.type)||e.tag===4}function fl(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mf(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dn));else if(r!==4&&(r===27&&mf(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}function ml(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&mf(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ml(e,t,n),e=e.sibling;e!==null;)ml(e,t,n),e=e.sibling}function hl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Yd(t,r,n),t[_t]=e,t[vt]=n}catch(t){Z(e,e.return,t)}}var gl=!1,_l=!1,vl=!1,yl=typeof WeakSet==`function`?WeakSet:Set,bl=null;function xl(e,t){if(e=e.containerInfo,$d=Cp,e=Yr(e),Xr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(ef={focusedElem:e,selectionRange:n},Cp=!1,bl=t;bl!==null;)if(t=bl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,bl=e;else for(;bl!==null;){switch(t=bl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=cc(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Z(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_f(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:_f(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,bl=e;break}bl=t.return}}function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Il(e,n),r&4&&rl(5,n);break;case 1:if(Il(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Z(n,n.return,e)}else{var i=cc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Z(n,n.return,e)}}r&64&&al(n),r&512&&sl(n,n.return);break;case 3:if(Il(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{uo(e,t)}catch(e){Z(n,n.return,e)}}break;case 27:t===null&&r&4&&hl(n);case 26:case 5:Il(e,n),t===null&&r&4&&ll(n),r&512&&sl(n,n.return);break;case 12:Il(e,n);break;case 31:Il(e,n),r&4&&Dl(e,n);break;case 13:Il(e,n),r&4&&Ol(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=sd.bind(null,n),Cf(e,n))));break;case 22:if(r=n.memoizedState!==null||gl,!r){t=t!==null&&t.memoizedState!==null||_l,i=gl;var a=_l;gl=r,(_l=t)&&!a?Rl(e,n,(n.subtreeFlags&8772)!=0):Il(e,n),gl=i,_l=a}break;case 30:break;default:Il(e,n)}}function Cl(e){var t=e.alternate;t!==null&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var H=null,wl=!1;function Tl(e,t,n){for(n=n.child;n!==null;)El(e,t,n),n=n.sibling}function El(e,t,n){if(qe&&typeof qe.onCommitFiberUnmount==`function`)try{qe.onCommitFiberUnmount(Ke,n)}catch{}switch(n.tag){case 26:_l||cl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_l||cl(n,t);var r=H,i=wl;mf(n.type)&&(H=n.stateNode,wl=!1),Tl(e,t,n),kf(n.stateNode),H=r,wl=i;break;case 5:_l||cl(n,t);case 6:if(r=H,i=wl,H=null,Tl(e,t,n),H=r,wl=i,H!==null)if(wl)try{(H.nodeType===9?H.body:H.nodeName===`HTML`?H.ownerDocument.body:H).removeChild(n.stateNode)}catch(e){Z(n,t,e)}else try{H.removeChild(n.stateNode)}catch(e){Z(n,t,e)}break;case 18:H!==null&&(wl?(e=H,hf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Yp(e)):hf(H,n.stateNode));break;case 4:r=H,i=wl,H=n.stateNode.containerInfo,wl=!0,Tl(e,t,n),H=r,wl=i;break;case 0:case 11:case 14:case 15:il(2,n,t),_l||il(4,n,t),Tl(e,t,n);break;case 1:_l||(cl(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&ol(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:_l=(r=_l)||n.memoizedState!==null,Tl(e,t,n),_l=r;break;default:Tl(e,t,n)}}function Dl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Yp(e)}catch(e){Z(t,t.return,e)}}}function Ol(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yp(e)}catch(e){Z(t,t.return,e)}}function kl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yl),t;default:throw Error(i(435,e.tag))}}function Al(e,t){var n=kl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=cd.bind(null,e,t);t.then(r,r)}})}function jl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(mf(c.type)){H=c.stateNode,wl=!1;break a}break;case 5:H=c.stateNode,wl=!1;break a;case 3:case 4:H=c.stateNode.containerInfo,wl=!0;break a}c=c.return}if(H===null)throw Error(i(160));El(o,s,a),H=null,wl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Nl(t,e),t=t.sibling}var Ml=null;function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jl(t,e),Pl(e),r&4&&(il(3,e,e.return),rl(3,e),il(5,e,e.return));break;case 1:jl(t,e),Pl(e),r&512&&(_l||n===null||cl(n,n.return)),r&64&&gl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Ml;if(jl(t,e),Pl(e),r&512&&(_l||n===null||cl(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[wt]||o[_t]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Yd(o,r,n),o[_t]=e,At(o),r=o;break a;case`link`:var s=rp(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Yd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=rp(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Yd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[_t]=e,At(o),r=o}e.stateNode=r}else ip(a,e.type,e.stateNode);else e.stateNode=Qf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&ul(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?ip(a,e.type,e.stateNode):Qf(a,r,e.memoizedProps))}break;case 27:jl(t,e),Pl(e),r&512&&(_l||n===null||cl(n,n.return)),n!==null&&r&4&&ul(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jl(t,e),Pl(e),r&512&&(_l||n===null||cl(n,n.return)),e.flags&32){a=e.stateNode;try{nn(a,``)}catch(t){Z(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,ul(e,a,n===null?a:n.memoizedProps)),r&1024&&(vl=!0);break;case 6:if(jl(t,e),Pl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Z(e,e.return,t)}}break;case 3:if(np=null,a=Ml,Ml=Mf(t.containerInfo),jl(t,e),Ml=a,Pl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yp(t.containerInfo)}catch(t){Z(e,e.return,t)}vl&&(vl=!1,Fl(e));break;case 4:r=Ml,Ml=Mf(e.stateNode.containerInfo),jl(t,e),Pl(e),Ml=r;break;case 12:jl(t,e),Pl(e);break;case 31:jl(t,e),Pl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Al(e,r)));break;case 13:jl(t,e),Pl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hu=Le()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Al(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=gl,d=_l;if(gl=u||a,_l=d||l,jl(t,e),_l=d,gl=u,Pl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||gl||_l||Ll(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Z(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Z(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?gf(m,!0):gf(l.stateNode,!1)}catch(e){Z(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Al(e,n))));break;case 19:jl(t,e),Pl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Al(e,r)));break;case 30:break;case 21:break;default:jl(t,e),Pl(e)}}function Pl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(dl(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode,o=fl(e);ml(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(nn(s,``),n.flags&=-33);var c=fl(e);ml(e,c,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=fl(e);pl(e,u,l);break;default:throw Error(i(161))}}catch(t){Z(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Il(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sl(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:il(4,t,t.return),Ll(t);break;case 1:cl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&ol(t,t.return,n),Ll(t);break;case 27:kf(t.stateNode);case 26:case 5:cl(t,t.return),Ll(t);break;case 22:t.memoizedState===null&&Ll(t);break;case 30:Ll(t);break;default:Ll(t)}e=e.sibling}}function Rl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Rl(i,a,n),rl(4,a);break;case 1:if(Rl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Z(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)lo(c[i],s)}catch(e){Z(r,r.return,e)}}n&&o&64&&al(a),sl(a,a.return);break;case 27:hl(a);case 26:case 5:Rl(i,a,n),n&&r===null&&o&4&&ll(a),sl(a,a.return);break;case 12:Rl(i,a,n);break;case 31:Rl(i,a,n),n&&o&4&&Dl(i,a);break;case 13:Rl(i,a,n),n&&o&4&&Ol(i,a);break;case 22:a.memoizedState===null&&Rl(i,a,n),sl(a,a.return);break;case 30:break;default:Rl(i,a,n)}t=t.sibling}}function zl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wa(n))}function Bl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wa(e))}function Vl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),i&2048&&rl(9,t);break;case 1:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wa(e)));break;case 12:if(i&2048){Vl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Z(t,t.return,e)}}else Vl(e,t,n,r);break;case 31:Vl(e,t,n,r);break;case 13:Vl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Vl(e,t,n,r):(a._visibility|=2,Ul(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Vl(e,t,n,r):Wl(e,t),i&2048&&zl(o,t);break;case 24:Vl(e,t,n,r),i&2048&&Bl(t.alternate,t);break;default:Vl(e,t,n,r)}}function Ul(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Ul(a,o,s,c,i),rl(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Ul(a,o,s,c,i)):u._visibility&2?Ul(a,o,s,c,i):Wl(a,o),i&&l&2048&&zl(o.alternate,o);break;case 24:Ul(a,o,s,c,i),i&&l&2048&&Bl(o.alternate,o);break;default:Ul(a,o,s,c,i)}t=t.sibling}}function Wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),i&2048&&zl(r.alternate,r);break;case 24:Wl(n,r),i&2048&&Bl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Gl=8192;function Kl(e,t,n){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)ql(e,t,n),e=e.sibling}function ql(e,t,n){switch(e.tag){case 26:Kl(e,t,n),e.flags&Gl&&e.memoizedState!==null&&sp(n,Ml,e.memoizedState,e.memoizedProps);break;case 5:Kl(e,t,n);break;case 3:case 4:var r=Ml;Ml=Mf(e.stateNode.containerInfo),Kl(e,t,n),Ml=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Gl,Gl=16777216,Kl(e,t,n),Gl=r):Kl(e,t,n));break;default:Kl(e,t,n)}}function Jl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];bl=r,Ql(r,e)}Jl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&il(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zl(e)):Yl(e);break;default:Yl(e)}}function Zl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];bl=r,Ql(r,e)}Jl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:il(8,t,t.return),Zl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function Ql(e,t){for(;bl!==null;){var n=bl;switch(n.tag){case 0:case 11:case 15:il(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:wa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bl=r;else a:for(n=e;bl!==null;){r=bl;var i=r.sibling,a=r.return;if(Cl(r),r===n){bl=null;break a}if(i!==null){i.return=a,bl=i;break a}bl=a}}}var $l={getCacheForType:function(e){var t=ga(Sa),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ga(Sa).controller.signal}},eu=typeof WeakMap==`function`?WeakMap:Map,U=0,W=null,G=null,K=0,q=0,tu=null,nu=!1,ru=!1,iu=!1,au=0,ou=0,su=0,cu=0,lu=0,uu=0,du=0,fu=null,pu=null,mu=!1,hu=0,gu=0,_u=1/0,vu=null,yu=null,J=0,bu=null,xu=null,Su=0,Cu=0,wu=null,Tu=null,Eu=0,Du=null;function Ou(){return U&2&&K!==0?K&-K:w.T===null?mt():wd()}function ku(){if(uu===0)if(!(K&536870912)||P){var e=et;et<<=1,!(et&3932160)&&(et=262144),uu=e}else uu=536870912;return e=_o.current,e!==null&&(e.flags|=32),uu}function Au(e,t,n){(e===W&&(q===2||q===9)||e.cancelPendingCommit!==null)&&(Lu(e,0),Pu(e,K,uu,!1)),D(e,n),(!(U&2)||e!==W)&&(e===W&&(!(U&2)&&(cu|=n),ou===4&&Pu(e,K,uu,!1)),gd(e))}function ju(e,t,n){if(U&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||it(e,t),a=r?Uu(e,t):Hu(e,t,!0),o=r;do{if(a===0){ru&&!r&&Pu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Nu(n)){a=Hu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=fu;var l=c.current.memoizedState.isDehydrated;if(l&&(Lu(c,s).flags|=256),s=Hu(c,s,!1),s!==2){if(iu&&!l){c.errorRecoveryDisabledLanes|=o,cu|=o,a=4;break a}o=pu,pu=a,o!==null&&(pu===null?pu=o:pu.push.apply(pu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Lu(e,0),Pu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Pu(r,t,uu,!nu);break a;case 2:pu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=hu+300-Le(),10<a)){if(Pu(r,t,uu,!nu),rt(r,0,!0)!==0)break a;Su=t,r.timeoutHandle=lf(Mu.bind(null,r,n,pu,vu,mu,t,uu,cu,du,nu,o,`Throttled`,-0,0),a);break a}Mu(r,n,pu,vu,mu,t,uu,cu,du,nu,o,null,-0,0)}}break}while(1);gd(e)}function Mu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},ql(t,a,d);var m=(a&62914560)===a?hu-Le():(a&4194048)===a?gu-Le():0;if(m=lp(d,m),m!==null){Su=a,e.cancelPendingCommit=m(Xu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Pu(e,a,o,!l);return}}Xu(e,t,a,n,r,i,o,s,c)}function Nu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pu(e,t,n,r){t&=~lu,t&=~cu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ye(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&lt(e,n,t)}function Fu(){return U&6?!0:(_d(0,!1),!1)}function Iu(){if(G!==null){if(q===0)var e=G.return;else e=G,la=ca=null,Ho(e),Ga=null,Ka=0,e=G;for(;e!==null;)nl(e.alternate,e),e=e.return;G=null}}function Lu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,uf(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Su=0,Iu(),W=e,G=n=Mi(e.current,null),K=t,q=0,tu=null,nu=!1,ru=it(e,t),iu=!1,du=uu=lu=cu=su=ou=0,pu=fu=null,mu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ye(r),a=1<<i;t|=e[i],r&=~a}return au=t,Si(),n}function Ru(e,t){R=null,w.H=ec,t===Ia||t===Ra?(t=Ua(),q=3):t===La?(t=Ua(),q=4):q=t===vc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,tu=t,G===null&&(ou=1,fc(e,Bi(t,e.current)))}function zu(){var e=_o.current;return e===null?!0:(K&4194048)===K?vo===null:(K&62914560)===K||K&536870912?e===vo:!1}function Bu(){var e=w.H;return w.H=ec,e===null?ec:e}function Vu(){var e=w.A;return w.A=$l,e}function Y(){ou=4,nu||(K&4194048)!==K&&_o.current!==null||(ru=!0),!(su&134217727)&&!(cu&134217727)||W===null||Pu(W,K,uu,!1)}function Hu(e,t,n){var r=U;U|=2;var i=Bu(),a=Vu();(W!==e||K!==t)&&(vu=null,Lu(e,t)),t=!1;var o=ou;a:do try{if(q!==0&&G!==null){var s=G,c=tu;switch(q){case 8:Iu(),o=6;break a;case 3:case 2:case 9:case 6:_o.current===null&&(t=!0);var l=q;if(q=0,tu=null,qu(e,s,c,l),n&&ru){o=0;break a}break;default:l=q,q=0,tu=null,qu(e,s,c,l)}}X(),o=ou;break}catch(t){Ru(e,t)}while(1);return t&&e.shellSuspendCounter++,la=ca=null,U=r,w.H=i,w.A=a,G===null&&(W=null,K=0,Si()),o}function X(){for(;G!==null;)Gu(G)}function Uu(e,t){var n=U;U|=2;var r=Bu(),a=Vu();W!==e||K!==t?(vu=null,_u=Le()+500,Lu(e,t)):ru=it(e,t);a:do try{if(q!==0&&G!==null){t=G;var o=tu;b:switch(q){case 1:q=0,tu=null,qu(e,t,o,1);break;case 2:case 9:if(L(o)){q=0,tu=null,Ku(t);break}t=function(){q!==2&&q!==9||W!==e||(q=7),gd(e)},o.then(t,t);break a;case 3:q=7;break a;case 4:q=5;break a;case 7:L(o)?(q=0,tu=null,Ku(t)):(q=0,tu=null,qu(e,t,o,7));break;case 5:var s=null;switch(G.tag){case 26:s=G.memoizedState;case 5:case 27:var c=G;if(s?op(s):c.stateNode.complete){q=0,tu=null;var l=c.sibling;if(l!==null)G=l;else{var u=c.return;u===null?G=null:(G=u,Ju(u))}break b}}q=0,tu=null,qu(e,t,o,5);break;case 6:q=0,tu=null,qu(e,t,o,6);break;case 8:Iu(),ou=6;break a;default:throw Error(i(462))}}Wu();break}catch(t){Ru(e,t)}while(1);return la=ca=null,w.H=r,w.A=a,U=n,G===null?(W=null,K=0,Si(),ou):0}function Wu(){for(;G!==null&&!Fe();)Gu(G)}function Gu(e){var t=Jc(e.alternate,e,au);e.memoizedProps=e.pendingProps,t===null?Ju(e):G=t}function Ku(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mc(n,t,t.pendingProps,t.type,void 0,K);break;case 11:t=Mc(n,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:Ho(t);default:nl(n,t),t=G=Ni(t,au),t=Jc(n,t,au)}e.memoizedProps=e.pendingProps,t===null?Ju(e):G=t}function qu(e,t,n,r){la=ca=null,Ho(t),Ga=null,Ka=0;var i=t.return;try{if(_c(e,i,t,n,K)){ou=1,fc(e,Bi(n,e.current)),G=null;return}}catch(t){if(i!==null)throw G=i,t;ou=1,fc(e,Bi(n,e.current)),G=null;return}t.flags&32768?(P||r===1?e=!0:ru||K&536870912?e=!1:(nu=e=!0,(r===2||r===9||r===3||r===6)&&(r=_o.current,r!==null&&r.tag===13&&(r.flags|=16384))),Yu(t,e)):Ju(t)}function Ju(e){var t=e;do{if(t.flags&32768){Yu(t,nu);return}e=t.return;var n=el(t.alternate,t,au);if(n!==null){G=n;return}if(t=t.sibling,t!==null){G=t;return}G=t=e}while(t!==null);ou===0&&(ou=5)}function Yu(e,t){do{var n=tl(e.alternate,e);if(n!==null){n.flags&=32767,G=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){G=e;return}G=e=n}while(e!==null);ou=6,G=null}function Xu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do td();while(J!==0);if(U&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=xi,ct(e,n,o,s,c,l),e===W&&(G=W=null,K=0),xu=t,bu=e,Su=n,Cu=o,wu=a,Tu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ld(Ve,function(){return nd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=w.T,w.T=null,a=T.p,T.p=2,s=U,U|=4;try{xl(e,t,n)}finally{U=s,T.p=a,w.T=r}}J=1,Zu(),Qu(),$u()}}function Zu(){if(J===1){J=0;var e=bu,t=xu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=w.T,w.T=null;var r=T.p;T.p=2;var i=U;U|=4;try{Nl(t,e);var a=ef,o=Yr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Jr(s.ownerDocument.documentElement,s)){if(c!==null&&Xr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=qr(s,h),v=qr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Cp=!!$d,ef=$d=null}finally{U=i,T.p=r,w.T=n}}e.current=t,J=2}}function Qu(){if(J===2){J=0;var e=bu,t=xu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=w.T,w.T=null;var r=T.p;T.p=2;var i=U;U|=4;try{Sl(e,t.alternate,t)}finally{U=i,T.p=r,w.T=n}}J=3}}function $u(){if(J===4||J===3){J=0,Ie();var e=bu,t=xu,n=Su,r=Tu;t.subtreeFlags&10256||t.flags&10256?J=5:(J=0,xu=bu=null,ed(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(yu=null),pt(n),t=t.stateNode,qe&&typeof qe.onCommitFiberRoot==`function`)try{qe.onCommitFiberRoot(Ke,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=w.T,i=T.p,T.p=2,w.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{w.T=t,T.p=i}}Su&3&&td(),gd(e),i=e.pendingLanes,n&261930&&i&42?e===Du?Eu++:(Eu=0,Du=e):Eu=0,_d(0,!1)}}function ed(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wa(t)))}function td(){return Zu(),Qu(),$u(),nd()}function nd(){if(J!==5)return!1;var e=bu,t=Cu;Cu=0;var n=pt(Su),r=w.T,a=T.p;try{T.p=32>n?32:n,w.T=null,n=wu,wu=null;var o=bu,s=Su;if(J=0,xu=bu=null,Su=0,U&6)throw Error(i(331));var c=U;if(U|=4,Xl(o.current),Hl(o,o.current,s,n),U=c,_d(0,!1),qe&&typeof qe.onPostCommitFiberRoot==`function`)try{qe.onPostCommitFiberRoot(Ke,o)}catch{}return!0}finally{T.p=a,w.T=r,ed(e,t)}}function rd(e,t,n){t=Bi(n,t),t=mc(e.stateNode,t,2),e=ro(e,t,2),e!==null&&(D(e,2),gd(e))}function Z(e,t,n){if(e.tag===3)rd(e,e,n);else for(;t!==null;){if(t.tag===3){rd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(yu===null||!yu.has(r))){e=Bi(n,e),n=hc(2),r=ro(t,n,2),r!==null&&(gc(n,r,t,e),D(r,2),gd(r));break}}t=t.return}}function id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eu;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(iu=!0,i.add(n),e=ad.bind(null,e,t,n),t.then(e,e))}function ad(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,W===e&&(K&n)===n&&(ou===4||ou===3&&(K&62914560)===K&&300>Le()-hu?!(U&2)&&Lu(e,0):lu|=n,du===K&&(du=0)),gd(e)}function od(e,t){t===0&&(t=ot()),e=Ti(e,t),e!==null&&(D(e,t),gd(e))}function sd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),od(e,n)}function cd(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),od(e,n)}function ld(e,t){return Ne(e,t)}var ud=null,dd=null,fd=!1,pd=!1,md=!1,hd=0;function gd(e){e!==dd&&e.next===null&&(dd===null?ud=dd=e:dd=dd.next=e),pd=!0,fd||(fd=!0,Cd())}function _d(e,t){if(!md&&pd){md=!0;do for(var n=!1,r=ud;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ye(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Sd(r,a))}else a=K,a=rt(r,r===W?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||it(r,a)||(n=!0,Sd(r,a));r=r.next}while(n);md=!1}}function vd(){yd()}function yd(){pd=fd=!1;var e=0;hd!==0&&cf()&&(e=hd);for(var t=Le(),n=null,r=ud;r!==null;){var i=r.next,a=bd(r,t);a===0?(r.next=null,n===null?ud=i:n.next=i,i===null&&(dd=n)):(n=r,(e!==0||a&3)&&(pd=!0)),r=i}J!==0&&J!==5||_d(e,!1),hd!==0&&(hd=0)}function bd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ye(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=at(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=W,n=K,n=rt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(q===2||q===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Pe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||it(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Pe(r),pt(n)){case 2:case 8:n=Be;break;case 32:n=Ve;break;case 268435456:n=Ue;break;default:n=Ve}return r=xd.bind(null,e),n=Ne(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Pe(r),e.callbackPriority=2,e.callbackNode=null,2}function xd(e,t){if(J!==0&&J!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(td()&&e.callbackNode!==n)return null;var r=K;return r=rt(e,e===W?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ju(e,r,t),bd(e,Le()),e.callbackNode!=null&&e.callbackNode===n?xd.bind(null,e):null)}function Sd(e,t){if(td())return null;ju(e,t,!0)}function Cd(){ff(function(){U&6?Ne(ze,vd):yd()})}function wd(){if(hd===0){var e=Da;e===0&&(e=$e,$e<<=1,!($e&261888)&&($e=256)),hd=e}return hd}function Td(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:un(``+e)}function Ed(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Dd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=Td((i[vt]||null).action),o=r.submitter;o&&(t=(t=o[vt]||null)?Td(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Mn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(hd!==0){var e=o?Ed(i,o):new FormData(i);Bs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?Ed(i,o):new FormData(i),Bs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var Od=0;Od<gi.length;Od++){var kd=gi[Od],Ad=kd.toLowerCase(),jd=kd[0].toUpperCase()+kd.slice(1);_i(Ad,`on`+jd)}_i(ci,`onAnimationEnd`),_i(li,`onAnimationIteration`),_i(ui,`onAnimationStart`),_i(`dblclick`,`onDoubleClick`),_i(`focusin`,`onFocus`),_i(`focusout`,`onBlur`),_i(di,`onTransitionRun`),_i(fi,`onTransitionStart`),_i(pi,`onTransitionCancel`),_i(mi,`onTransitionEnd`),Pt(`onMouseEnter`,[`mouseout`,`mouseover`]),Pt(`onMouseLeave`,[`mouseout`,`mouseover`]),Pt(`onPointerEnter`,[`pointerout`,`pointerover`]),Pt(`onPointerLeave`,[`pointerout`,`pointerover`]),Nt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Nt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Nt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Nt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Md=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Nd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Md));function Pd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){vi(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){vi(e)}i.currentTarget=null,a=c}}}}function Q(e,t){var n=t[bt];n===void 0&&(n=t[bt]=new Set);var r=e+`__bubble`;n.has(r)||(Rd(t,e,2,!1),n.add(r))}function Fd(e,t,n){var r=0;t&&(r|=4),Rd(n,e,r,t)}var Id=`_reactListening`+Math.random().toString(36).slice(2);function Ld(e){if(!e[Id]){e[Id]=!0,jt.forEach(function(t){t!==`selectionchange`&&(Nd.has(t)||Fd(t,!1,e),Fd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Id]||(t[Id]=!0,Fd(`selectionchange`,!1,t))}}function Rd(e,t,n,r){switch(Ap(t)){case 2:var i=wp;break;case 8:i=Tp;break;default:i=Ep}n=i.bind(null,t,n,e),i=void 0,!xn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function zd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Et(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}vn(function(){var r=a,i=pn(n),s=[];a:{var c=hi.get(e);if(c!==void 0){var l=Mn,u=e;switch(e){case`keypress`:if(Dn(n)===0)break a;case`keydown`:case`keyup`:l=nr;break;case`focusin`:u=`focus`,l=Un;break;case`focusout`:u=`blur`,l=Un;break;case`beforeblur`:case`afterblur`:l=Un;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=zn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Vn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=or;break;case ci:case li:case ui:l=Gn;break;case mi:l=cr;break;case`scroll`:case`scrollend`:l=Pn;break;case`wheel`:l=ur;break;case`copy`:case`cut`:case`paste`:l=qn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=ir;break;case`toggle`:case`beforetoggle`:l=fr}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=yn(m,p),g!=null&&d.push(Bd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==fn&&(u=n.relatedTarget||n.fromElement)&&(Et(u)||u[yt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Et(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=zn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=ir,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ot(l),h=u==null?c:Ot(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Et(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Hd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ud(s,c,l,d,!1),u!==null&&f!==null&&Ud(s,f,u,d,!0)}}a:{if(c=r?Ot(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=Mr;else if(Er(c))if(Nr)v=Hr;else{v=Br;var y=zr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&sn(r.elementType)&&(v=Mr):v=Vr;if(v&&=v(e,r)){Dr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Qt(c,`number`,c.value)}switch(y=r?Ot(r):window,e){case`focusin`:(Er(y)||y.contentEditable===`true`)&&(Qr=y,$r=r,ei=null);break;case`focusout`:ei=$r=Qr=null;break;case`mousedown`:ti=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:ti=!1,ni(s,n,i);break;case`selectionchange`:if(Zr)break;case`keydown`:case`keyup`:ni(s,n,i)}var b;if(mr)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Sr?br(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(_r&&n.locale!==`ko`&&(Sr||x!==`onCompositionStart`?x===`onCompositionEnd`&&Sr&&(b=En()):(Cn=i,wn=`value`in Cn?Cn.value:Cn.textContent,Sr=!0)),y=Vd(r,x),0<y.length&&(x=new Yn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=xr(n),b!==null&&(x.data=b)))),(b=gr?Cr(e,n):wr(e,n))&&(x=Vd(r,`onBeforeInput`),0<x.length&&(y=new Yn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),Dd(s,e,r,n,i)}Pd(s,t)})}function Bd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=yn(e,n),i!=null&&r.unshift(Bd(e,i,a)),i=yn(e,t),i!=null&&r.push(Bd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Hd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ud(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=yn(n,a),l!=null&&o.unshift(Bd(n,l,c))):i||(l=yn(n,a),l!=null&&o.push(Bd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Wd=/\r\n?/g,Gd=/\u0000|\uFFFD/g;function Kd(e){return(typeof e==`string`?e:``+e).replace(Wd,`
`).replace(Gd,``)}function qd(e,t){return t=Kd(t),Kd(e)===t}function $(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&nn(e,``+r);break;case`className`:Bt(e,`class`,r);break;case`tabIndex`:Bt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Bt(e,n,r);break;case`style`:on(e,r,o);break;case`data`:if(t!==`object`){Bt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=un(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&$(e,t,`name`,a.name,a,null),$(e,t,`formEncType`,a.formEncType,a,null),$(e,t,`formMethod`,a.formMethod,a,null),$(e,t,`formTarget`,a.formTarget,a,null)):($(e,t,`encType`,a.encType,a,null),$(e,t,`method`,a.method,a,null),$(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=un(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=dn);break;case`onScroll`:r!=null&&Q(`scroll`,e);break;case`onScrollEnd`:r!=null&&Q(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=un(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Q(`beforetoggle`,e),Q(`toggle`,e),zt(e,`popover`,r);break;case`xlinkActuate`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:zt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=cn.get(n)||n,zt(e,n,r))}}function Jd(e,t,n,r,a,o){switch(n){case`style`:on(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&nn(e,``+r);break;case`onScroll`:r!=null&&Q(`scroll`,e);break;case`onScrollEnd`:r!=null&&Q(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=dn);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Mt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[vt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):zt(e,n,r)}}}function Yd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Q(`error`,e),Q(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:$(e,t,o,s,n,null)}}a&&$(e,t,`srcSet`,n.srcSet,n,null),r&&$(e,t,`src`,n.src,n,null);return;case`input`:Q(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:$(e,t,r,d,n,null)}}Zt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Q(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:$(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&$t(e,!!r,n,!0):$t(e,!!r,t,!1);return;case`textarea`:for(s in Q(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:$(e,t,s,c,n,null)}tn(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:$(e,t,l,r,n,null)}return;case`dialog`:Q(`beforetoggle`,e),Q(`toggle`,e),Q(`cancel`,e),Q(`close`,e);break;case`iframe`:case`object`:Q(`load`,e);break;case`video`:case`audio`:for(r=0;r<Md.length;r++)Q(Md[r],e);break;case`image`:Q(`error`,e),Q(`load`,e);break;case`details`:Q(`toggle`,e);break;case`embed`:case`source`:case`link`:Q(`error`,e),Q(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:$(e,t,u,r,n,null)}return;default:if(sn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Jd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&$(e,t,c,r,n,null))}function Xd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||$(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&$(e,t,p,m,r,f)}}Xt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||$(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&$(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?$t(e,!!n,n?[]:``,!1):$t(e,!!n,t,!0)):$t(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:$(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&$(e,t,s,a,r,o)}en(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:$(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:$(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&$(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:$(e,t,u,p,r,m)}return;default:if(sn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Jd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Jd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&$(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||$(e,t,f,p,r,m)}function Zd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Qd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Zd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Zd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var $d=null,ef=null;function tf(e){return e.nodeType===9?e:e.ownerDocument}function nf(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function rf(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function af(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sf=null;function cf(){var e=window.event;return e&&e.type===`popstate`?e===sf?!1:(sf=e,!0):(sf=null,!1)}var lf=typeof setTimeout==`function`?setTimeout:void 0,uf=typeof clearTimeout==`function`?clearTimeout:void 0,df=typeof Promise==`function`?Promise:void 0,ff=typeof queueMicrotask==`function`?queueMicrotask:df===void 0?lf:function(e){return df.resolve(null).then(e).catch(pf)};function pf(e){setTimeout(function(){throw e})}function mf(e){return e===`head`}function hf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Yp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)kf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,kf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[wt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&kf(e.ownerDocument.body);n=i}while(n);Yp(t)}function gf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function _f(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:_f(n),Tt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function vf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[wt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=wf(e.nextSibling),e===null)break}return null}function yf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=wf(e.nextSibling),e===null))return null;return e}function bf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=wf(e.nextSibling),e===null))return null;return e}function xf(e){return e.data===`$?`||e.data===`$~`}function Sf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function Cf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function wf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var Tf=null;function Ef(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return wf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function Df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function Of(e,t,n){switch(t=tf(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function kf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tt(e)}var Af=new Map,jf=new Set;function Mf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nf=T.d;T.d={f:Pf,r:Ff,D:Rf,C:zf,L:Bf,m:Vf,X:Uf,S:Hf,M:Wf};function Pf(){var e=Nf.f(),t=Fu();return e||t}function Ff(e){var t=Dt(e);t!==null&&t.tag===5&&t.type===`form`?Hs(t):Nf.r(e)}var If=typeof document>`u`?null:document;function Lf(e,t,n){var r=If;if(r&&typeof t==`string`&&t){var i=Yt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),jf.has(i)||(jf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Yd(t,`link`,e),At(t),r.head.appendChild(t)))}}function Rf(e){Nf.D(e),Lf(`dns-prefetch`,e,null)}function zf(e,t){Nf.C(e,t),Lf(`preconnect`,e,t)}function Bf(e,t,n){Nf.L(e,t,n);var r=If;if(r&&e&&t){var i=`link[rel="preload"][as="`+Yt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Yt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Yt(n.imageSizes)+`"]`)):i+=`[href="`+Yt(e)+`"]`;var a=i;switch(t){case`style`:a=Kf(e);break;case`script`:a=Xf(e)}Af.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Af.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(qf(a))||t===`script`&&r.querySelector(Zf(a))||(t=r.createElement(`link`),Yd(t,`link`,e),At(t),r.head.appendChild(t)))}}function Vf(e,t){Nf.m(e,t);var n=If;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Yt(r)+`"][href="`+Yt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Xf(e)}if(!Af.has(a)&&(e=h({rel:`modulepreload`,href:e},t),Af.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Zf(a)))return}r=n.createElement(`link`),Yd(r,`link`,e),At(r),n.head.appendChild(r)}}}function Hf(e,t,n){Nf.S(e,t,n);var r=If;if(r&&e){var i=kt(r).hoistableStyles,a=Kf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(qf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Af.get(a))&&ep(e,n);var c=o=r.createElement(`link`);At(c),Yd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,$f(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Uf(e,t){Nf.X(e,t);var n=If;if(n&&e){var r=kt(n).hoistableScripts,i=Xf(e),a=r.get(i);a||(a=n.querySelector(Zf(i)),a||(e=h({src:e,async:!0},t),(t=Af.get(i))&&tp(e,t),a=n.createElement(`script`),At(a),Yd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Wf(e,t){Nf.M(e,t);var n=If;if(n&&e){var r=kt(n).hoistableScripts,i=Xf(e),a=r.get(i);a||(a=n.querySelector(Zf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=Af.get(i))&&tp(e,t),a=n.createElement(`script`),At(a),Yd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Gf(e,t,n,r){var a=(a=ye.current)?Mf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Kf(n.href),n=kt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Kf(n.href);var o=kt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(qf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Af.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Af.set(e,n),o||Yf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Xf(n),n=kt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kf(e){return`href="`+Yt(e)+`"`}function qf(e){return`link[rel="stylesheet"][`+e+`]`}function Jf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Yf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Yd(t,`link`,n),At(t),e.head.appendChild(t))}function Xf(e){return`[src="`+Yt(e)+`"]`}function Zf(e){return`script[async]`+e}function Qf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Yt(n.href)+`"]`);if(r)return t.instance=r,At(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),At(r),Yd(r,`style`,a),$f(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Kf(n.href);var o=e.querySelector(qf(a));if(o)return t.state.loading|=4,t.instance=o,At(o),o;r=Jf(n),(a=Af.get(a))&&ep(r,a),o=(e.ownerDocument||e).createElement(`link`),At(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Yd(o,`link`,r),t.state.loading|=4,$f(o,n.precedence,e),t.instance=o;case`script`:return o=Xf(n.src),(a=e.querySelector(Zf(o)))?(t.instance=a,At(a),a):(r=n,(a=Af.get(o))&&(r=h({},n),tp(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),At(a),Yd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,$f(r,n.precedence,e));return t.instance}function $f(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ep(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function tp(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var np=null;function rp(e,t,n){if(np===null){var r=new Map,i=np=new Map;i.set(n,r)}else i=np,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[wt]||a[_t]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function ip(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function ap(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function op(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function sp(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Kf(r.href),a=t.querySelector(qf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=up.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,At(a);return}a=t.ownerDocument||t,r=Jf(r),(i=Af.get(i))&&ep(r,i),a=a.createElement(`link`),At(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Yd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=up.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var cp=0;function lp(e,t){return e.stylesheets&&e.count===0&&fp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&fp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&cp===0&&(cp=62500*Qd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>cp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function up(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dp=null;function fp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dp=new Map,t.forEach(pp,e),dp=null,up.call(e))}function pp(e,t){if(!(t.state.loading&4)){var n=dp.get(e);if(n)var r=n.get(null);else{n=new Map,dp.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=up.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var mp={$$typeof:te,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function hp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function gp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new hp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=Ai(3,null,null,t),e.current=a,a.stateNode=e,t=Ca(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},eo(a),e}function _p(e){return e?(e=Oi,e):Oi}function vp(e,t,n,r,i,a){i=_p(i),r.context===null?r.context=i:r.pendingContext=i,r=no(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=ro(e,r,t),n!==null&&(Au(n,e,t),io(n,e,t))}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bp(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function xp(e){if(e.tag===13||e.tag===31){var t=Ti(e,67108864);t!==null&&Au(t,e,67108864),bp(e,67108864)}}function Sp(e){if(e.tag===13||e.tag===31){var t=Ou();t=ft(t);var n=Ti(e,t);n!==null&&Au(n,e,t),bp(e,t)}}var Cp=!0;function wp(e,t,n,r){var i=w.T;w.T=null;var a=T.p;try{T.p=2,Ep(e,t,n,r)}finally{T.p=a,w.T=i}}function Tp(e,t,n,r){var i=w.T;w.T=null;var a=T.p;try{T.p=8,Ep(e,t,n,r)}finally{T.p=a,w.T=i}}function Ep(e,t,n,r){if(Cp){var i=Dp(r);if(i===null)zd(e,t,r,Op,n),zp(e,r);else if(Vp(i,e,t,n,r))r.stopPropagation();else if(zp(e,r),t&4&&-1<Rp.indexOf(e)){for(;i!==null;){var a=Dt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=nt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ye(o);s.entanglements[1]|=c,o&=~c}gd(a),!(U&6)&&(_u=Le()+500,_d(0,!1))}}break;case 31:case 13:s=Ti(a,2),s!==null&&Au(s,a,2),Fu(),bp(a,2)}if(a=Dp(r),a===null&&zd(e,t,r,Op,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else zd(e,t,r,null,n)}}function Dp(e){return e=pn(e),kp(e)}var Op=null;function kp(e){if(Op=null,e=Et(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Op=e,null}function Ap(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Re()){case ze:return 2;case Be:return 8;case Ve:case He:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var jp=!1,Mp=null,Np=null,Pp=null,Fp=new Map,Ip=new Map,Lp=[],Rp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function zp(e,t){switch(e){case`focusin`:case`focusout`:Mp=null;break;case`dragenter`:case`dragleave`:Np=null;break;case`mouseover`:case`mouseout`:Pp=null;break;case`pointerover`:case`pointerout`:Fp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Ip.delete(t.pointerId)}}function Bp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dt(t),t!==null&&xp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Vp(e,t,n,r,i){switch(t){case`focusin`:return Mp=Bp(Mp,e,t,n,r,i),!0;case`dragenter`:return Np=Bp(Np,e,t,n,r,i),!0;case`mouseover`:return Pp=Bp(Pp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Fp.set(a,Bp(Fp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Ip.set(a,Bp(Ip.get(a)||null,e,t,n,r,i)),!0}return!1}function Hp(e){var t=Et(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ht(e.priority,function(){Sp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ht(e.priority,function(){Sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Up(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fn=r,n.target.dispatchEvent(r),fn=null}else return t=Dt(n),t!==null&&xp(t),e.blockedOn=n,!1;t.shift()}return!0}function Wp(e,t,n){Up(e)&&n.delete(t)}function Gp(){jp=!1,Mp!==null&&Up(Mp)&&(Mp=null),Np!==null&&Up(Np)&&(Np=null),Pp!==null&&Up(Pp)&&(Pp=null),Fp.forEach(Wp),Ip.forEach(Wp)}function Kp(e,n){e.blockedOn===n&&(e.blockedOn=null,jp||(jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gp)))}var qp=null;function Jp(e){qp!==e&&(qp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qp===e&&(qp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(kp(r||n)===null)continue;break}var a=Dt(n);a!==null&&(e.splice(t,3),t-=3,Bs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Yp(e){function t(t){return Kp(t,e)}Mp!==null&&Kp(Mp,e),Np!==null&&Kp(Np,e),Pp!==null&&Kp(Pp,e),Fp.forEach(t),Ip.forEach(t);for(var n=0;n<Lp.length;n++){var r=Lp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lp.length&&(n=Lp[0],n.blockedOn===null);)Hp(n),n.blockedOn===null&&Lp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[vt]||null;if(typeof a==`function`)o||Jp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[vt]||null)s=o.formAction;else if(kp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Jp(n)}}}function Xp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Zp(e){this._internalRoot=e}Qp.prototype.render=Zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Ou();vp(n,r,e,t,null,null)},Qp.prototype.unmount=Zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vp(e.current,2,null,e,null,null),Fu(),t[yt]=null}};function Qp(e){this._internalRoot=e}Qp.prototype.unstable_scheduleHydration=function(e){if(e){var t=mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lp.length&&t!==0&&t<Lp[n].priority;n++);Lp.splice(n,0,e),n===0&&Hp(e)}};var $p=n.version;if($p!==`19.2.0`)throw Error(i(527,$p,`19.2.0`));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var em={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:w,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Ke=tm.inject(em),qe=tm}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=lc,s=uc,c=dc;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=gp(e,1,!1,null,null,n,r,null,o,s,c,Xp),e[yt]=t.current,Ld(e),new Zp(t)}})),g=c(o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))()),_=c(u());const v={money:0,rebirthPoints:0,gems:0,moneyPerClick:1,moneyPerTick:0,upgradePrices:[10,100,1e3,2500,1e3],rebirth_upgradePrices:[1,5,15,1,25],upgradeAmounts:[0,0,0,0,0],rebirth_upgradeAmounts:[0,0,0,0,0],maxUpgradeAmounts:[10,10,10,10,1],rebirth_maxUpgradeAmounts:[5,5,1,1,1],clicksInRebirth:0,clicksTotal:0,runes:[0,0,0,0,0,0,0],elementalRunes:[0,0,0,0,0,0],elementalResources:[0,0,0,0,0,0],currentRuneType:`basic`,showElementalStats:!1,elementalRunesUnlocked:!1,achievements:[],username:`Player_${Math.floor(Math.random()*1e6)}`,disableMoneyEffects:!1,disableDiamondEffects:!1,disablePackAnimations:!1,disableCraftAnimations:!1,includeDevStats:!1,lastSaveTime:Date.now(),elementalPrestige:{air:0,earth:0,water:0,fire:0,light:0,dark:0},activeEvent:null,eventEndTime:null,nextEventTime:null,stats:{allTimeMoneyEarned:0,moneyFromClicks:0,moneyFromTicks:0,allTimeRebirthPointsEarned:0,totalRebirths:0,allTimeGemsEarned:0,allTimeClicksTotal:0,clicksFromManual:0,clicksFromTicks:0,baseRunePacksPurchased:0,elementalRunePacksPurchased:0,totalUpgradesPurchased:0,totalRebirthUpgradesPurchased:0,allTimeMoneySpent:0,allTimeRebirthPointsSpent:0,allTimeGemsSpent:0,onlineTime:0,offlineTime:0,allTimeElementsProduced:{air:0,earth:0,water:0,fire:0,light:0,dark:0},runesCrafted:{common:0,uncommon:0,rare:0,epic:0,legendary:0,mythic:0,secret:0},runesObtained:{common:0,uncommon:0,rare:0,epic:0,legendary:0,mythic:0},elementalRunesObtained:{air:0,earth:0,water:0,fire:0,light:0,dark:0},highestMoneyInSingleRebirth:0,fastestRebirthTime:0,devStats:{moneyAdded:0,rebirthPointsAdded:0,gemsAdded:0,clicksAdded:0,offlineTimeAdded:0,runesAdded:{common:0,uncommon:0,rare:0,epic:0,legendary:0,mythic:0,secret:0},elementalRunesAdded:{air:0,earth:0,water:0,fire:0,light:0,dark:0},elementsAdded:{air:0,earth:0,water:0,fire:0,light:0,dark:0}}}};var y=`moneyClickerSave`,b=(e,t)=>{if(!t||typeof t!=`object`)return e;let n={...e};for(let r in t)t.hasOwnProperty(r)&&(t[r]&&typeof t[r]==`object`&&!Array.isArray(t[r])?n[r]=b(e[r]||{},t[r]):t[r]!==void 0&&(n[r]=t[r]));return n};const x=e=>{try{let t={...e,lastSaveTime:Date.now()};localStorage.setItem(y,JSON.stringify(t))}catch(e){console.error(`Failed to save game state:`,e)}},ee=()=>{try{let e=localStorage.getItem(y);if(e){let t=JSON.parse(e);if(localStorage.getItem(`firebase_data_loaded`)===`true`)return localStorage.removeItem(`firebase_data_loaded`),console.log(`[Storage] `),console.log(`[Storage] LOADING FIREBASE DATA - NO MERGE!`),console.log(`[Storage] Username:`,t.username),console.log(`[Storage] Money:`,t.money),console.log(`[Storage] Rebirth Points:`,t.rebirthPoints),console.log(`[Storage] Gems:`,t.gems),console.log(`[Storage] `),{...t,upgradePrices:t.upgradePrices||v.upgradePrices,upgradeAmounts:t.upgradeAmounts||v.upgradeAmounts,maxUpgradeAmounts:t.maxUpgradeAmounts||v.maxUpgradeAmounts,rebirth_upgradePrices:t.rebirth_upgradePrices||v.rebirth_upgradePrices,rebirth_upgradeAmounts:t.rebirth_upgradeAmounts||v.rebirth_upgradeAmounts,rebirth_maxUpgradeAmounts:t.rebirth_maxUpgradeAmounts||v.rebirth_maxUpgradeAmounts,runes:t.runes||v.runes,elementalRunes:t.elementalRunes||v.elementalRunes,elementalResources:t.elementalResources||v.elementalResources,achievements:t.achievements||[],stats:t.stats||v.stats,elementalPrestige:t.elementalPrestige||v.elementalPrestige};t.username||=`Player_${Math.floor(Math.random()*1e6)}`;let n=(e,t)=>{if(!Array.isArray(e))return t;let n=Math.max(e.length,t.length),r=[...t];for(;r.length<n;)r.push(0);for(let t=0;t<e.length&&t<r.length;t++)r[t]=e[t];return r},r=(e,t)=>t,i=b(v,t),a={...i.stats,devStats:t.stats?.devStats||{moneyAdded:0,rebirthPointsAdded:0,gemsAdded:0,clicksAdded:0,offlineTimeAdded:0,runesAdded:{common:0,uncommon:0,rare:0,epic:0,legendary:0,mythic:0,secret:0},elementalRunesAdded:{air:0,earth:0,water:0,fire:0,light:0,dark:0}},totalUpgradesPurchased:(t.upgradeAmounts||[]).reduce((e,t)=>e+t,0),totalRebirthUpgradesPurchased:(t.rebirth_upgradeAmounts||[]).reduce((e,t)=>e+t,0)};return t.runes&&Array.isArray(t.runes)&&[`common`,`uncommon`,`rare`,`epic`,`legendary`,`mythic`].forEach((e,n)=>{t.runes[n]>0&&a.runesObtained[e]===0&&(a.runesObtained[e]=t.runes[n])}),t.elementalRunes&&Array.isArray(t.elementalRunes)&&[`air`,`earth`,`water`,`fire`,`light`,`dark`].forEach((e,n)=>{t.elementalRunes[n]>0&&a.elementalRunesObtained[e]===0&&(a.elementalRunesObtained[e]=t.elementalRunes[n])}),{...i,upgradePrices:n(t.upgradePrices,v.upgradePrices),upgradeAmounts:n(t.upgradeAmounts,v.upgradeAmounts),maxUpgradeAmounts:r(t.maxUpgradeAmounts,v.maxUpgradeAmounts),rebirth_upgradePrices:n(t.rebirth_upgradePrices,v.rebirth_upgradePrices),rebirth_upgradeAmounts:n(t.rebirth_upgradeAmounts,v.rebirth_upgradeAmounts),rebirth_maxUpgradeAmounts:r(t.rebirth_maxUpgradeAmounts,v.rebirth_maxUpgradeAmounts),clicksInRebirth:typeof t.clicksInRebirth==`number`?t.clicksInRebirth:v.clicksInRebirth,clicksTotal:typeof t.clicksTotal==`number`?t.clicksTotal:v.clicksTotal,runes:n(t.runes,v.runes),elementalRunes:n(t.elementalRunes,v.elementalRunes),elementalResources:n(t.elementalResources,v.elementalResources),currentRuneType:t.currentRuneType===`basic`||t.currentRuneType===`elemental`?t.currentRuneType:v.currentRuneType,showElementalStats:typeof t.showElementalStats==`boolean`?t.showElementalStats:v.showElementalStats,gems:typeof t.gems==`number`?t.gems:0,stats:a}}}catch(e){console.error(`Failed to load game state:`,e)}return v};var te=()=>void 0,S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},C=function(e,t){if(!e)throw ne(t)},ne=function(e){return Error(`Firebase Database (`+S.SDK_VERSION+`) INTERNAL ASSERT FAILED: `+e)},re=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ie=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ie(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new oe;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},oe=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},se=function(e){let t=re(e);return ae.encodeByteArray(t,!0)},ce=function(e){return se(e).replace(/\./g,``)},le=function(e){try{return ae.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ue(e){return de(void 0,e)}function de(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!w(n)||(e[n]=de(e[n],t[n]));return e}function w(e){return e!==`__proto__`}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function T(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var fe=()=>T().__FIREBASE_DEFAULTS__,pe=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},me=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&le(e[1]);return t&&JSON.parse(t)},he=()=>{try{return te()||fe()||pe()||me()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ge=e=>he()?.emulatorHosts?.[e],E=e=>{let t=ge(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},_e=()=>he()?.config,ve=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};
/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ye(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function be(e){return(await fetch(e,{credentials:`include`})).ok}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function xe(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[ce(JSON.stringify(n)),ce(JSON.stringify(o)),``].join(`.`)}var Se={};function Ce(){let e={prod:[],emulator:[]};for(let t of Object.keys(Se))Se[t]?e.emulator.push(t):e.prod.push(t);return e}function we(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var Te=!1;function Ee(e,t){if(typeof window>`u`||typeof document>`u`||!ye(window.location.host)||Se[e]===t||Se[e]||Te)return;Se[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=Ce().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{Te=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=we(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function De(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function Oe(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function ke(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function Ae(){return S.NODE_CLIENT===!0||S.NODE_ADMIN===!0}function je(){try{return typeof indexedDB==`object`}catch{return!1}}function Me(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ne=`FirebaseError`,Pe=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ne,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}},Fe=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Ie(i,n):`Error`,o=`${this.serviceName}: ${a} (${r}).`;return new Pe(r,o,n)}};function Ie(e,t){return e.replace(Le,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Le=/\{\$([^}]+)}/g;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Re(e){return JSON.parse(e)}function ze(e){return JSON.stringify(e)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Be=function(e){let t={},n={},r={},i=``;try{let a=e.split(`.`);t=Re(le(a[0])||``),n=Re(le(a[1])||``),i=a[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Ve=function(e){let t=Be(e).claims;return!!t&&typeof t==`object`&&t.hasOwnProperty(`iat`)},He=function(e){let t=Be(e).claims;return typeof t==`object`&&t.admin===!0};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function We(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Ge(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ke(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function qe(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Je(n)&&Je(a)){if(!qe(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Je(e){return typeof e==`object`&&!!e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ye(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Xe=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||=0;let n=this.W_;if(typeof e==`string`)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],a=this.chain_[2],o=this.chain_[3],s=this.chain_[4],c,l;for(let e=0;e<80;e++){e<40?e<20?(c=o^i&(a^o),l=1518500249):(c=i^a^o,l=1859775393):e<60?(c=i&a|o&(i|a),l=2400959708):(c=i^a^o,l=3395469782);let t=(r<<5|r>>>27)+c+s+l+n[e]&4294967295;s=o,o=a,a=(i<<30|i>>>2)&4294967295,i=r,r=t}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+s&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;for(;r<t;){if(a===0)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if(typeof e==`string`){for(;r<t;)if(i[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=t&255,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}};function Ze(e,t){return`${e} failed: ${t} argument `}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Qe=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let t=i-55296;r++,C(r<e.length,`Surrogate pair missing trail surrogate.`);let n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},$e=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function et(e){return e&&e._delegate?e._delegate:e}var tt=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},nt=`[DEFAULT]`,rt=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new ve;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(at(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=nt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nt){return this.instances.has(e)}getOptions(e=nt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);n===i&&t.resolve(r)}return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:it(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=nt){return this.component?this.component.multipleInstances?e:nt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function it(e){return e===nt?void 0:e}function at(e){return e.instantiationMode===`EAGER`}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ot=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new rt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},st=[],D;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(D||={});var ct={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},lt=D.INFO,ut={[D.DEBUG]:`log`,[D.VERBOSE]:`log`,[D.INFO]:`info`,[D.WARN]:`warn`,[D.ERROR]:`error`},dt=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=ut[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},ft=class{constructor(e){this.name=e,this._logLevel=lt,this._logHandler=dt,this._userLogHandler=null,st.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?ct[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}},pt=(e,t)=>t.some(t=>e instanceof t),mt,ht;function gt(){return mt||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function _t(){return ht||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var vt=new WeakMap,yt=new WeakMap,bt=new WeakMap,xt=new WeakMap,St=new WeakMap;function Ct(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(kt(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&vt.set(t,e)}).catch(()=>{}),St.set(t,e),t}function wt(e){if(yt.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});yt.set(e,t)}var Tt={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return yt.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||bt.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Et(e){Tt=e(Tt)}function Dt(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(At(this),t,...n);return bt.set(r,t.sort?t.sort():[t]),kt(r)}:_t().includes(e)?function(...t){return e.apply(At(this),t),kt(vt.get(this))}:function(...t){return kt(e.apply(At(this),t))}}function Ot(e){return typeof e==`function`?Dt(e):(e instanceof IDBTransaction&&wt(e),pt(e,gt())?new Proxy(e,Tt):e)}function kt(e){if(e instanceof IDBRequest)return Ct(e);if(xt.has(e))return xt.get(e);let t=Ot(e);return t!==e&&(xt.set(e,t),St.set(t,e)),t}var At=e=>St.get(e);function jt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=kt(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(kt(o.result),e.oldVersion,e.newVersion,kt(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var Mt=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],Nt=[`put`,`add`,`delete`,`clear`],Pt=new Map;function Ft(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(Pt.get(t))return Pt.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=Nt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mt.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Pt.set(t,a),a}Et(e=>({...e,get:(t,n,r)=>Ft(t,n)||e.get(t,n,r),has:(t,n)=>!!Ft(t,n)||e.has(t,n)}));
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var It=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Lt(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function Lt(e){return e.getComponent()?.type===`VERSION`}var Rt=`@firebase/app`,zt=`0.14.6`,Bt=new ft(`@firebase/app`),Vt=`@firebase/app-compat`,Ht=`@firebase/analytics-compat`,Ut=`@firebase/analytics`,Wt=`@firebase/app-check-compat`,Gt=`@firebase/app-check`,Kt=`@firebase/auth`,qt=`@firebase/auth-compat`,Jt=`@firebase/database`,Yt=`@firebase/data-connect`,Xt=`@firebase/database-compat`,Zt=`@firebase/functions`,Qt=`@firebase/functions-compat`,$t=`@firebase/installations`,en=`@firebase/installations-compat`,tn=`@firebase/messaging`,nn=`@firebase/messaging-compat`,rn=`@firebase/performance`,an=`@firebase/performance-compat`,on=`@firebase/remote-config`,sn=`@firebase/remote-config-compat`,cn=`@firebase/storage`,ln=`@firebase/storage-compat`,un=`@firebase/firestore`,dn=`@firebase/ai`,fn=`@firebase/firestore-compat`,pn=`firebase`,mn=`12.6.0`,hn=`[DEFAULT]`,gn={[Rt]:`fire-core`,[Vt]:`fire-core-compat`,[Ut]:`fire-analytics`,[Ht]:`fire-analytics-compat`,[Gt]:`fire-app-check`,[Wt]:`fire-app-check-compat`,[Kt]:`fire-auth`,[qt]:`fire-auth-compat`,[Jt]:`fire-rtdb`,[Yt]:`fire-data-connect`,[Xt]:`fire-rtdb-compat`,[Zt]:`fire-fn`,[Qt]:`fire-fn-compat`,[$t]:`fire-iid`,[en]:`fire-iid-compat`,[tn]:`fire-fcm`,[nn]:`fire-fcm-compat`,[rn]:`fire-perf`,[an]:`fire-perf-compat`,[on]:`fire-rc`,[sn]:`fire-rc-compat`,[cn]:`fire-gcs`,[ln]:`fire-gcs-compat`,[un]:`fire-fst`,[fn]:`fire-fst-compat`,[dn]:`fire-vertex`,"fire-js":`fire-js`,[pn]:`fire-js-all`},_n=new Map,vn=new Map,yn=new Map;function bn(e,t){try{e.container.addComponent(t)}catch(n){Bt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xn(e){let t=e.name;if(yn.has(t))return Bt.debug(`There were multiple attempts to register component ${t}.`),!1;yn.set(t,e);for(let t of _n.values())bn(t,e);for(let t of vn.values())bn(t,e);return!0}function Sn(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e){return e==null?!1:e.settings!==void 0}var wn=new Fe(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),Tn=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tt(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wn.create(`app-deleted`,{appName:this._name})}},En=mn;function Dn(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:hn,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw wn.create(`bad-app-name`,{appName:String(i)});if(n||=_e(),!n)throw wn.create(`no-options`);let a=_n.get(i);if(a){if(qe(n,a.options)&&qe(r,a.config))return a;throw wn.create(`duplicate-app`,{appName:i})}let o=new ot(i);for(let e of yn.values())o.addComponent(e);let s=new Tn(n,r,o);return _n.set(i,s),s}function On(e=hn){let t=_n.get(e);if(!t&&e===`[DEFAULT]`&&_e())return Dn();if(!t)throw wn.create(`no-app`,{appName:e});return t}function kn(e,t,n){let r=gn[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bt.warn(e.join(` `));return}xn(new tt(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var An=`firebase-heartbeat-database`,jn=1,Mn=`firebase-heartbeat-store`,Nn=null;function Pn(){return Nn||=jt(An,jn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Mn)}catch(e){console.warn(e)}}}}).catch(e=>{throw wn.create(`idb-open`,{originalErrorMessage:e.message})}),Nn}async function Fn(e){try{let t=(await Pn()).transaction(Mn),n=await t.objectStore(Mn).get(Ln(e));return await t.done,n}catch(e){if(e instanceof Pe)Bt.warn(e.message);else{let t=wn.create(`idb-get`,{originalErrorMessage:e?.message});Bt.warn(t.message)}}}async function In(e,t){try{let n=(await Pn()).transaction(Mn,`readwrite`);await n.objectStore(Mn).put(t,Ln(e)),await n.done}catch(e){if(e instanceof Pe)Bt.warn(e.message);else{let t=wn.create(`idb-set`,{originalErrorMessage:e?.message});Bt.warn(t.message)}}}function Ln(e){return`${e.name}!${e.options.appId}`}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Rn=1024,zn=30,Bn=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider(`app`).getImmediate();this._storage=new Un(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Vn();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>zn){let e=Gn(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bt.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Vn(),{heartbeatsToSend:t,unsentEntries:n}=Hn(this._heartbeatsCache.heartbeats),r=ce(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Bt.warn(e),``}}};function Vn(){return new Date().toISOString().substring(0,10)}function Hn(e,t=Rn){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Wn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Un=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return je()?Me().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await Fn(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return In(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return In(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Wn(e){return ce(JSON.stringify({version:2,heartbeats:e})).length}function Gn(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Kn(e){xn(new tt(`platform-logger`,e=>new It(e),`PRIVATE`)),xn(new tt(`heartbeat`,e=>new Bn(e),`PRIVATE`)),kn(Rt,zt,e),kn(Rt,zt,`esm2020`),kn(`fire-js`,``)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Kn(``),kn(`firebase`,`12.6.0`,`app`);var qn=`@firebase/database`,Jn=`1.1.0`,Yn=``;function Xn(e){Yn=e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Zn=class{constructor(e){this.domStorage_=e,this.prefix_=`firebase:`}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Re(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}},Qn=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ue(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}},$n=function(e){try{if(typeof window<`u`&&window[e]!==void 0){let t=window[e];return t.setItem(`firebase:sentinel`,`cache`),t.removeItem(`firebase:sentinel`),new Zn(t)}}catch{}return new Qn},er=$n(`localStorage`),tr=$n(`sessionStorage`),nr=new ft(`@firebase/database`),rr=(function(){let e=1;return function(){return e++}})(),ir=function(e){let t=Qe(e),n=new Xe;n.update(t);let r=n.digest();return ae.encodeByteArray(r)},ar=function(...e){let t=``;for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r==`object`&&typeof r.length==`number`?t+=ar.apply(null,r):typeof r==`object`?t+=ze(r):t+=r,t+=` `}return t},or=null,sr=!0,cr=function(e,t){C(!t||e===!0||e===!1,`Can't turn on custom loggers persistently.`),e===!0?(nr.logLevel=D.VERBOSE,or=nr.log.bind(nr),t&&tr.set(`logging_enabled`,!0)):typeof e==`function`?or=e:(or=null,tr.remove(`logging_enabled`))},lr=function(...e){if(sr===!0&&(sr=!1,or===null&&tr.get(`logging_enabled`)===!0&&cr(!0)),or){let t=ar.apply(null,e);or(t)}},ur=function(e){return function(...t){lr(e,...t)}},dr=function(...e){let t=`FIREBASE INTERNAL ERROR: `+ar(...e);nr.error(t)},fr=function(...e){let t=`FIREBASE FATAL ERROR: ${ar(...e)}`;throw nr.error(t),Error(t)},pr=function(...e){let t=`FIREBASE WARNING: `+ar(...e);nr.warn(t)},mr=function(){typeof window<`u`&&window.location&&window.location.protocol&&window.location.protocol.indexOf(`https:`)!==-1&&pr(`Insecure Firebase access from a secure page. Please use https in calls to new Firebase().`)},hr=function(e){return typeof e==`number`&&(e!==e||e===1/0||e===-1/0)},gr=function(e){if(Ae()||document.readyState===`complete`)e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,10);return}t||(t=!0,e())};document.addEventListener?(document.addEventListener(`DOMContentLoaded`,n,!1),window.addEventListener(`load`,n,!1)):document.attachEvent&&(document.attachEvent(`onreadystatechange`,()=>{document.readyState===`complete`&&n()}),window.attachEvent(`onload`,n))}},_r=`[MIN_NAME]`,vr=`[MAX_NAME]`,yr=function(e,t){if(e===t)return 0;if(e===_r||t===vr)return-1;if(t===_r||e===vr)return 1;{let n=Mr(e),r=Mr(t);return n===null?r===null&&e<t?-1:1:r===null?-1:n-r===0?e.length-t.length:n-r}},br=function(e,t){return e===t?0:e<t?-1:1},xr=function(e,t){if(t&&e in t)return t[e];throw Error(`Missing required key (`+e+`) in object: `+ze(t))},Sr=function(e){if(typeof e!=`object`||!e)return ze(e);let t=[];for(let n in e)t.push(n);t.sort();let n=`{`;for(let r=0;r<t.length;r++)r!==0&&(n+=`,`),n+=ze(t[r]),n+=`:`,n+=Sr(e[t[r]]);return n+=`}`,n},Cr=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function wr(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Tr=function(e){C(!hr(e),`Invalid JSON number`);let t=1023,n,r,i,a,o;e===0?(r=0,i=0,n=1/e==-1/0?1:0):(n=e<0,e=Math.abs(e),e>=2**(1-t)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=a+t,i=Math.round(e*2**(52-a)-2**52)):(r=0,i=Math.round(e/2**(1-t-52))));let s=[];for(o=52;o;--o)s.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;--o)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();let c=s.join(``),l=``;for(o=0;o<64;o+=8){let e=parseInt(c.substr(o,8),2).toString(16);e.length===1&&(e=`0`+e),l+=e}return l.toLowerCase()},Er=function(){return!!(typeof window==`object`&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dr=function(){return typeof Windows==`object`&&typeof Windows.UI==`object`};function Or(e,t){let n=`Unknown Error`;e===`too_big`?n=`The data requested exceeds the maximum size that can be accessed with a single request.`:e===`permission_denied`?n=`Client doesn't have permission to access the desired data.`:e===`unavailable`&&(n=`The service is unavailable`);let r=Error(e+` at `+t._path.toString()+`: `+n);return r.code=e.toUpperCase(),r}var kr=RegExp(`^-?(0*)\\d{1,10}$`),Ar=-2147483648,jr=2147483647,Mr=function(e){if(kr.test(e)){let t=Number(e);if(t>=Ar&&t<=jr)return t}return null},Nr=function(e){try{e()}catch(e){setTimeout(()=>{let t=e.stack||``;throw pr(`Exception was thrown by user callback.`,t),e},0)}},Pr=function(){return(typeof window==`object`&&window.navigator&&window.navigator.userAgent||``).search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fr=function(e,t){let n=setTimeout(e,t);return typeof n==`number`&&typeof Deno<`u`&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n==`object`&&n.unref&&n.unref(),n},Ir=class{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Cn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){pr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}},Lr=class{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&e.code===`auth/token-not-initialized`?(lr(`Got auth/token-not-initialized error.  Treating as null token.`),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e=`Provided authentication credentials for the app named "`+this.appName_+`" are invalid. This usually indicates your app was not initialized correctly. `;`credential`in this.firebaseOptions_?e+=`Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.`:`serviceAccount`in this.firebaseOptions_?e+=`Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.`:e+=`Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.`,pr(e)}},Rr=class{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}};Rr.OWNER=`owner`;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var zr=`5`,Br=`v`,Vr=`s`,Hr=`r`,Ur=`f`,Wr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gr=`ls`,Kr=`p`,qr=`ac`,Jr=`websocket`,Yr=`long_polling`,Xr=class{constructor(e,t,n,r,i=!1,a=``,o=!1,s=!1,c=null){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=s,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(`.`)+1),this.internalHost=er.get(`host:`+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)===`s-`}isCustomHost(){return this._domain!==`firebaseio.com`&&this._domain!==`firebaseio-demo.com`}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&er.set(`host:`+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+=`<`+this.persistenceKey+`>`),e}toURLString(){let e=this.secure?`https://`:`http://`,t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:``;return`${e}${this.host}/${t}`}};function Zr(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Qr(e,t,n){C(typeof t==`string`,`typeof type must == string`),C(typeof n==`object`,`typeof params must == object`);let r;if(t===Jr)r=(e.secure?`wss://`:`ws://`)+e.internalHost+`/.ws?`;else if(t===Yr)r=(e.secure?`https://`:`http://`)+e.internalHost+`/.lp?`;else throw Error(`Unknown connection type: `+t);Zr(e)&&(n.ns=e.namespace);let i=[];return wr(n,(e,t)=>{i.push(e+`=`+t)}),r+i.join(`&`)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var $r=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Ue(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ue(this.counters_)}},ei={},ti={};function ni(e){let t=e.toString();return ei[t]||(ei[t]=new $r),ei[t]}function ri(e,t){let n=e.toString();return ti[n]||(ti[n]=t()),ti[n]}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ii=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Nr(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&=(this.onClose(),null);break}this.currentResponseNum++}}},ai=`start`,oi=`close`,si=`pLPCommand`,ci=`pRTLPCB`,li=`id`,ui=`pw`,di=`ser`,fi=`cb`,pi=`dframe`,mi=1870,hi=30,gi=mi-hi,_i=25e3,vi=3e4,yi=class e{constructor(e,t,n,r,i,a,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ur(e),this.stats_=ni(t),this.urlFn=e=>(this.appCheckToken&&(e[qr]=this.appCheckToken),Qr(t,Yr,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ii(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_(`Timed out trying to connect.`),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vi)),gr(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bi((...e)=>{let[t,n,r,i,a]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&=(clearTimeout(this.connectTimeoutTimer_),null),this.everConnected_=!0,t===ai)this.id=n,this.password=r;else if(t===oi)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error(`Unrecognized command received: `+t)},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[ai]=`t`,e[di]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[fi]=this.scriptTagHolder.uniqueCallbackIdentifier),e[Br]=zr,this.transportSessionId&&(e[Vr]=this.transportSessionId),this.lastSessionId&&(e[Gr]=this.lastSessionId),this.applicationId&&(e[Kr]=this.applicationId),this.appCheckToken&&(e[qr]=this.appCheckToken),typeof location<`u`&&location.hostname&&Wr.test(location.hostname)&&(e[Hr]=Ur);let t=this.urlFn(e);this.log_(`Connecting via long-poll to `+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ae()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<`u`&&document.createElement!=null&&!Er()&&!Dr()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&=(this.scriptTagHolder.close(),null),this.myDisconnFrame&&=(document.body.removeChild(this.myDisconnFrame),null),this.connectTimeoutTimer_&&=(clearTimeout(this.connectTimeoutTimer_),null)}onClosed_(){this.isClosed_||(this.log_(`Longpoll is closing itself`),this.shutdown_(),this.onDisconnect_&&=(this.onDisconnect_(this.everConnected_),null))}close(){this.isClosed_||(this.log_(`Longpoll is being closed.`),this.shutdown_())}send(e){let t=ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter(`bytes_sent`,t.length);let n=se(t),r=Cr(n,gi);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Ae())return;this.myDisconnFrame=document.createElement(`iframe`);let n={};n[pi]=`t`,n[li]=e,n[ui]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=`none`,document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=ze(e).length;this.bytesReceived+=t,this.stats_.incrementCounter(`bytes_received`,t)}},bi=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ae())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=rr(),window[si+this.uniqueCallbackIdentifier]=t,window[ci+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let r=``;this.myIFrame.src&&this.myIFrame.src.substr(0,11)===`javascript:`&&(r=`<script>document.domain="`+document.domain+`";<\/script>`);let i=`<html><body>`+r+`</body></html>`;try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){lr(`frame writing exception`),e.stack&&lr(e.stack),lr(e)}}}static createIFrame_(){let e=document.createElement(`iframe`);if(e.style.display=`none`,document.body){document.body.appendChild(e);try{e.contentWindow.document||lr(`No IE domain setting required`)}catch{e.src=`javascript:void((function(){document.open();document.domain='`+document.domain+`';document.close();})())`}}else throw`Document body has not initialized. Wait to initialize Firebase until after the document is ready.`;return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent=``,setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},0));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[li]=this.myID,e[ui]=this.myPW,e[di]=this.currentSerial;let t=this.urlFn(e),n=``,r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hi+n.length<=mi;){let e=this.pendingSegs.shift();n=n+`&seg`+r+`=`+e.seg+`&ts`+r+`=`+e.ts+`&d`+r+`=`+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(_i));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Ae()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement(`script`);n.type=`text/javascript`,n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;(!e||e===`loaded`||e===`complete`)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{lr(`Long-poll script failed to load: `+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},1)}},xi=16384,Si=45e3,Ci=null;typeof MozWebSocket<`u`?Ci=MozWebSocket:typeof WebSocket<`u`&&(Ci=WebSocket);var wi=class e{constructor(t,n,r,i,a,o,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ur(this.connId),this.stats_=ni(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,t,n,r,i){let a={};return a[Br]=zr,!Ae()&&typeof location<`u`&&location.hostname&&Wr.test(location.hostname)&&(a[Hr]=Ur),t&&(a[Vr]=t),n&&(a[Gr]=n),r&&(a[qr]=r),i&&(a[Kr]=i),Qr(e,Jr,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_(`Websocket connecting to `+this.connURL),this.everConnected_=!1,er.set(`previous_websocket_failure`,!0);try{let e;if(Ae()){let t=this.nodeAdmin?`AdminNode`:`Node`;e={headers:{"User-Agent":`Firebase/${zr}/${Yn}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||``}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers[`X-Firebase-AppCheck`]=this.appCheckToken);let n={},r=this.connURL.indexOf(`wss://`)===0?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Ci(this.connURL,[],e)}catch(e){this.log_(`Error instantiating WebSocket.`);let t=e.message||e.data;t&&this.log_(t),this.onClosed_();return}this.mySock.onopen=()=>{this.log_(`Websocket connected.`),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_(`Websocket connection was disconnected.`),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_(`WebSocket error.  Closing connection.`);let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<`u`&&navigator.userAgent){let e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&e.length>1&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&Ci!==null&&!e.forceDisallow_}static previouslyFailed(){return er.isInMemoryStorage||er.get(`previous_websocket_failure`)===!0}markConnectionHealthy(){er.remove(`previous_websocket_failure`)}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join(``);this.frames=null;let t=Re(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(C(this.frames===null,`We already have a frame buffer`),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter(`bytes_received`,t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);e!==null&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter(`bytes_sent`,t.length);let n=Cr(t,xi);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&=(clearInterval(this.keepaliveTimer),null),this.mySock&&=(this.mySock.close(),null)}onClosed_(){this.isClosed_||(this.log_(`WebSocket is closing itself`),this.shutdown_(),this.onDisconnect&&=(this.onDisconnect(this.everConnected_),null))}close(){this.isClosed_||(this.log_(`WebSocket is being closed`),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_(`0`),this.resetKeepAlive()},Math.floor(Si))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_(`Exception thrown from WebSocket.send():`,e.message||e.data,`Closing connection.`),setTimeout(this.onClosed_.bind(this),0)}}};wi.responsesRequiredToBeHealthy=2,wi.healthyTimeout=3e4;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ti=class e{static get ALL_TRANSPORTS(){return[yi,wi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(t){let n=wi&&wi.isAvailable(),r=n&&!wi.previouslyFailed();if(t.webSocketOnly&&(n||pr(`wss:// URL used, but browser isn't known to support websockets.  Trying anyway.`),r=!0),r)this.transports_=[wi];else{let t=this.transports_=[];for(let n of e.ALL_TRANSPORTS)n&&n.isAvailable()&&t.push(n);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error(`No transports available`)}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}};Ti.globalTransportInitialized_=!1;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ei=6e4,Di=5e3,Oi=10*1024,ki=100*1024,Ai=`t`,ji=`d`,Mi=`s`,Ni=`r`,Pi=`e`,Fi=`o`,Ii=`a`,Li=`n`,Ri=`p`,zi=`h`,Bi=class{constructor(e,t,n,r,i,a,o,s,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ur(`c:`+this.id+`:`),this.transportManager_=new Ti(t),this.log_(`Connection created`),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},0);let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Fr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ki?(this.log_(`Connection exceeded healthy timeout but has received `+this.conn_.bytesReceived+` bytes.  Marking connection healthy.`),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Oi?this.log_(`Connection exceeded healthy timeout but has sent `+this.conn_.bytesSent+` bytes.  Leaving connection alive.`):(this.log_(`Closing unhealthy connection after timeout.`),this.close()))},Math.floor(r)))}nextTransportId_(){return`c:`+this.id+`:`+ this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_(`Secondary connection lost.`),this.onSecondaryConnectionLost_()):this.log_(`closing an old connection`)}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_(`message on old connection`))}}sendRequest(e){let t={t:`d`,d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(`cleaning up and promoting a connection: `+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ai in e){let t=e[Ai];t===Ii?this.upgradeIfSecondaryHealthy_():t===Ni?(this.log_(`Got a reset on secondary, closing it`),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Fi&&(this.log_(`got pong on secondary.`),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=xr(`t`,e),n=xr(`d`,e);if(t===`c`)this.onSecondaryControl_(n);else if(t===`d`)this.pendingDataMessages.push(n);else throw Error(`Unknown protocol layer: `+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_(`Secondary connection is healthy.`),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(`sending ping on secondary.`),this.secondaryConn_.send({t:`c`,d:{t:Ri,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_(`sending client ack on secondary`),this.secondaryConn_.send({t:`c`,d:{t:Ii,d:{}}}),this.log_(`Ending transmission on primary`),this.conn_.send({t:`c`,d:{t:Li,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=xr(`t`,e),n=xr(`d`,e);t===`c`?this.onControl_(n):t===`d`&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(`Primary connection is healthy.`),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=xr(Ai,e);if(ji in e){let n=e[ji];if(t===zi){let e={...n};this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if(t===Li){this.log_(`recvd end transmission on primary`),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Mi?this.onConnectionShutdown_(n):t===Ni?this.onReset_(n):t===Pi?dr(`Server Error: `+n):t===Fi?(this.log_(`got pong on primary.`),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dr(`Unknown control packet command: `+t)}}onHandshake_(e){let t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),zr!==n&&pr(`Protocol version mismatch detected`),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Fr(()=>{this.secondaryConn_&&(this.log_(`Timed out trying to upgrade.`),this.secondaryConn_.close())},Math.floor(Ei))}onReset_(e){this.log_(`Reset packet received.  New host: `+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_(`Realtime connection established.`),this.conn_=e,this.state_=1,this.onReady_&&=(this.onReady_(t,this.sessionId),null),this.primaryResponsesRequired_===0?(this.log_(`Primary connection is healthy.`),this.isHealthy_=!0):Fr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Di))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_(`sending ping on primary.`),this.sendData_({t:`c`,d:{t:Ri,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_(`Realtime connection failed.`),this.repoInfo_.isCacheableHost()&&(er.remove(`host:`+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_(`Realtime connection lost.`),this.close()}onConnectionShutdown_(e){this.log_(`Connection shutdown command received. Shutting down...`),this.onKill_&&=(this.onKill_(e),null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw`Connection is not connected`;this.tx_.send(e)}close(){this.state_!==2&&(this.log_(`Closing realtime connection.`),this.state_=2,this.closeConnections_(),this.onDisconnect_&&=(this.onDisconnect_(),null))}closeConnections_(){this.log_(`Shutting down all connections`),this.conn_&&=(this.conn_.close(),null),this.secondaryConn_&&=(this.secondaryConn_.close(),null),this.healthyTimeout_&&=(clearTimeout(this.healthyTimeout_),null)}},Vi=class{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}},Hi=class{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,`Requires a non-empty array`)}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context)){r.splice(e,1);return}}validateEventType_(e){C(this.allowedEvents_.find(t=>t===e),`Unknown event: `+e)}},Ui=class e extends Hi{static getInstance(){return new e}constructor(){super([`online`]),this.online_=!0,typeof window<`u`&&window.addEventListener!==void 0&&!Oe()&&(window.addEventListener(`online`,()=>{this.online_||(this.online_=!0,this.trigger(`online`,!0))},!1),window.addEventListener(`offline`,()=>{this.online_&&(this.online_=!1,this.trigger(`online`,!1))},!1))}getInitialEvent(e){return C(e===`online`,`Unknown event type: `+e),[this.online_]}currentlyOnline(){return this.online_}},Wi=32,Gi=768,O=class{constructor(e,t){if(t===void 0){this.pieces_=e.split(`/`);let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e=``;for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==``&&(e+=`/`+this.pieces_[t]);return e||`/`}};function k(){return new O(``)}function A(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ki(e){return e.pieces_.length-e.pieceNum_}function j(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new O(e.pieces_,t)}function qi(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ji(e){let t=``;for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==``&&(t+=`/`+encodeURIComponent(String(e.pieces_[n])));return t||`/`}function Yi(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Xi(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new O(t,0)}function M(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof O)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split(`/`);for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new O(n,0)}function N(e){return e.pieceNum_>=e.pieces_.length}function P(e,t){let n=A(e),r=A(t);if(n===null)return t;if(n===r)return P(j(e),j(t));throw Error(`INTERNAL ERROR: innerPath (`+t+`) is not within outerPath (`+e+`)`)}function Zi(e,t){if(Ki(e)!==Ki(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Qi(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ki(e)>Ki(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var $i=class{constructor(e,t){this.errorPrefix_=t,this.parts_=Yi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=$e(this.parts_[e]);na(this)}};function ea(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$e(t),na(e)}function ta(e){let t=e.parts_.pop();e.byteLength_-=$e(t),e.parts_.length>0&&--e.byteLength_}function na(e){if(e.byteLength_>Gi)throw Error(e.errorPrefix_+`has a key path longer than 768 bytes (`+e.byteLength_+`).`);if(e.parts_.length>Wi)throw Error(e.errorPrefix_+`path specified exceeds the maximum depth that can be written (32) or object contains a cycle `+ra(e))}function ra(e){return e.parts_.length===0?``:`in property '`+e.parts_.join(`.`)+`'`}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ia=class e extends Hi{static getInstance(){return new e}constructor(){super([`visible`]);let e,t;typeof document<`u`&&document.addEventListener!==void 0&&(document.hidden===void 0?document.mozHidden===void 0?document.msHidden===void 0?document.webkitHidden!==void 0&&(t=`webkitvisibilitychange`,e=`webkitHidden`):(t=`msvisibilitychange`,e=`msHidden`):(t=`mozvisibilitychange`,e=`mozHidden`):(t=`visibilitychange`,e=`hidden`)),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger(`visible`,t))},!1)}getInitialEvent(e){return C(e===`visible`,`Unknown event type: `+e),[this.visible_]}},aa=1e3,oa=300*1e3,sa=30*1e3,ca=1.3,la=3e4,ua=`server_kill`,da=3,fa=class e extends Vi{constructor(t,n,r,i,a,o,s,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=ur(`p:`+this.id+`:`),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=aa,this.maxReconnectDelay_=oa,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ae())throw Error(`Auth override specified in options, but not supported on non Node.js platforms`);ia.getInstance().on(`visible`,this.onVisible_,this),t.host.indexOf(`fblocal`)===-1&&Ui.getInstance().on(`online`,this.onOnline_,this)}sendRequest(e,t,n){let r=++this.requestNumber_,i={r,a:e,b:t};this.log_(ze(i)),C(this.connected_,`sendRequest call when we're not connected not allowed.`),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();let t=new ve,n={action:`g`,request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{let n=e.d;e.s===`ok`?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;let r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();let i=e._queryIdentifier,a=e._path.toString();this.log_(`Listen called for `+a+` `+i),this.listens.has(a)||this.listens.set(a,new Map),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),`listen() called for non-default but complete query`),C(!this.listens.get(a).has(i),`listen() called twice for same path/queryId.`);let o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest(`g`,t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(t){let n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_(`Listen on `+r+` for `+i);let a={p:r};t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(`q`,a,a=>{let o=a.d,s=a.s;e.warnOnListenWarnings_(o,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_(`listen response`,a),s!==`ok`&&this.removeListen_(r,i),t.onComplete&&t.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&typeof e==`object`&&Ue(e,`w`)){let n=We(e,`w`);if(Array.isArray(n)&&~n.indexOf(`no_index`)){let e=`".indexOn": "`+t._queryParams.getIndex().toString()+`"`,n=t._path.toString();pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_(`Auth token refreshed`),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(`unauth`,{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||He(e))&&(this.log_(`Admin auth credential detected.  Reducing max reconnect time.`),this.maxReconnectDelay_=sa)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_(`App check token refreshed`),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest(`unappeck`,{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=Ve(e)?`auth`:`gauth`,n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_==`object`&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,r=t.d||`error`;this.authToken_===e&&(n===`ok`?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest(`appcheck`,{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||`error`;t===`ok`?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),r=e._queryIdentifier;this.log_(`Unlisten called for `+n+` `+r),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),`unlisten() called for non-default but complete query`),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_(`Unlisten on `+e+` for `+t);let i={p:e};r&&(i.q=n,i.t=r),this.sendRequest(`n`,i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_(`o`,e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:`o`,data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_(`om`,e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:`om`,data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_(`oc`,e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:`oc`,data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){let i={p:t,d:n};this.log_(`onDisconnect `+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},0)})}put(e,t,n,r){this.putInternal(`p`,e,t,n,r)}merge(e,t,n,r){this.putInternal(`m`,e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();let a={p:t,d:n};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;let o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_(`Buffering put: `+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+` response`,n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_(`reportStats`,t),this.sendRequest(`s`,t,e=>{if(e.s!==`ok`){let t=e.d;this.log_(`reportStats`,`Error sending stats: `+t)}})}}onDataMessage_(e){if(`r`in e){this.log_(`from server: `+ze(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if(`error`in e)throw`A server-side error has occurred: `+e.error;else `a`in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_(`handleServerMessage`,e,t),e===`d`?this.onDataUpdate_(t.p,t.d,!1,t.t):e===`m`?this.onDataUpdate_(t.p,t.d,!0,t.t):e===`c`?this.onListenRevoked_(t.p,t.q):e===`ac`?this.onAuthRevoked_(t.s,t.d):e===`apc`?this.onAppCheckRevoked_(t.s,t.d):e===`sd`?this.onSecurityDebugPacket_(t):dr(`Unrecognized action received from server: `+ze(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_(`connection ready`),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){C(!this.realtime_,`Scheduling a connect when we're already connected/ing?`),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(`Window became visible.  Reducing delay.`),this.reconnectDelay_=aa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_(`Browser went online.`),this.reconnectDelay_=aa,this.realtime_||this.scheduleConnect_(0)):(this.log_(`Browser went offline.  Killing connection.`),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_(`data client disconnected`),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&=(new Date().getTime()-this.lastConnectionEstablishedTime_>la&&(this.reconnectDelay_=aa),null):(this.log_(`Window isn't visible.  Delaying reconnect.`),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_(`Trying to reconnect in `+t+`ms`),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ca)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_(`Making a connection attempt`),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+`:`+ e.nextConnectionId_++,a=this.lastSessionId,o=!1,s=null,c=function(){s?s.close():(o=!0,r())};this.realtime_={close:c,sendRequest:function(e){C(s,`sendRequest call when we're not connected not allowed.`),s.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[e,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?lr(`getToken() completed but was canceled`):(lr(`getToken() completed. Creating connection.`),this.authToken_=e&&e.accessToken,this.appCheckToken_=c&&c.token,s=new Bi(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,e=>{pr(e+` (`+this.repoInfo_.toString()+`)`),this.interrupt(ua)},a))}catch(e){this.log_(`Failed to get token: `+e),o||(this.repoInfo_.nodeAdmin&&pr(e),c())}}}interrupt(e){lr(`Interrupting connection for reason: `+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&=(clearTimeout(this.establishConnectionTimer_),null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lr(`Resuming connection for reason: `+e),delete this.interruptReasons_[e],Ge(this.interruptReasons_)&&(this.reconnectDelay_=aa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&`h`in t.request&&t.queued&&(t.onComplete&&t.onComplete(`disconnect`),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Sr(e)).join(`$`):`default`;let r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete(`permission_denied`)}removeListen_(e,t){let n=new O(e).toString(),r;if(this.listens.has(n)){let e=this.listens.get(n);r=e.get(t),e.delete(t),e.size===0&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){lr(`Auth token revoked: `+e+`/`+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e===`invalid_token`||e===`permission_denied`)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=da&&(this.reconnectDelay_=sa,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){lr(`App check token revoked: `+e+`/`+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e===`invalid_token`||e===`permission_denied`)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=da&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):`msg`in e&&console.log(`FIREBASE: `+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t=`js`;Ae()&&(t=this.repoInfo_.nodeAdmin?`admin_node`:`node`),e[`sdk.`+t+`.`+Yn.replace(/\./g,`-`)]=1,Oe()?e[`framework.cordova`]=1:ke()&&(e[`framework.reactnative`]=1),this.reportStats(e)}shouldReconnect_(){let e=Ui.getInstance().currentlyOnline();return Ge(this.interruptReasons_)&&e}};fa.nextPersistentConnectionId_=0,fa.nextConnectionId_=0;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var F=class e{constructor(e,t){this.name=e,this.node=t}static Wrap(t,n){return new e(t,n)}},pa=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new F(_r,e),r=new F(_r,t);return this.compare(n,r)!==0}minPost(){return F.MIN}},ma,ha=class extends pa{static get __EMPTY_NODE(){return ma}static set __EMPTY_NODE(e){ma=e}compare(e,t){return yr(e.name,t.name)}isDefinedOn(e){throw ne(`KeyIndex.isDefinedOn not expected to be called.`)}indexedValueChanged(e,t){return!1}minPost(){return F.MIN}maxPost(){return new F(vr,ma)}makePost(e,t){return C(typeof e==`string`,`KeyIndex indexValue must always be a string.`),new F(e,ma)}toString(){return`.key`}},ga=new ha,_a=class{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},va=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??ba.EMPTY_NODE,this.right=a??ba.EMPTY_NODE}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ba.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),t(e,n.key)===0){if(n.right.isEmpty())return ba.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){return 2**this.check_()<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error(`Red node has red child(`+this.key+`,`+this.value+`)`);if(this.right.isRed_())throw Error(`Right child of (`+this.key+`,`+this.value+`) is red`);let e=this.left.check_();if(e!==this.right.check_())throw Error(`Black depths differ`);return e+(this.isRed_()?0:1)}};va.RED=!0,va.BLACK=!1;var ya=class{copy(e,t,n,r,i){return this}insert(e,t,n){return new va(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ba=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,va.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,va.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),t===0)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();)if(t=this.comparator_(e,n.key),t===0){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else t<0?n=n.left:t>0&&(r=n,n=n.right);throw Error(`Attempted to find predecessor key for a nonexistent key.  What gives?`)}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _a(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new _a(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new _a(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new _a(this.root_,null,this.comparator_,!0,e)}};ba.EMPTY_NODE=new ya;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function xa(e,t){return yr(e.name,t.name)}function Sa(e,t){return yr(e,t)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ca;function wa(e){Ca=e}var Ta=function(e){return typeof e==`number`?`number:`+Tr(e):`string:`+e},Ea=function(e){if(e.isLeafNode()){let t=e.val();C(typeof t==`string`||typeof t==`number`||typeof t==`object`&&Ue(t,`.sv`),`Priority must be a string or number.`)}else C(e===Ca||e.isEmpty(),`priority of unexpected type.`);C(e===Ca||e.getPriority().isEmpty(),`Priority nodes can't have a priority of their own.`)},Da,Oa=class e{static set __childrenNodeConstructor(e){Da=e}static get __childrenNodeConstructor(){return Da}constructor(t,n=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,`LeafNode shouldn't be created with null/undefined value.`),Ea(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return t===`.priority`?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return N(t)?this:A(t)===`.priority`?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(t,n){return t===`.priority`?this.updatePriority(n):n.isEmpty()&&t!==`.priority`?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){let r=A(t);return r===null?n:n.isEmpty()&&r!==`.priority`?this:(C(r!==`.priority`||Ki(t)===1,`.priority must be the last token in a path`),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(j(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e=``;this.priorityNode_.isEmpty()||(e+=`priority:`+Ta(this.priorityNode_.val())+`:`);let t=typeof this.value_;e+=t+`:`,t===`number`?e+=Tr(this.value_):e+=this.value_,this.lazyHash_=ir(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(C(t.isLeafNode(),`Unknown node type`),this.compareToLeafNode_(t))}compareToLeafNode_(t){let n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return C(i>=0,`Unknown leaf type: `+n),C(a>=0,`Unknown leaf type: `+r),i===a?r===`object`?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}};Oa.VALUE_TYPE_ORDER=[`object`,`boolean`,`number`,`string`];
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ka,Aa;function ja(e){ka=e}function Ma(e){Aa=e}var I=new class extends pa{compare(e,t){let n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return i===0?yr(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return F.MIN}maxPost(){return new F(vr,new Oa(`[PRIORITY-POST]`,Aa))}makePost(e,t){let n=ka(e);return new F(t,new Oa(`[PRIORITY-POST]`,n))}toString(){return`.priority`}},Na=Math.log(2),Pa=class{constructor(e){let t=e=>parseInt(Math.log(e)/Na,10),n=e=>parseInt(Array(e+1).join(`1`),2);this.count=t(e+1),this.current_=this.count-1;let r=n(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Fa=function(e,t,n,r){e.sort(t);let i=function(t,r){let a=r-t,o,s;if(a===0)return null;if(a===1)return o=e[t],s=n?n(o):o,new va(s,o.node,va.BLACK,null,null);{let c=parseInt(a/2,10)+t,l=i(t,c),u=i(c+1,r);return o=e[c],s=n?n(o):o,new va(s,o.node,va.BLACK,l,u)}},a=function(t){let r=null,a=null,o=e.length,s=function(t,r){let a=o-t,s=o;o-=t;let l=i(a+1,s),u=e[a],d=n?n(u):u;c(new va(d,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(a=e,r=e)};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),r=2**(t.count-(e+1));n?s(r,va.BLACK):(s(r,va.BLACK),s(r,va.RED))}return a},o=new Pa(e.length),s=a(o);return new ba(r||t,s)},Ia,La={},Ra=class e{static get Default(){return C(La&&I,`ChildrenNode.ts has not been loaded`),Ia||=new e({".priority":La},{".priority":I}),Ia}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=We(this.indexes_,e);if(!t)throw Error(`No index defined for `+e);return t instanceof ba?t:null}hasIndex(e){return Ue(this.indexSet_,e.toString())}addIndex(t,n){C(t!==ga,`KeyIndex always exists and isn't meant to be added to the IndexMap.`);let r=[],i=!1,a=n.getIterator(F.Wrap),o=a.getNext();for(;o;)i||=t.isDefinedOn(o.node),r.push(o),o=a.getNext();let s;s=i?Fa(r,t.getCompare()):La;let c=t.toString(),l={...this.indexSet_};l[c]=t;let u={...this.indexes_};return u[c]=s,new e(u,l)}addToIndexes(t,n){let r=Ke(this.indexes_,(e,r)=>{let i=We(this.indexSet_,r);if(C(i,`Missing index implementation for `+r),e===La)if(i.isDefinedOn(t.node)){let e=[],r=n.getIterator(F.Wrap),a=r.getNext();for(;a;)a.name!==t.name&&e.push(a),a=r.getNext();return e.push(t),Fa(e,i.getCompare())}else return La;else{let r=n.get(t.name),i=e;return r&&(i=i.remove(new F(t.name,r))),i.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Ke(this.indexes_,e=>{if(e===La)return e;{let r=n.get(t.name);return r?e.remove(new F(t.name,r)):e}});return new e(r,this.indexSet_)}},za,L=class e{static get EMPTY_NODE(){return za||=new e(new ba(Sa),null,Ra.Default)}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ea(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),`An empty node cannot have a priority`)}isLeafNode(){return!1}getPriority(){return this.priorityNode_||za}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(e){if(e===`.priority`)return this.getPriority();{let t=this.children_.get(e);return t===null?za:t}}getChild(e){let t=A(e);return t===null?this:this.getImmediateChild(t).getChild(j(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(t,n){if(C(n,`We should always be passing snapshot nodes`),t===`.priority`)return this.updatePriority(n);{let r=new F(t,n),i,a;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));let o=i.isEmpty()?za:this.priorityNode_;return new e(i,o,a)}}updateChild(e,t){let n=A(e);if(n===null)return t;{C(A(e)!==`.priority`||Ki(e)===1,`.priority must be the last token in a path`);let r=this.getImmediateChild(n).updateChild(j(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let n={},r=0,i=0,a=!0;if(this.forEachChild(I,(o,s)=>{n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){let e=[];for(let t in n)e[t]=n[t];return e}else return t&&!this.getPriority().isEmpty()&&(n[`.priority`]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e=``;this.getPriority().isEmpty()||(e+=`priority:`+Ta(this.getPriority().val())+`:`),this.forEachChild(I,(t,n)=>{let r=n.hash();r!==``&&(e+=`:`+t+`:`+r)}),this.lazyHash_=e===``?``:ir(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let r=this.resolveIndex_(n);if(r){let n=r.getPredecessorKey(new F(e,t));return n?n.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let t=this.resolveIndex_(e);if(t){let e=t.minKey();return e&&e.name}else return this.children_.minKey()}getFirstChild(e){let t=this.getFirstChildName(e);return t?new F(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(t){let e=t.maxKey();return e&&e.name}else return this.children_.maxKey()}getLastChild(e){let t=this.getLastChildName(e);return t?new F(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,F.Wrap),r=n.peek();for(;r!=null&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,F.Wrap),r=n.peek();for(;r!=null&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ba?-1:0}withIndex(t){if(t===ga||this.indexMap_.hasIndex(t))return this;{let n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ga||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){let e=this.getIterator(I),n=t.getIterator(I),r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return r===null&&i===null}else return!1;else return!1}}resolveIndex_(e){return e===ga?null:this.indexMap_.get(e.toString())}};L.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Ba=new class extends L{constructor(){super(new ba(Sa),L.EMPTY_NODE,Ra.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(F,{MIN:{value:new F(_r,L.EMPTY_NODE)},MAX:{value:new F(vr,Ba)}}),ha.__EMPTY_NODE=L.EMPTY_NODE,Oa.__childrenNodeConstructor=L,wa(Ba),Ma(Ba);
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Va=!0;function Ha(e,t=null){if(e===null)return L.EMPTY_NODE;if(typeof e==`object`&&`.priority`in e&&(t=e[`.priority`]),C(t===null||typeof t==`string`||typeof t==`number`||typeof t==`object`&&`.sv`in t,`Invalid priority type found: `+typeof t),typeof e==`object`&&`.value`in e&&e[`.value`]!==null&&(e=e[`.value`]),typeof e!=`object`||`.sv`in e)return new Oa(e,Ha(t));if(!(e instanceof Array)&&Va){let n=[],r=!1;if(wr(e,(e,t)=>{if(e.substring(0,1)!==`.`){let i=Ha(t);i.isEmpty()||(r||=!i.getPriority().isEmpty(),n.push(new F(e,i)))}}),n.length===0)return L.EMPTY_NODE;let i=Fa(n,xa,e=>e.name,Sa);if(r){let e=Fa(n,I.getCompare());return new L(i,Ha(t),new Ra({".priority":e},{".priority":I}))}else return new L(i,Ha(t),Ra.Default)}else{let n=L.EMPTY_NODE;return wr(e,(t,r)=>{if(Ue(e,t)&&t.substring(0,1)!==`.`){let e=Ha(r);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Ha(t))}}ja(Ha);
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ua=class extends pa{constructor(e){super(),this.indexPath_=e,C(!N(e)&&A(e)!==`.priority`,`Can't create PathIndex with empty path or .priority key`)}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return i===0?yr(e.name,t.name):i}makePost(e,t){let n=Ha(e),r=L.EMPTY_NODE.updateChild(this.indexPath_,n);return new F(t,r)}maxPost(){let e=L.EMPTY_NODE.updateChild(this.indexPath_,Ba);return new F(vr,e)}toString(){return Yi(this.indexPath_,0).join(`/`)}},Wa=new class extends pa{compare(e,t){let n=e.node.compareTo(t.node);return n===0?yr(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,t){let n=Ha(e);return new F(t,n)}toString(){return`.value`}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ga(e){return{type:`value`,snapshotNode:e}}function Ka(e,t){return{type:`child_added`,snapshotNode:t,childName:e}}function qa(e,t){return{type:`child_removed`,snapshotNode:t,childName:e}}function Ja(e,t,n){return{type:`child_changed`,snapshotNode:t,childName:e,oldSnap:n}}function Ya(e,t){return{type:`child_moved`,snapshotNode:t,childName:e}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Xa=class{constructor(e){this.index_=e}updateChild(e,t,n,r,i,a){C(e.isIndexed(this.index_),`A node must be indexed if only a child is updated`);let o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()||(a!=null&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(qa(t,o)):C(e.isLeafNode(),`A child remove without an old child only makes sense on a leaf node`):o.isEmpty()?a.trackChildChange(Ka(t,n)):a.trackChildChange(Ja(t,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return n!=null&&(e.isLeafNode()||e.forEachChild(I,(e,r)=>{t.hasChild(e)||n.trackChildChange(qa(e,r))}),t.isLeafNode()||t.forEachChild(I,(t,r)=>{if(e.hasChild(t)){let i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ja(t,r,i))}else n.trackChildChange(Ka(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}},Za=class e{constructor(t){this.indexedFilter_=new Xa(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,a){return this.matches(new F(t,n))||(n=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}updateFullNode(e,t,n){t.isLeafNode()&&(t=L.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(L.EMPTY_NODE);let i=this;return t.forEachChild(I,(e,t)=>{i.matches(new F(e,t))||(r=r.updateImmediateChild(e,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}},Qa=class{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Za(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,a){return this.rangedFilter_.matches(new F(t,n))||(n=L.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=L.EMPTY_NODE.withIndex(this.index_);let e;e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t))if(this.withinDirectionalEnd(t))r=r.updateImmediateChild(t.name,t.node),n++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(L.EMPTY_NODE);let e;e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let a;if(this.reverse_){let e=this.index_.getCompare();a=(t,n)=>e(n,t)}else a=this.index_.getCompare();let o=e;C(o.numChildren()===this.limit_,``);let s=new F(t,n),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(o.hasChild(t)){let e=o.getImmediateChild(t),u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;u!=null&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);let d=u==null?1:a(u,s);if(l&&!n.isEmpty()&&d>=0)return i?.trackChildChange(Ja(t,n,e)),o.updateImmediateChild(t,n);{i?.trackChildChange(qa(t,e));let n=o.updateImmediateChild(t,L.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(i?.trackChildChange(Ka(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}else if(n.isEmpty())return e;else if(l)return a(c,s)>=0?(i!=null&&(i.trackChildChange(qa(c.name,c.node)),i.trackChildChange(Ka(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(c.name,L.EMPTY_NODE)):e;else return e}},$a=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_=``,this.indexStartValue_=null,this.indexStartName_=``,this.indexEndValue_=null,this.indexEndName_=``,this.index_=I}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===``?this.startSet_:this.viewFrom_===`l`}getIndexStartValue(){return C(this.startSet_,`Only valid if start has been set`),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,`Only valid if start has been set`),this.startNameSet_?this.indexStartName_:_r}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,`Only valid if end has been set`),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,`Only valid if end has been set`),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==``}getLimit(){return C(this.limitSet_,`Only valid if limit has been set`),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===I}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function eo(e){return e.loadsAllData()?new Xa(e.getIndex()):e.hasLimit()?new Qa(e):new Za(e)}function to(e){let t={};if(e.isDefault())return t;let n;if(e.index_===I?n=`$priority`:e.index_===Wa?n=`$value`:e.index_===ga?n=`$key`:(C(e.index_ instanceof Ua,`Unrecognized index type!`),n=e.index_.toString()),t.orderBy=ze(n),e.startSet_){let n=e.startAfterSet_?`startAfter`:`startAt`;t[n]=ze(e.indexStartValue_),e.startNameSet_&&(t[n]+=`,`+ze(e.indexStartName_))}if(e.endSet_){let n=e.endBeforeSet_?`endBefore`:`endAt`;t[n]=ze(e.indexEndValue_),e.endNameSet_&&(t[n]+=`,`+ze(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function no(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===``&&(n=e.isViewFromLeft()?`l`:`r`),t.vf=n}return e.index_!==I&&(t.i=e.index_.toString()),t}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ro=class e extends Vi{reportStats(e){throw Error(`Method not implemented.`)}static getListenId_(e,t){return t===void 0?(C(e._queryParams.isDefault(),`should have a tag if it's not a default query.`),e._path.toString()):`tag$`+t}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=ur(`p:rest:`),this.listens_={}}listen(t,n,r,i){let a=t._path.toString();this.log_(`Listen called for `+a+` `+t._queryIdentifier);let o=e.getListenId_(t,r),s={};this.listens_[o]=s;let c=to(t._queryParams);this.restRequest_(a+`.json`,c,(e,t)=>{let n=t;if(e===404&&(n=null,e=null),e===null&&this.onDataUpdate_(a,n,!1,r),We(this.listens_,o)===s){let t;t=e?e===401?`permission_denied`:`rest_error:`+e:`ok`,i(t,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(e){let t=to(e._queryParams),n=e._path.toString(),r=new ve;return this.restRequest_(n+`.json`,t,(e,t)=>{let i=t;e===404&&(i=null,e=null),e===null?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format=`export`,Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);let a=(this.repoInfo_.secure?`https://`:`http://`)+this.repoInfo_.host+e+`?ns=`+this.repoInfo_.namespace+Ye(t);this.log_(`Sending REST request for `+a);let o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&o.readyState===4){this.log_(`REST Response for `+a+` received. status:`,o.status,`response:`,o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=Re(o.responseText)}catch{pr(`Failed to parse JSON response for `+a+`: `+o.responseText)}n(null,e)}else o.status!==401&&o.status!==404&&pr(`Got unsuccessful REST response for `+a+` Status: `+o.status),n(o.status);n=null}},o.open(`GET`,a,!0),o.send()})}},io=class{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ao(){return{value:null,children:new Map}}function oo(e,t,n){if(N(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=A(t);e.children.has(r)||e.children.set(r,ao());let i=e.children.get(r);t=j(t),oo(i,t,n)}}function so(e,t,n){e.value===null?co(e,(e,r)=>{let i=new O(t.toString()+`/`+e);so(r,i,n)}):n(t,e.value)}function co(e,t){e.children.forEach((e,n)=>{t(n,e)})}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var lo=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t={...e};return this.last_&&wr(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}},uo=10*1e3,fo=30*1e3,po=300*1e3,mo=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new lo(e);let n=uo+(fo-uo)*Math.random();Fr(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;wr(e,(e,r)=>{r>0&&Ue(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Fr(this.reportStats_.bind(this),Math.floor(Math.random()*2*po))}},ho;(function(e){e[e.OVERWRITE=0]=`OVERWRITE`,e[e.MERGE=1]=`MERGE`,e[e.ACK_USER_WRITE=2]=`ACK_USER_WRITE`,e[e.LISTEN_COMPLETE=3]=`LISTEN_COMPLETE`})(ho||={});function go(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _o(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vo(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var yo=class e{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ho.ACK_USER_WRITE,this.source=go()}operationForChild(t){if(N(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),`affectedTree should not have overlapping affected paths.`),this;{let n=this.affectedTree.subtree(new O(t));return new e(k(),n,this.revert)}}else return C(A(this.path)===t,`operationForChild called for unrelated child.`),new e(j(this.path),this.affectedTree,this.revert)}},bo=class e{constructor(e,t){this.source=e,this.path=t,this.type=ho.LISTEN_COMPLETE}operationForChild(t){return N(this.path)?new e(this.source,k()):new e(this.source,j(this.path))}},xo=class e{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ho.OVERWRITE}operationForChild(t){return N(this.path)?new e(this.source,k(),this.snap.getImmediateChild(t)):new e(this.source,j(this.path),this.snap)}},So=class e{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ho.MERGE}operationForChild(t){if(N(this.path)){let n=this.children.subtree(new O(t));return n.isEmpty()?null:n.value?new xo(this.source,k(),n.value):new e(this.source,k(),n)}else return C(A(this.path)===t,`Can't get a merge for a child not on the path of the operation`),new e(this.source,j(this.path),this.children)}toString(){return`Operation(`+this.path+`: `+this.source.toString()+` merge: `+this.children.toString()+`)`}},Co=class{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(N(e))return this.isFullyInitialized()&&!this.filtered_;let t=A(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}},wo=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function To(e,t,n,r){let i=[],a=[];return t.forEach(t=>{t.type===`child_changed`&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push(Ya(t.childName,t.snapshotNode))}),Eo(e,i,`child_removed`,t,r,n),Eo(e,i,`child_added`,t,r,n),Eo(e,i,`child_moved`,a,r,n),Eo(e,i,`child_changed`,t,r,n),Eo(e,i,`value`,t,r,n),i}function Eo(e,t,n,r,i,a){let o=r.filter(e=>e.type===n);o.sort((t,n)=>z(e,t,n)),o.forEach(n=>{let r=R(e,n,a);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function R(e,t,n){return t.type===`value`||t.type===`child_removed`||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function z(e,t,n){if(t.childName==null||n.childName==null)throw ne(`Should only compare child_ events.`);let r=new F(t.childName,t.snapshotNode),i=new F(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Do(e,t){return{eventCache:e,serverCache:t}}function Oo(e,t,n,r){return Do(new Co(t,n,r),e.serverCache)}function ko(e,t,n,r){return Do(e.eventCache,new Co(t,n,r))}function Ao(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function jo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Mo,No=()=>(Mo||=new ba(br),Mo),Po=class e{static fromObject(t){let n=new e(null);return wr(t,(e,t)=>{n=n.set(new O(e),t)}),n}constructor(e,t=No()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:k(),value:this.value};if(N(e))return null;{let n=A(e),r=this.children.get(n);if(r!==null){let i=r.findRootMostMatchingPathAndValue(j(e),t);return i==null?null:{path:M(new O(n),i.path),value:i.value}}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(t){if(N(t))return this;{let n=A(t),r=this.children.get(n);return r===null?new e(null):r.subtree(j(t))}}set(t,n){if(N(t))return new e(n,this.children);{let r=A(t),i=(this.children.get(r)||new e(null)).set(j(t),n),a=this.children.insert(r,i);return new e(this.value,a)}}remove(t){if(N(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=A(t),r=this.children.get(n);if(r){let i=r.remove(j(t)),a;return a=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),this.value===null&&a.isEmpty()?new e(null):new e(this.value,a)}else return this}}get(e){if(N(e))return this.value;{let t=A(e),n=this.children.get(t);return n?n.get(j(e)):null}}setTree(t,n){if(N(t))return n;{let r=A(t),i=(this.children.get(r)||new e(null)).setTree(j(t),n),a;return a=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,a)}}fold(e){return this.fold_(k(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(M(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,k(),t)}findOnPath_(e,t,n){let r=this.value?n(t,this.value):!1;if(r)return r;if(N(e))return null;{let r=A(e),i=this.children.get(r);return i?i.findOnPath_(j(e),M(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,k(),t)}foreachOnPath_(t,n,r){if(N(t))return this;{this.value&&r(n,this.value);let i=A(t),a=this.children.get(i);return a?a.foreachOnPath_(j(t),M(n,i),r):new e(null)}}foreach(e){this.foreach_(k(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(M(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}},B=class e{constructor(e){this.writeTree_=e}static empty(){return new e(new Po(null))}};function Fo(e,t,n){if(N(t))return new B(new Po(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,a=r.value,o=P(i,t);return a=a.updateChild(o,n),new B(e.writeTree_.set(i,a))}else{let r=new Po(n),i=e.writeTree_.setTree(t,r);return new B(i)}}}function Io(e,t,n){let r=e;return wr(n,(e,n)=>{r=Fo(r,M(t,e),n)}),r}function Lo(e,t){if(N(t))return B.empty();{let n=e.writeTree_.setTree(t,new Po(null));return new B(n)}}function Ro(e,t){return zo(e,t)!=null}function zo(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n==null?null:e.writeTree_.get(n.path).getChild(P(n.path,t))}function Bo(e){let t=[],n=e.writeTree_.value;return n==null?e.writeTree_.children.inorderTraversal((e,n)=>{n.value!=null&&t.push(new F(e,n.value))}):n.isLeafNode()||n.forEachChild(I,(e,n)=>{t.push(new F(e,n))}),t}function Vo(e,t){if(N(t))return e;{let n=zo(e,t);return n==null?new B(e.writeTree_.subtree(t)):new B(new Po(n))}}function Ho(e){return e.writeTree_.isEmpty()}function Uo(e,t){return Wo(k(),e.writeTree_,t)}function Wo(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{t===`.priority`?(C(i.value!==null,`Priority writes must always be leaf nodes`),r=i.value):n=Wo(M(e,t),i,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(M(e,`.priority`),r)),n}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Go(e,t){return hs(t,e)}function Ko(e,t,n,r,i){C(r>e.lastWriteId,`Stacking an older write on top of newer ones`),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Fo(e.visibleWrites,t,n)),e.lastWriteId=r}function qo(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function Jo(e,t){let n=e.allWrites.findIndex(e=>e.writeId===t);C(n>=0,`removeWrite called with nonexistent writeId.`);let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,o=e.allWrites.length-1;for(;i&&o>=0;){let t=e.allWrites[o];t.visible&&(o>=n&&Yo(t,r.path)?i=!1:Qi(r.path,t.path)&&(a=!0)),o--}if(i){if(a)return Xo(e),!0;if(r.snap)e.visibleWrites=Lo(e.visibleWrites,r.path);else{let t=r.children;wr(t,t=>{e.visibleWrites=Lo(e.visibleWrites,M(r.path,t))})}return!0}else return!1}function Yo(e,t){if(e.snap)return Qi(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Qi(M(e.path,n),t))return!0;return!1}function Xo(e){e.visibleWrites=Qo(e.allWrites,Zo,k()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Zo(e){return e.visible}function Qo(e,t,n){let r=B.empty();for(let i=0;i<e.length;++i){let a=e[i];if(t(a)){let e=a.path,t;if(a.snap)Qi(n,e)?(t=P(n,e),r=Fo(r,t,a.snap)):Qi(e,n)&&(t=P(e,n),r=Fo(r,k(),a.snap.getChild(t)));else if(a.children){if(Qi(n,e))t=P(n,e),r=Io(r,t,a.children);else if(Qi(e,n))if(t=P(e,n),N(t))r=Io(r,k(),a.children);else{let e=We(a.children,A(t));if(e){let n=e.getChild(j(t));r=Fo(r,k(),n)}}}else throw ne(`WriteRecord should have .snap or .children`)}}return r}function $o(e,t,n,r,i){if(!r&&!i){let r=zo(e.visibleWrites,t);if(r!=null)return r;{let r=Vo(e.visibleWrites,t);if(Ho(r))return n;if(n==null&&!Ro(r,k()))return null;{let e=n||L.EMPTY_NODE;return Uo(r,e)}}}else{let a=Vo(e.visibleWrites,t);if(!i&&Ho(a))return n;if(!i&&n==null&&!Ro(a,k()))return null;{let a=Qo(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Qi(e.path,t)||Qi(t,e.path))},t),o=n||L.EMPTY_NODE;return Uo(a,o)}}}function es(e,t,n){let r=L.EMPTY_NODE,i=zo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(I,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){let i=Vo(e.visibleWrites,t);return n.forEachChild(I,(e,t)=>{let n=Uo(Vo(i,new O(e)),t);r=r.updateImmediateChild(e,n)}),Bo(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}else{let n=Vo(e.visibleWrites,t);return Bo(n).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}}function ts(e,t,n,r,i){C(r||i,`Either existingEventSnap or existingServerSnap must exist`);let a=M(t,n);if(Ro(e.visibleWrites,a))return null;{let t=Vo(e.visibleWrites,a);return Ho(t)?i.getChild(n):Uo(t,i.getChild(n))}}function ns(e,t,n,r){let i=M(t,n),a=zo(e.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){let t=Vo(e.visibleWrites,i);return Uo(t,r.getNode().getImmediateChild(n))}else return null}function rs(e,t){return zo(e.visibleWrites,t)}function os(e,t,n,r,i,a,o){let s,c=Vo(e.visibleWrites,t),l=zo(c,k());if(l!=null)s=l;else if(n!=null)s=Uo(c,n);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){let e=[],t=o.getCompare(),n=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),c=n.getNext();for(;c&&e.length<i;)t(c,r)!==0&&e.push(c),c=n.getNext();return e}else return[]}function ss(){return{visibleWrites:B.empty(),allWrites:[],lastWriteId:-1}}function cs(e,t,n,r){return $o(e.writeTree,e.treePath,t,n,r)}function ls(e,t){return es(e.writeTree,e.treePath,t)}function us(e,t,n,r){return ts(e.writeTree,e.treePath,t,n,r)}function ds(e,t){return rs(e.writeTree,M(e.treePath,t))}function fs(e,t,n,r,i,a){return os(e.writeTree,e.treePath,t,n,r,i,a)}function ps(e,t,n){return ns(e.writeTree,e.treePath,t,n)}function ms(e,t){return hs(M(e.treePath,t),e.writeTree)}function hs(e,t){return{treePath:e,writeTree:t}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var gs=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;C(t===`child_added`||t===`child_changed`||t===`child_removed`,`Only child changes supported for tracking`),C(n!==`.priority`,`Only non-priority child changes can be tracked.`);let r=this.changeMap.get(n);if(r){let i=r.type;if(t===`child_added`&&i===`child_removed`)this.changeMap.set(n,Ja(n,e.snapshotNode,r.snapshotNode));else if(t===`child_removed`&&i===`child_added`)this.changeMap.delete(n);else if(t===`child_removed`&&i===`child_changed`)this.changeMap.set(n,qa(n,r.oldSnap));else if(t===`child_changed`&&i===`child_added`)this.changeMap.set(n,Ka(n,e.snapshotNode));else if(t===`child_changed`&&i===`child_changed`)this.changeMap.set(n,Ja(n,e.snapshotNode,r.oldSnap));else throw ne(`Illegal combination of changes: `+e+` occurred after `+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}},_s=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}},vs=class{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=this.optCompleteServerCache_==null?this.viewCache_.serverCache:new Co(this.optCompleteServerCache_,!0,!1);return ps(this.writes_,e,t)}}getChildAfterChild(e,t,n){let r=this.optCompleteServerCache_==null?jo(this.viewCache_):this.optCompleteServerCache_,i=fs(this.writes_,r,t,1,n,e);return i.length===0?null:i[0]}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ys(e){return{filter:e}}function bs(e,t){C(t.eventCache.getNode().isIndexed(e.filter.getIndex()),`Event snap not indexed`),C(t.serverCache.getNode().isIndexed(e.filter.getIndex()),`Server snap not indexed`)}function xs(e,t,n,r,i){let a=new gs,o,s;if(n.type===ho.OVERWRITE){let c=n;c.source.fromUser?o=Ts(e,t,c.path,c.snap,r,i,a):(C(c.source.fromServer,`Unknown source.`),s=c.source.tagged||t.serverCache.isFiltered()&&!N(c.path),o=ws(e,t,c.path,c.snap,r,i,s,a))}else if(n.type===ho.MERGE){let c=n;c.source.fromUser?o=Ds(e,t,c.path,c.children,r,i,a):(C(c.source.fromServer,`Unknown source.`),s=c.source.tagged||t.serverCache.isFiltered(),o=ks(e,t,c.path,c.children,r,i,s,a))}else if(n.type===ho.ACK_USER_WRITE){let s=n;o=s.revert?Ms(e,t,s.path,r,i,a):As(e,t,s.path,s.affectedTree,r,i,a)}else if(n.type===ho.LISTEN_COMPLETE)o=js(e,t,n.path,r,a);else throw ne(`Unknown operation type: `+n.type);let c=a.getChanges();return Ss(t,o,c),{viewCache:o,changes:c}}function Ss(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ao(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Ga(Ao(t)))}}function Cs(e,t,n,r,i,a){let o=t.eventCache;if(ds(r,n)!=null)return t;{let s,c;if(N(n))if(C(t.serverCache.isFullyInitialized(),`If change path is empty, we must have complete server data`),t.serverCache.isFiltered()){let n=jo(t),i=n instanceof L?n:L.EMPTY_NODE,o=ls(r,i);s=e.filter.updateFullNode(t.eventCache.getNode(),o,a)}else{let n=cs(r,jo(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,a)}else{let l=A(n);if(l===`.priority`){C(Ki(n)===1,`Can't have a priority with additional path components`);let i=o.getNode();c=t.serverCache.getNode();let a=us(r,n,i,c);s=a==null?o.getNode():e.filter.updatePriority(i,a)}else{let u=j(n),d;if(o.isCompleteForChild(l)){c=t.serverCache.getNode();let e=us(r,n,o.getNode(),c);d=e==null?o.getNode().getImmediateChild(l):o.getNode().getImmediateChild(l).updateChild(u,e)}else d=ps(r,l,t.serverCache);s=d==null?o.getNode():e.filter.updateChild(o.getNode(),l,d,u,i,a)}}return Oo(t,s,o.isFullyInitialized()||N(n),e.filter.filtersNodes())}}function ws(e,t,n,r,i,a,o,s){let c=t.serverCache,l,u=o?e.filter:e.filter.getIndexedFilter();if(N(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{let e=A(n);if(!c.isCompleteForPath(n)&&Ki(n)>1)return t;let i=j(n),a=c.getNode().getImmediateChild(e).updateChild(i,r);l=e===`.priority`?u.updatePriority(c.getNode(),a):u.updateChild(c.getNode(),e,a,i,_s,null)}let d=ko(t,l,c.isFullyInitialized()||N(n),u.filtersNodes()),f=new vs(i,d,a);return Cs(e,d,n,i,f,s)}function Ts(e,t,n,r,i,a,o){let s=t.eventCache,c,l,u=new vs(i,t,a);if(N(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,o),c=Oo(t,l,!0,e.filter.filtersNodes());else{let i=A(n);if(i===`.priority`)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Oo(t,l,s.isFullyInitialized(),s.isFiltered());else{let a=j(n),l=s.getNode().getImmediateChild(i),d;if(N(a))d=r;else{let e=u.getCompleteChild(i);d=e==null?L.EMPTY_NODE:qi(a)===`.priority`&&e.getChild(Xi(a)).isEmpty()?e:e.updateChild(a,r)}if(l.equals(d))c=t;else{let n=e.filter.updateChild(s.getNode(),i,d,a,u,o);c=Oo(t,n,s.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Es(e,t){return e.eventCache.isCompleteForChild(t)}function Ds(e,t,n,r,i,a,o){let s=t;return r.foreach((r,c)=>{let l=M(n,r);Es(t,A(l))&&(s=Ts(e,s,l,c,i,a,o))}),r.foreach((r,c)=>{let l=M(n,r);Es(t,A(l))||(s=Ts(e,s,l,c,i,a,o))}),s}function Os(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function ks(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;l=N(n)?r:new Po(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){let l=t.serverCache.getNode().getImmediateChild(n),u=Os(e,l,r);c=ws(e,c,new O(n),u,i,a,o,s)}}),l.children.inorderTraversal((n,r)=>{let l=!t.serverCache.isCompleteForChild(n)&&r.value===null;if(!u.hasChild(n)&&!l){let l=t.serverCache.getNode().getImmediateChild(n),u=Os(e,l,r);c=ws(e,c,new O(n),u,i,a,o,s)}}),c}function As(e,t,n,r,i,a,o){if(ds(i,n)!=null)return t;let s=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(N(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ws(e,t,n,c.getNode().getChild(n),i,a,s,o);if(N(n)){let r=new Po(null);return c.getNode().forEachChild(ga,(e,t)=>{r=r.set(new O(e),t)}),ks(e,t,n,r,i,a,s,o)}else return t}else{let l=new Po(null);return r.foreach((e,t)=>{let r=M(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))}),ks(e,t,n,l,i,a,s,o)}}function js(e,t,n,r,i){let a=t.serverCache,o=ko(t,a.getNode(),a.isFullyInitialized()||N(n),a.isFiltered());return Cs(e,o,n,r,_s,i)}function Ms(e,t,n,r,i,a){let o;if(ds(r,n)!=null)return t;{let s=new vs(r,t,i),c=t.eventCache.getNode(),l;if(N(n)||A(n)===`.priority`){let n;if(t.serverCache.isFullyInitialized())n=cs(r,jo(t));else{let e=t.serverCache.getNode();C(e instanceof L,`serverChildren would be complete if leaf node`),n=ls(r,e)}n=n,l=e.filter.updateFullNode(c,n,a)}else{let i=A(n),u=ps(r,i,t.serverCache);u==null&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=u==null?t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,L.EMPTY_NODE,j(n),s,a):c:e.filter.updateChild(c,i,u,j(n),s,a),l.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=cs(r,jo(t)),o.isLeafNode()&&(l=e.filter.updateFullNode(l,o,a)))}return o=t.serverCache.isFullyInitialized()||ds(r,k())!=null,Oo(t,l,o,e.filter.filtersNodes())}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ns=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new Xa(n.getIndex()),i=eo(n);this.processor_=ys(i);let a=t.serverCache,o=t.eventCache,s=r.updateFullNode(L.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(L.EMPTY_NODE,o.getNode(),null),l=new Co(s,a.isFullyInitialized(),r.filtersNodes()),u=new Co(c,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=Do(u,l),this.eventGenerator_=new wo(this.query_)}get query(){return this.query_}};function Ps(e){return e.viewCache_.serverCache.getNode()}function Fs(e){return Ao(e.viewCache_)}function Is(e,t){let n=jo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!N(t)&&!n.getImmediateChild(A(t)).isEmpty())?n.getChild(t):null}function Ls(e){return e.eventRegistrations_.length===0}function Rs(e,t){e.eventRegistrations_.push(t)}function zs(e,t,n){let r=[];if(n){C(t==null,`A cancel should cancel all event registrations.`);let i=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){let i=e.eventRegistrations_[r];if(!i.matches(t))n.push(i);else if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Bs(e,t,n,r){t.type===ho.MERGE&&t.source.queryId!==null&&(C(jo(e.viewCache_),`We should always have a full cache before handling merges`),C(Ao(e.viewCache_),`Missing event cache, even though we have a server cache`));let i=e.viewCache_,a=xs(e.processor_,i,t,n,r);return bs(e.processor_,a.viewCache),C(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),`Once a server snap is complete, it should never go back`),e.viewCache_=a.viewCache,Hs(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Vs(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(I,(e,t)=>{r.push(Ka(e,t))}),n.isFullyInitialized()&&r.push(Ga(n.getNode())),Hs(e,r,n.getNode(),t)}function Hs(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return To(e.eventGenerator_,t,n,i)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Us,Ws=class{constructor(){this.views=new Map}};function Gs(e){C(!Us,`__referenceConstructor has already been defined`),Us=e}function Ks(){return C(Us,`Reference.ts has not been loaded`),Us}function qs(e){return e.views.size===0}function Js(e,t,n,r){let i=t.source.queryId;if(i!==null){let a=e.views.get(i);return C(a!=null,`SyncTree gave us an op for an invalid query.`),Bs(a,t,n,r)}else{let i=[];for(let a of e.views.values())i=i.concat(Bs(a,t,n,r));return i}}function Ys(e,t,n,r,i){let a=t._queryIdentifier,o=e.views.get(a);if(!o){let e=cs(n,i?r:null),a=!1;e?a=!0:r instanceof L?(e=ls(n,r),a=!1):(e=L.EMPTY_NODE,a=!1);let o=Do(new Co(e,a,!1),new Co(r,i,!1));return new Ns(t,o)}return o}function Xs(e,t,n,r,i,a){let o=Ys(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Rs(o,n),Vs(o,n)}function Zs(e,t,n,r){let i=t._queryIdentifier,a=[],o=[],s=nc(e);if(i===`default`)for(let[t,i]of e.views.entries())o=o.concat(zs(i,n,r)),Ls(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||a.push(i.query));else{let t=e.views.get(i);t&&(o=o.concat(zs(t,n,r)),Ls(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||a.push(t.query)))}return s&&!nc(e)&&a.push(new(Ks())(t._repo,t._path)),{removed:a,events:o}}function Qs(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function $s(e,t){let n=null;for(let r of e.views.values())n||=Is(r,t);return n}function ec(e,t){if(t._queryParams.loadsAllData())return rc(e);{let n=t._queryIdentifier;return e.views.get(n)}}function tc(e,t){return ec(e,t)!=null}function nc(e){return rc(e)!=null}function rc(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ic;function ac(e){C(!ic,`__referenceConstructor has already been defined`),ic=e}function oc(){return C(ic,`Reference.ts has not been loaded`),ic}var sc=1,cc=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Po(null),this.pendingWriteTree_=ss(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function lc(e,t,n,r,i){return Ko(e.pendingWriteTree_,t,n,r,i),i?xc(e,new xo(go(),t,n)):[]}function uc(e,t,n=!1){let r=qo(e.pendingWriteTree_,t);if(Jo(e.pendingWriteTree_,t)){let t=new Po(null);return r.snap==null?wr(r.children,e=>{t=t.set(new O(e),!0)}):t=t.set(k(),!0),xc(e,new yo(r.path,t,n))}else return[]}function dc(e,t,n){return xc(e,new xo(_o(),t,n))}function fc(e,t,n){let r=Po.fromObject(n);return xc(e,new So(_o(),t,r))}function pc(e,t){return xc(e,new bo(_o(),t))}function mc(e,t,n){let r=Dc(e,n);if(r){let n=Oc(r),i=n.path,a=n.queryId,o=P(i,t),s=new bo(vo(a),o);return kc(e,i,s)}else return[]}function hc(e,t,n,r,i=!1){let a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&(t._queryIdentifier===`default`||tc(o,t))){let c=Zs(o,t,n,r);qs(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));let l=c.removed;if(s=c.events,!i){let n=l.findIndex(e=>e._queryParams.loadsAllData())!==-1,i=e.syncPointTree_.findOnPath(a,(e,t)=>nc(t));if(n&&!i){let t=e.syncPointTree_.subtree(a);if(!t.isEmpty()){let n=Ac(t);for(let t=0;t<n.length;++t){let r=n[t],i=r.query,a=wc(e,r);e.listenProvider_.startListening(jc(i),Tc(e,i),a.hashFn,a.onComplete)}}}!i&&l.length>0&&!r&&(n?e.listenProvider_.stopListening(jc(t),null):l.forEach(t=>{let n=e.queryToTagMap.get(Ec(t));e.listenProvider_.stopListening(jc(t),n)}))}Mc(e,l)}return s}function gc(e,t,n,r){let i=Dc(e,r);if(i!=null){let r=Oc(i),a=r.path,o=r.queryId,s=P(a,t),c=new xo(vo(o),s,n);return kc(e,a,c)}else return[]}function _c(e,t,n,r){let i=Dc(e,r);if(i){let r=Oc(i),a=r.path,o=r.queryId,s=P(a,t),c=Po.fromObject(n),l=new So(vo(o),s,c);return kc(e,a,l)}else return[]}function vc(e,t,n,r=!1){let i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{let n=P(e,i);a||=$s(t,n),o||=nc(t)});let s=e.syncPointTree_.get(i);s?(o||=nc(s),a||=$s(s,k())):(s=new Ws,e.syncPointTree_=e.syncPointTree_.set(i,s));let c;a==null?(c=!1,a=L.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((e,t)=>{let n=$s(t,k());n&&(a=a.updateImmediateChild(e,n))})):c=!0;let l=tc(s,t);if(!l&&!t._queryParams.loadsAllData()){let n=Ec(t);C(!e.queryToTagMap.has(n),`View does not exist, but we have a tag`);let r=Nc();e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Go(e.pendingWriteTree_,i),d=Xs(s,t,n,u,a,c);if(!l&&!o&&!r){let n=ec(s,t);d=d.concat(Pc(e,t,n))}return d}function yc(e,t,n){let r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{let r=P(e,t),i=$s(n,r);if(i)return i});return $o(r,t,i,n,!0)}function bc(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{let i=P(e,n);r||=$s(t,i)});let i=e.syncPointTree_.get(n);i?r||=$s(i,k()):(i=new Ws,e.syncPointTree_=e.syncPointTree_.set(n,i));let a=r!=null,o=a?new Co(r,!0,!1):null,s=Go(e.pendingWriteTree_,t._path),c=Ys(i,t,s,a?o.getNode():L.EMPTY_NODE,a);return Fs(c)}function xc(e,t){return Sc(t,e.syncPointTree_,null,Go(e.pendingWriteTree_,k()))}function Sc(e,t,n,r){if(N(e.path))return Cc(e,t,n,r);{let i=t.get(k());n==null&&i!=null&&(n=$s(i,k()));let a=[],o=A(e.path),s=e.operationForChild(o),c=t.children.get(o);if(c&&s){let e=n?n.getImmediateChild(o):null,t=ms(r,o);a=a.concat(Sc(s,c,e,t))}return i&&(a=a.concat(Js(i,e,r,n))),a}}function Cc(e,t,n,r){let i=t.get(k());n==null&&i!=null&&(n=$s(i,k()));let a=[];return t.children.inorderTraversal((t,i)=>{let o=n?n.getImmediateChild(t):null,s=ms(r,t),c=e.operationForChild(t);c&&(a=a.concat(Cc(c,i,o,s)))}),i&&(a=a.concat(Js(i,e,r,n))),a}function wc(e,t){let n=t.query,r=Tc(e,n);return{hashFn:()=>(Ps(t)||L.EMPTY_NODE).hash(),onComplete:t=>{if(t===`ok`)return r?mc(e,n._path,r):pc(e,n._path);{let r=Or(t,n);return hc(e,n,null,r)}}}}function Tc(e,t){let n=Ec(t);return e.queryToTagMap.get(n)}function Ec(e){return e._path.toString()+`$`+e._queryIdentifier}function Dc(e,t){return e.tagToQueryMap.get(t)}function Oc(e){let t=e.indexOf(`$`);return C(t!==-1&&t<e.length-1,`Bad queryKey.`),{queryId:e.substr(t+1),path:new O(e.substr(0,t))}}function kc(e,t,n){let r=e.syncPointTree_.get(t);C(r,`Missing sync point for query tag that we're tracking`);let i=Go(e.pendingWriteTree_,t);return Js(r,n,i,null)}function Ac(e){return e.fold((e,t,n)=>{if(t&&nc(t))return[rc(t)];{let e=[];return t&&(e=Qs(t)),wr(n,(t,n)=>{e=e.concat(n)}),e}})}function jc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(oc())(e._repo,e._path):e}function Mc(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let t=Ec(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}function Nc(){return sc++}function Pc(e,t,n){let r=t._path,i=Tc(e,t),a=wc(e,n),o=e.listenProvider_.startListening(jc(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)C(!nc(s.value),`If we're adding a query, it shouldn't be shadowed`);else{let t=s.fold((e,t,n)=>{if(!N(e)&&t&&nc(t))return[rc(t).query];{let e=[];return t&&(e=e.concat(Qs(t).map(e=>e.query))),wr(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let r=t[n];e.listenProvider_.stopListening(jc(r),Tc(e,r))}}return o}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Fc=class e{constructor(e){this.node_=e}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},Ic=class e{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(t){let n=M(this.path_,t);return new e(this.syncTree_,n)}node(){return yc(this.syncTree_,this.path_)}},Lc=function(e){return e||={},e.timestamp=e.timestamp||new Date().getTime(),e},Rc=function(e,t,n){if(!e||typeof e!=`object`)return e;if(C(`.sv`in e,`Unexpected leaf node or priority contents`),typeof e[`.sv`]==`string`)return zc(e[`.sv`],t,n);if(typeof e[`.sv`]==`object`)return Bc(e[`.sv`],t);C(!1,`Unexpected server value: `+JSON.stringify(e,null,2))},zc=function(e,t,n){switch(e){case`timestamp`:return n.timestamp;default:C(!1,`Unexpected server value: `+e)}},Bc=function(e,t,n){e.hasOwnProperty(`increment`)||C(!1,`Unexpected server value: `+JSON.stringify(e,null,2));let r=e.increment;typeof r!=`number`&&C(!1,`Unexpected increment value: `+r);let i=t.node();if(C(i!=null,`Expected ChildrenNode.EMPTY_NODE for nulls`),!i.isLeafNode())return r;let a=i.getValue();return typeof a==`number`?a+r:r},Vc=function(e,t,n,r){return Uc(t,new Ic(n,e),r)},Hc=function(e,t,n){return Uc(e,new Fc(t),n)};function Uc(e,t,n){let r=e.getPriority().val(),i=Rc(r,t.getImmediateChild(`.priority`),n),a;if(e.isLeafNode()){let r=e,a=Rc(r.getValue(),t,n);return a!==r.getValue()||i!==r.getPriority().val()?new Oa(a,Ha(i)):e}else{let r=e;return a=r,i!==r.getPriority().val()&&(a=a.updatePriority(new Oa(i))),r.forEachChild(I,(e,r)=>{let i=Uc(r,t.getImmediateChild(e),n);i!==r&&(a=a.updateImmediateChild(e,i))}),a}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Wc=class{constructor(e=``,t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}};function Gc(e,t){let n=t instanceof O?t:new O(t),r=e,i=A(n);for(;i!==null;){let e=We(r.node.children,i)||{children:{},childCount:0};r=new Wc(i,r,e),n=j(n),i=A(n)}return r}function Kc(e){return e.node.value}function qc(e,t){e.node.value=t,V(e)}function Jc(e){return e.node.childCount>0}function Yc(e){return Kc(e)===void 0&&!Jc(e)}function Xc(e,t){wr(e.node.children,(n,r)=>{t(new Wc(n,e,r))})}function Zc(e,t,n,r){n&&!r&&t(e),Xc(e,e=>{Zc(e,t,!0,r)}),n&&r&&t(e)}function Qc(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function $c(e){return new O(e.parent===null?e.name:$c(e.parent)+`/`+e.name)}function V(e){e.parent!==null&&el(e.parent,e.name,e)}function el(e,t,n){let r=Yc(n),i=Ue(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,V(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,V(e))}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var tl=/[\[\].#$\/\u0000-\u001F\u007F]/,nl=/[\[\].#$\u0000-\u001F\u007F]/,rl=10*1024*1024,il=function(e){return typeof e==`string`&&e.length!==0&&!tl.test(e)},al=function(e){return typeof e==`string`&&e.length!==0&&!nl.test(e)},ol=function(e){return e&&=e.replace(/^\/*\.info(\/|$)/,`/`),al(e)},sl=function(e,t,n,r){r&&t===void 0||cl(Ze(e,`value`),t,n)},cl=function(e,t,n){let r=n instanceof O?new $i(n,e):n;if(t===void 0)throw Error(e+`contains undefined `+ra(r));if(typeof t==`function`)throw Error(e+`contains a function `+ra(r)+` with contents = `+t.toString());if(hr(t))throw Error(e+`contains `+t.toString()+` `+ra(r));if(typeof t==`string`&&t.length>rl/3&&$e(t)>rl)throw Error(e+`contains a string greater than 10485760 utf8 bytes `+ra(r)+` ('`+t.substring(0,50)+`...')`);if(t&&typeof t==`object`){let n=!1,i=!1;if(wr(t,(t,a)=>{if(t===`.value`)n=!0;else if(t!==`.priority`&&t!==`.sv`&&(i=!0,!il(t)))throw Error(e+` contains an invalid key (`+t+`) `+ra(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ea(r,t),cl(e,a,r),ta(r)}),n&&i)throw Error(e+` contains ".value" child `+ra(r)+` in addition to actual children.`)}},ll=function(e,t,n,r){if(!(r&&n===void 0)&&!al(n))throw Error(Ze(e,t)+`was an invalid path = "`+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ul=function(e,t,n,r){n&&=n.replace(/^\/*\.info(\/|$)/,`/`),ll(e,t,n,r)},dl=function(e,t){if(A(t)===`.info`)throw Error(e+` failed = Can't modify data under /.info/`)},fl=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!=`string`||t.repoInfo.host.length===0||!il(t.repoInfo.namespace)&&t.repoInfo.host.split(`:`)[0]!==`localhost`||n.length!==0&&!ol(n))throw Error(Ze(e,`url`)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},pl=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function ml(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],a=i.getPath();n!==null&&!Zi(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function hl(e,t,n){ml(e,n),gl(e,e=>Qi(e,t)||Qi(t,e))}function gl(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let a=i.path;t(a)?(_l(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _l(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();or&&lr(`event: `+n.toString()),Nr(r)}}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var vl=`repo_interrupt`,yl=25,bl=class{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ao(),this.transactionQueueTree_=new Wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?`https://`:`http://`)+this.repoInfo_.host}};function xl(e,t,n){if(e.stats_=ni(e.repoInfo_),e.forceRestClient_||Pr())e.server_=new ro(e.repoInfo_,(t,n,r,i)=>{H(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>wl(e,!0),0);else{if(n!=null){if(typeof n!=`object`)throw Error(`Only objects are supported for option databaseAuthVariableOverride`);try{ze(n)}catch(e){throw Error(`Invalid authOverride provided: `+e)}}e.persistentConnection_=new fa(e.repoInfo_,t,(t,n,r,i)=>{H(e,t,n,r,i)},t=>{wl(e,t)},t=>{Tl(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=ri(e.repoInfo_,()=>new mo(e.stats_,e.server_)),e.infoData_=new io,e.infoSyncTree_=new cc({startListening:(t,n,r,i)=>{let a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=dc(e.infoSyncTree_,t._path,o),setTimeout(()=>{i(`ok`)},0)),a},stopListening:()=>{}}),El(e,`connected`,!1),e.serverSyncTree_=new cc({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{let a=i(n,r);hl(e.eventQueue_,t._path,a)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Sl(e){let t=e.infoData_.getNode(new O(`.info/serverTimeOffset`)).val()||0;return new Date().getTime()+t}function Cl(e){return Lc({timestamp:Sl(e)})}function H(e,t,n,r,i){e.dataUpdateCount++;let a=new O(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){let t=Ke(n,e=>Ha(e));o=_c(e.serverSyncTree_,a,t,i)}else{let t=Ha(n);o=gc(e.serverSyncTree_,a,t,i)}else if(r){let t=Ke(n,e=>Ha(e));o=fc(e.serverSyncTree_,a,t)}else{let t=Ha(n);o=dc(e.serverSyncTree_,a,t)}let s=a;o.length>0&&(s=Ll(e,a)),hl(e.eventQueue_,s,o)}function wl(e,t){El(e,`connected`,t),t===!1&&Al(e)}function Tl(e,t){wr(t,(t,n)=>{El(e,t,n)})}function El(e,t,n){let r=new O(`/.info/`+t),i=Ha(n);e.infoData_.updateSnapshot(r,i);let a=dc(e.infoSyncTree_,r,i);hl(e.eventQueue_,r,a)}function Dl(e){return e.nextWriteId_++}function Ol(e,t,n){let r=bc(e.serverSyncTree_,t);return r==null?e.server_.get(t).then(r=>{let i=Ha(r).withIndex(t._queryParams.getIndex());vc(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=dc(e.serverSyncTree_,t._path,i);else{let n=Tc(e.serverSyncTree_,t);a=gc(e.serverSyncTree_,t._path,i,n)}return hl(e.eventQueue_,t._path,a),hc(e.serverSyncTree_,t,n,null,!0),i},n=>(Ml(e,`get for query `+ze(t)+` failed: `+n),Promise.reject(Error(n)))):Promise.resolve(r)}function kl(e,t,n,r,i){Ml(e,`set`,{path:t.toString(),value:n,priority:r});let a=Cl(e),o=Ha(n,r),s=yc(e.serverSyncTree_,t),c=Hc(o,s,a),l=Dl(e),u=lc(e.serverSyncTree_,t,c,l,!0);ml(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{let a=n===`ok`;a||pr(`set at `+t+` failed: `+n);let o=uc(e.serverSyncTree_,l,!a);hl(e.eventQueue_,t,o),Nl(e,i,n,r)});let d=Ul(e,t);Ll(e,d),hl(e.eventQueue_,d,[])}function Al(e){Ml(e,`onDisconnectEvents`);let t=Cl(e),n=ao();so(e.onDisconnect_,k(),(r,i)=>{let a=Vc(r,i,e.serverSyncTree_,t);oo(n,r,a)});let r=[];so(n,k(),(t,n)=>{r=r.concat(dc(e.serverSyncTree_,t,n));let i=Ul(e,t);Ll(e,i)}),e.onDisconnect_=ao(),hl(e.eventQueue_,k(),r)}function jl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vl)}function Ml(e,...t){let n=``;e.persistentConnection_&&(n=e.persistentConnection_.id+`:`),lr(n,...t)}function Nl(e,t,n,r){t&&Nr(()=>{if(n===`ok`)t(null);else{let e=(n||`error`).toUpperCase(),i=e;r&&(i+=`: `+r);let a=Error(i);a.code=e,t(a)}})}function Pl(e,t,n){return yc(e.serverSyncTree_,t,n)||L.EMPTY_NODE}function Fl(e,t=e.transactionQueueTree_){if(t||Hl(e,t),Kc(t)){let n=Bl(e,t);C(n.length>0,`Sending zero length transaction queue`),n.every(e=>e.status===0)&&Il(e,$c(t),n)}else Jc(t)&&Xc(t,t=>{Fl(e,t)})}function Il(e,t,n){let r=n.map(e=>e.currentWriteId),i=Pl(e,t,r),a=i,o=i.hash();for(let e=0;e<n.length;e++){let r=n[e];C(r.status===0,`tryToSendTransactionQueue_: items in queue should all be run.`),r.status=1,r.retryCount++;let i=P(t,r.path);a=a.updateChild(i,r.currentOutputSnapshotRaw)}let s=a.val(!0),c=t;e.server_.put(c.toString(),s,r=>{Ml(e,`transaction put response`,{path:c.toString(),status:r});let i=[];if(r===`ok`){let r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(uc(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Hl(e,Gc(e.transactionQueueTree_,t)),Fl(e,e.transactionQueueTree_),hl(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Nr(r[e])}else{if(r===`datastale`)for(let e=0;e<n.length;e++)n[e].status===3?n[e].status=4:n[e].status=0;else{pr(`transaction at `+c.toString()+` failed: `+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Ll(e,t)}},o)}function Ll(e,t){let n=zl(e,t),r=$c(n),i=Bl(e,n);return Rl(e,i,r),r}function Rl(e,t,n){if(t.length===0)return;let r=[],i=[],a=t.filter(e=>e.status===0).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){let s=t[o],c=P(n,s.path),l=!1,u;if(C(c!==null,`rerunTransactionsUnderNode_: relativePath should not be null.`),s.status===4)l=!0,u=s.abortReason,i=i.concat(uc(e.serverSyncTree_,s.currentWriteId,!0));else if(s.status===0)if(s.retryCount>=yl)l=!0,u=`maxretry`,i=i.concat(uc(e.serverSyncTree_,s.currentWriteId,!0));else{let n=Pl(e,s.path,a);s.currentInputSnapshot=n;let r=t[o].update(n.val());if(r!==void 0){cl(`transaction failed: Data returned `,r,s.path);let t=Ha(r);typeof r==`object`&&r&&Ue(r,`.priority`)||(t=t.updatePriority(n.getPriority()));let o=s.currentWriteId,c=Cl(e),l=Hc(t,n,c);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=l,s.currentWriteId=Dl(e),a.splice(a.indexOf(o),1),i=i.concat(lc(e.serverSyncTree_,s.path,l,s.currentWriteId,s.applyLocally)),i=i.concat(uc(e.serverSyncTree_,o,!0))}else l=!0,u=`nodata`,i=i.concat(uc(e.serverSyncTree_,s.currentWriteId,!0))}hl(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,(function(e){setTimeout(e,0)})(t[o].unwatcher),t[o].onComplete&&(u===`nodata`?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(Error(u),!1,null))))}Hl(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)Nr(r[e]);Fl(e,e.transactionQueueTree_)}function zl(e,t){let n,r=e.transactionQueueTree_;for(n=A(t);n!==null&&Kc(r)===void 0;)r=Gc(r,n),t=j(t),n=A(t);return r}function Bl(e,t){let n=[];return Vl(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Vl(e,t,n){let r=Kc(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);Xc(t,t=>{Vl(e,t,n)})}function Hl(e,t){let n=Kc(t);if(n){let e=0;for(let t=0;t<n.length;t++)n[t].status!==2&&(n[e]=n[t],e++);n.length=e,qc(t,n.length>0?n:void 0)}Xc(t,t=>{Hl(e,t)})}function Ul(e,t){let n=$c(zl(e,t)),r=Gc(e.transactionQueueTree_,t);return Qc(r,t=>{Wl(e,t)}),Wl(e,r),Zc(r,t=>{Wl(e,t)}),n}function Wl(e,t){let n=Kc(t);if(n){let r=[],i=[],a=-1;for(let t=0;t<n.length;t++)n[t].status===3||(n[t].status===1?(C(a===t-1,`All SENT items should be at beginning of queue.`),a=t,n[t].status=3,n[t].abortReason=`set`):(C(n[t].status===0,`Unexpected transaction status in abort`),n[t].unwatcher(),i=i.concat(uc(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,Error(`set`),!1,null))));a===-1?qc(t,void 0):n.length=a+1,hl(e.eventQueue_,$c(t),i);for(let e=0;e<r.length;e++)Nr(r[e])}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Gl(e){let t=``,n=e.split(`/`);for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g,` `))}catch{}t+=`/`+r}return t}function Kl(e){let t={};e.charAt(0)===`?`&&(e=e.substring(1));for(let n of e.split(`&`)){if(n.length===0)continue;let r=n.split(`=`);r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pr(`Invalid query segment '${n}' in query '${e}'`)}return t}var ql=function(e,t){let n=Jl(e),r=n.namespace;n.domain===`firebase.com`&&fr(n.host+` is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead`),(!r||r===`undefined`)&&n.domain!==`localhost`&&fr(`Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com`),n.secure||mr();let i=n.scheme===`ws`||n.scheme===`wss`;return{repoInfo:new Xr(n.host,n.secure,r,i,t,``,r!==n.subdomain),path:new O(n.pathString)}},Jl=function(e){let t=``,n=``,r=``,i=``,a=``,o=!0,s=`https`,c=443;if(typeof e==`string`){let l=e.indexOf(`//`);l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf(`/`);u===-1&&(u=e.length);let d=e.indexOf(`?`);d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=Gl(e.substring(u,d)));let f=Kl(e.substring(Math.min(e.length,d)));l=t.indexOf(`:`),l>=0?(o=s===`https`||s===`wss`,c=parseInt(t.substring(l+1),10)):l=t.length;let p=t.slice(0,l);if(p.toLowerCase()===`localhost`)n=`localhost`;else if(p.split(`.`).length<=2)n=p;else{let e=t.indexOf(`.`);r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),a=r}`ns`in f&&(a=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Yl=`-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz`;(function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,a=Array(8);for(i=7;i>=0;i--)a[i]=Yl.charAt(n%64),n=Math.floor(n/64);C(n===0,`Cannot push at time == 0`);let o=a.join(``);if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Yl.charAt(t[i]);return C(o.length===20,`nextPushId: Length should be 20.`),o}})();
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Xl=class{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType===`value`?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+`:`+this.eventType+`:`+ze(this.snapshot.exportVal())}},Zl=class{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return`cancel`}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+`:cancel`}},Ql=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return C(this.hasCancelCallback,`Raising a cancel event on a listener with no cancel callback`),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}},$l=class e{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return N(this._path)?null:qi(this._path)}get ref(){return new eu(this._repo,this._path)}get _queryIdentifier(){let e=no(this._queryParams),t=Sr(e);return t===`{}`?`default`:t}get _queryObject(){return no(this._queryParams)}isEqual(t){if(t=et(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=Zi(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ji(this._path)}},eu=class e extends $l{constructor(e,t){super(e,t,new $a,!1)}get parent(){let t=Xi(this._path);return t===null?null:new e(this._repo,t)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},U=class e{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new O(t),r=G(this.ref,t);return new e(this._node.getChild(n),r,I)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,r)=>t(new e(r,G(this.ref,n),I)))}hasChild(e){let t=new O(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function W(e,t){return e=et(e),e._checkNotDeleted(`ref`),t===void 0?e._root:G(e._root,t)}function G(e,t){return e=et(e),A(e._path)===null?ul(`child`,`path`,t,!1):ll(`child`,`path`,t,!1),new eu(e._repo,M(e._path,t))}function K(e,t){e=et(e),dl(`set`,e._path),sl(`set`,t,e._path,!1);let n=new ve;return kl(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function q(e){e=et(e);let t=new Ql(()=>{}),n=new tu(t);return Ol(e._repo,e,n).then(t=>new U(t,new eu(e._repo,e._path),e._queryParams.getIndex()))}var tu=class e{constructor(e){this.callbackContext=e}respondsTo(e){return e===`value`}createEvent(e,t){let n=t._queryParams.getIndex();return new Xl(`value`,this,new U(e.snapshotNode,new eu(t._repo,t._path),n))}getEventRunner(e){return e.getEventType()===`cancel`?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Zl(this,e,t):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};Gs(eu),ac(eu);
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var nu=`FIREBASE_DATABASE_EMULATOR_HOST`,ru={},iu=!1;function au(e,t,n,r){let i=t.lastIndexOf(`:`),a=t.substring(0,i),o=ye(a);e.repoInfo_=new Xr(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function ou(e,t,n,r,i){let a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||fr(`Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp().`),lr(`Using default host for project `,e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=ql(a,i),s=o.repoInfo,c,l;typeof process<`u`&&(l={}[nu]),l?(c=!0,a=`http://${l}?ns=${s.namespace}`,o=ql(a,i),s=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new Rr(Rr.OWNER):new Lr(e.name,e.options,t);fl(`Invalid Firebase Database URL`,o),N(o.path)||fr(`Database URL must point to the root of a Firebase Database (not including a child path).`);let d=cu(s,e,u,new Ir(e,n));return new lu(d,e)}function su(e,t){let n=ru[t];(!n||n[e.key]!==e)&&fr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),jl(e),delete n[e.key]}function cu(e,t,n,r){let i=ru[t.name];i||(i={},ru[t.name]=i);let a=i[e.toURLString()];return a&&fr(`Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.`),a=new bl(e,iu,n,r),i[e.toURLString()]=a,a}var lu=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type=`database`,this._instanceStarted=!1}get _repo(){return this._instanceStarted||=(xl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),!0),this._repoInternal}get _root(){return this._rootInternal||=new eu(this._repo,k()),this._rootInternal}_delete(){return this._rootInternal!==null&&(su(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fr(`Cannot call `+e+` on a deleted database.`)}};function uu(e=On(),t){let n=Sn(e,`database`).getImmediate({identifier:t});if(!n._instanceStarted){let e=E(`database`);e&&du(n,...e)}return n}function du(e,t,n,r={}){e=et(e),e._checkNotDeleted(`useEmulator`);let i=`${t}:${n}`,a=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&qe(r,a.repoInfo_.emulatorOptions))return;fr(`connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.`)}let o;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&fr(`mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".`),o=new Rr(Rr.OWNER);else if(r.mockUserToken){let t=typeof r.mockUserToken==`string`?r.mockUserToken:xe(r.mockUserToken,e.app.options.projectId);o=new Rr(t)}ye(t)&&(be(t),Ee(`Database`,!0)),au(a,i,r,o)}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function fu(e){Xn(En),xn(new tt(`database`,(e,{instanceIdentifier:t})=>{let n=e.getProvider(`app`).getImmediate(),r=e.getProvider(`auth-internal`),i=e.getProvider(`app-check-internal`);return ou(n,r,i,t)},`PUBLIC`).setMultipleInstances(!0)),kn(qn,Jn,e),kn(qn,Jn,`esm2020`)}fa.prototype.simpleListen=function(e,t){this.sendRequest(`q`,{p:e},t)},fa.prototype.echo=function(e,t){this.sendRequest(`echo`,{d:e},t)},fu();var pu=Dn({apiKey:`AIzaSyD2YHUerAgPvjNWtPpuvoNnNJvLmNK-_8I`,authDomain:`money-clicker-8ee62.firebaseapp.com`,databaseURL:`https://money-clicker-8ee62-default-rtdb.europe-west1.firebasedatabase.app`,projectId:`money-clicker-8ee62`,storageBucket:`money-clicker-8ee62.firebasestorage.app`,messagingSenderId:`1019362581052`,appId:`1:1019362581052:web:d6e579c1308c1da66ac139`,measurementId:`G-DK76CP057L`});const mu=uu(pu),hu=W,gu=K,_u=q,vu=[{id:0,name:`Common Rune`,rarity:`Common`,color:`#9CA3AF`,dropRate:500,moneyBonus:.05},{id:1,name:`Uncommon Rune`,rarity:`Uncommon`,color:`#10B981`,dropRate:300,moneyBonus:.18},{id:2,name:`Rare Rune`,rarity:`Rare`,color:`#3B82F6`,dropRate:140,rpBonus:.05,moneyBonus:.4,gemBonus:5e-4},{id:3,name:`Epic Rune`,rarity:`Epic`,color:`#8B5CF6`,dropRate:50,rpBonus:.2,moneyBonus:.8,gemBonus:.001},{id:4,name:`Legendary Rune`,rarity:`Legendary`,color:`#F59E0B`,dropRate:9,rpBonus:.75,moneyBonus:1.5,gemBonus:.005},{id:5,name:`Mythic Rune`,rarity:`Mythic`,color:`#EF4444`,dropRate:1,rpBonus:2.5,moneyBonus:3,gemBonus:.02},{id:6,name:`Secret Rune`,rarity:`Secret`,color:`#404040ff`,dropRate:0,rpBonus:3.5,moneyBonus:5,gemBonus:.03}],yu=[{id:0,name:`Air Rune`,rarity:`Common`,color:`#34fafaff`,dropRate:200,producing:`Air`,produceAmount:1},{id:1,name:`Earth Rune`,rarity:`Common`,color:`#a0522dff`,dropRate:200,producing:`Earth`,produceAmount:1},{id:2,name:`Water Rune`,rarity:`Common`,color:`#1e90ff`,dropRate:200,producing:`Water`,produceAmount:1},{id:3,name:`Fire Rune`,rarity:`Common`,color:`#ff4500`,dropRate:200,producing:`Fire`,produceAmount:1},{id:4,name:`Light Rune`,rarity:`Rare`,color:`#fffb1fff`,dropRate:100,producing:`Light`,produceAmount:1},{id:5,name:`Dark Rune`,rarity:`Rare`,color:`#36005cff`,dropRate:100,producing:`Dark`,produceAmount:1}],J=[{id:0,name:`Click Multiplier`,description:`Multiplies all money gains based on your total clicks. Each level increases the power`,price:1,amount:0,maxAmount:5,effect:.01,type:`Multiplier`},{id:1,name:`Auto Clicker`,description:`Automatically adds 1 click to your total every tick (gives no money)`,price:5,amount:0,maxAmount:5,effect:1,type:`auto`},{id:2,name:`Unlock Gems`,description:`0.5% chance to find a gem per click`,price:15,amount:0,maxAmount:1,effect:.005,type:`click`},{id:3,name:`Gem Powers`,description:`Unlocks gem-powered enhancements`,price:1,amount:0,maxAmount:1,effect:1,type:`Unlock`},{id:4,name:`Rebirth Bonus`,description:`Boosts your income by log(Rebirth Points + 1)  5%`,price:25,amount:0,maxAmount:1,effect:.05,type:`Multiplier`}],bu=[{id:`fireStorm`,name:`Fire Storm`,element:`fire`,icon:``,description:`Klicken gibt 2 Gems`,effects:{gemMultiplier:2},backgroundGradient:`linear-gradient(135deg, #1a0505 0%, #4a0000 20%, #1e1e2e 60%, #0a0a0a 100%)`,duration:600*1e3},{id:`earthquake`,name:`Earthquake`,element:`earth`,icon:``,description:`Auto Income 5`,effects:{autoIncomeMultiplier:5},backgroundGradient:`linear-gradient(135deg, #1a1205 0%, #3d2a0a 20%, #1e1e2e 60%, #0a0a0a 100%)`,duration:600*1e3},{id:`solarFlare`,name:`Solar Flare`,element:`light`,icon:``,description:`Auto Speed 2`,effects:{autoSpeedMultiplier:2},backgroundGradient:`linear-gradient(135deg, #1a1a05 0%, #4a4a00 20%, #1e1e2e 60%, #0a0a0a 100%)`,duration:600*1e3},{id:`tsunami`,name:`Tsunami`,element:`water`,icon:``,description:`Click Power 5`,effects:{clickPowerMultiplier:5},backgroundGradient:`linear-gradient(135deg, #051a1a 0%, #0a3d3d 20%, #1e1e2e 60%, #0a0a0a 100%)`,duration:600*1e3},{id:`darkness`,name:`Darkness`,element:`dark`,icon:``,description:`Upgrade Kosten -25%`,effects:{upgradeDiscount:.25},backgroundGradient:`linear-gradient(135deg, #0a0014 0%, #1a0a2a 20%, #1e1e2e 60%, #000000 100%)`,duration:600*1e3},{id:`tempest`,name:`Tempest`,element:`air`,icon:``,description:`Gems droppen 2 so oft`,effects:{gemDropMultiplier:2},backgroundGradient:`linear-gradient(135deg, #051a1a 0%, #0a2a4a 20%, #1e1e2e 60%, #0a0a0a 100%)`,duration:600*1e3}];function xu(e){let t=bu.filter(t=>e.includes(t.element));if(t.length===0)return null;let n=Math.floor(Math.random()*t.length);return t[n]}function Su(e){let t=[],n=[`air`,`earth`,`water`,`fire`,`light`,`dark`];return e.forEach((e,r)=>{e>0&&t.push(n[r])}),t}const Cu=()=>{let e=localStorage.getItem(`money_clicker_user_id`);return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem(`money_clicker_user_id`,e)),e},wu=e=>{localStorage.setItem(`money_clicker_user_id`,e)},Tu=()=>{let e=Cu();return btoa(e)},Eu=async e=>{try{console.log(`[Login] Starting login with code...`);let t=atob(e);console.log(`[Login] Decoded user ID:`,t);let n=hu(mu,`users/${t}`);if(!(await _u(n)).exists())return console.log(`[Login]  Account not found in users/`),{success:!1,error:`Account not found. Make sure the code is correct.`};console.log(`[Login]  Account found in Firebase`);let r=hu(mu,`gameData/${t}`),i=await _u(r);if(!i.exists())return console.log(`[Login]  No game data found in Firebase for this account at path:`,`gameData/${t}`),{success:!1,error:`No saved game data found for this account. Save to cloud first on the original device.`};let a=i.val();console.log(`[Login]  Game data found in Firebase`),console.log(`[Login] Loaded username:`,a.username),console.log(`[Login] Loaded money:`,a.money),console.log(`[Login] Loaded rebirth points:`,a.rebirthPoints),console.log(`[Login] Clearing localStorage...`),localStorage.clear(),wu(t),console.log(`[Login]  User ID set in localStorage:`,t);let o={...a,lastSaveTime:Date.now()};localStorage.setItem(`moneyClickerSave`,JSON.stringify(o)),localStorage.setItem(`firebase_data_loaded`,`true`),console.log(`[Login]  Data saved to localStorage`);let s=localStorage.getItem(`moneyClickerSave`);if(s){let e=JSON.parse(s);console.log(`[Login]  Verification - Username:`,e.username,`Money:`,e.money,`Rebirth Points:`,e.rebirthPoints)}return{success:!0,userId:t}}catch(e){return console.error(`[Login]  Error during login:`,e),{success:!1,error:`Invalid account code format or connection error.`}}},Du=async e=>{try{let t=Cu();console.log(`[Firebase Save] Saving game data for user:`,t),console.log(`[Firebase Save] Username:`,e.username),console.log(`[Firebase Save] Money:`,e.money),console.log(`[Firebase Save] Rebirth Points:`,e.rebirthPoints);let n=hu(mu,`gameData/${t}`);return await gu(n,e),console.log(`[Firebase Save]  Game data saved successfully to path:`,`gameData/${t}`),!0}catch(e){return console.error(`[Firebase Save]  Error saving game data:`,e),!1}},Ou=async()=>{try{let e=Cu();console.log(`[Firebase Load] Loading game data for user:`,e);let t=hu(mu,`gameData/${e}`),n=await _u(t);if(n.exists()){let e=n.val();return console.log(`[Firebase Load]  Game data loaded successfully`),console.log(`[Firebase Load] Username:`,e.username),console.log(`[Firebase Load] Money:`,e.money),console.log(`[Firebase Load] Rebirth Points:`,e.rebirthPoints),e}return console.log(`[Firebase Load]  No game data found`),null}catch(e){return console.error(`[Firebase Load]  Error loading game data:`,e),null}},ku=async e=>{try{let t=Cu();console.log(`[Username Check] Checking availability for:`,e,`User ID:`,t);let n=hu(mu,`usernames`),r=await _u(n);if(r.exists()){let n=r.val();console.log(`[Username Check] All username entries:`,n);for(let[r,i]of Object.entries(n))if(i&&typeof i==`object`&&`username`in i){let n=i.username;if(console.log(`[Username Check] Checking entry - userId:`,r,`username:`,n),n.toLowerCase()===e.toLowerCase())return console.log(`[Username Check] Found matching username`),r===t?(console.log(`[Username Check] Username belongs to current user - AVAILABLE`),!0):(console.log(`[Username Check] Username belongs to another user - NOT AVAILABLE`),!1)}}return console.log(`[Username Check] Username does not exist - AVAILABLE`),!0}catch(e){return console.error(`Error checking username availability:`,e),!1}},Au=async e=>{try{let t=Cu();console.log(`[Reserve Username] Starting reservation for:`,e,`User ID:`,t);let n=hu(mu,`users/${t}/username`),r=await _u(n),i=r.exists()?r.val():null;if(console.log(`[Reserve Username] Old username:`,i),i===e)return console.log(`[Reserve Username] Same as current username - returning success`),!0;let a=await ku(e);if(console.log(`[Reserve Username] Availability check result:`,a),!a)return!1;if(i){console.log(`[Reserve Username] Removing old username entry`);let e=hu(mu,`usernames/${t}`);await gu(e,null)}console.log(`[Reserve Username] Setting new username in usernames list`);let o=hu(mu,`usernames/${t}`);await gu(o,{username:e,timestamp:Date.now()}),console.log(`[Reserve Username] Updating user profile with new username`);let s=hu(mu,`users/${t}/username`);return await gu(s,e),console.log(`[Reserve Username] Success!`),!0}catch(e){return console.error(`Error reserving username:`,e),!1}},ju=async e=>{try{let t=Cu(),n=hu(mu,`leaderboardBans/${t}`),r=await _u(n);if(r.exists()&&r.val()===!0)return console.log(`[Leaderboard Submit]  BLOCKED: User is banned from leaderboard`),!1;if(console.log(`[Leaderboard Submit] Starting submission...`),console.log(`[Leaderboard Submit] devStats:`,e.stats?.devStats),e.stats.devStats&&(e.stats.devStats.moneyAdded>0||e.stats.devStats.rebirthPointsAdded>0||e.stats.devStats.gemsAdded>0))return console.log(`[Leaderboard Submit]  BLOCKED: Dev commands used`),console.log(`[Leaderboard Submit] Money Added:`,e.stats.devStats.moneyAdded),console.log(`[Leaderboard Submit] Rebirth Points Added:`,e.stats.devStats.rebirthPointsAdded),console.log(`[Leaderboard Submit] Gems Added:`,e.stats.devStats.gemsAdded),!1;console.log(`[Leaderboard Submit]  Proceeding with submission (no dev stats detected)`);let i=e.username||`Player_${Math.floor(Math.random()*1e6)}`,a=e.achievements&&Array.isArray(e.achievements)?e.achievements.reduce((e,t)=>e+(t?.tier||0),0):0,o=1+a*.01,s=1;if(e.rebirth_upgradeAmounts[0]>0){let t=.01+(e.rebirth_upgradeAmounts[0]-1)*.01;s=(e.clicksTotal+1)**+t}let c=0;e.runes.forEach((e,t)=>{e>0&&vu[t]&&(c+=(vu[t].moneyBonus||0)*e)});let l=1+c,u=1;if(e.rebirth_upgradeAmounts[4]>0){let t=J[4].effect;u=1+Math.log(e.rebirthPoints+1)*t}let d=(e.activeEvent?bu.find(t=>t.id===e.activeEvent):null)?.effects?.clickPowerMultiplier||1,f=(e.moneyPerClick||0)*s*l*u*o*d,p={userId:t,username:i,allTimeMoney:e.stats?.allTimeMoneyEarned||0,totalTiers:a,moneyPerClick:Math.floor(f),onlineTime:e.stats?.onlineTime||0,totalRebirths:e.stats?.totalRebirths||0,totalGems:e.stats?.allTimeGemsEarned||0,timestamp:Date.now(),devStats:e.stats?.devStats||{moneyAdded:0,rebirthPointsAdded:0,gemsAdded:0,clicksAdded:0}};console.log(`[Leaderboard Submit] Entry data:`,p);let m=hu(mu,`leaderboard/${t}`);return await gu(m,p),!0}catch(e){return console.error(`Error submitting leaderboard entry:`,e),!1}},Mu=async(e,t=100)=>{try{let n=hu(mu,`leaderboard`),r=hu(mu,`leaderboardBans`),[i,a]=await Promise.all([_u(n),_u(r)]);if(!i.exists())return console.log(`[Leaderboard]  No leaderboard data exists in Firebase`),[];let o=i.val();console.log(`[Leaderboard]  Total entries in Firebase:`,Object.keys(o).length);let s=new Set;if(a.exists()){let e=a.val();Object.keys(e).forEach(t=>{e[t]===!0&&(s.add(t),console.log(`[Leaderboard]  Banned user:`,t))})}let c=Object.values(o);return console.log(`[Leaderboard]  All entries before filtering:`,c.map(e=>({user:e.username,hasDevStats:!!e.devStats}))),c=c.filter(e=>{if(s.has(e.userId))return console.log(`[Leaderboard]  Filtering out banned user:`,e.username),!1;if(e.devStats){let t=e.devStats;if(t.moneyAdded>0||t.rebirthPointsAdded>0||t.gemsAdded>0||t.clicksAdded>0)return console.log(`[Leaderboard]  Filtering out dev account:`,e.username,`devStats:`,t),!1}return!0}),console.log(`[Leaderboard]  Total entries after filtering:`,c.length),console.log(`[Leaderboard]  Usernames after filter:`,c.map(e=>e.username)),c.sort((t,n)=>{let r=t[e]||0;return(n[e]||0)-r}),c.slice(0,t)}catch(e){return console.error(`Error getting leaderboard:`,e),[]}},Nu=async(e,t)=>{try{let n=(await Mu(t,1e4)).findIndex(t=>t.userId===e);return n===-1?-1:n+1}catch(e){return console.error(`Error getting user rank:`,e),-1}},Pu=[{id:0,name:`+1$ per Click`,description:`Increases money per click by 1$`,price:10,amount:0,maxAmount:10,effect:1,type:`click`},{id:1,name:`+1$ per Tick`,description:`Automatically generates 1$ per tick`,price:100,amount:0,maxAmount:10,effect:1,type:`auto`},{id:2,name:`+10$ per Click`,description:`Increases money per click by 10$`,price:1e3,amount:0,maxAmount:10,effect:10,type:`click`},{id:3,name:`+10$ per Tick`,description:`Increases money per tick by 10$`,price:2500,amount:0,maxAmount:10,effect:10,type:`auto`},{id:4,name:`Unlock Gem Powers`,description:`Unlocks advanced gameplay features`,price:1,amount:0,maxAmount:1,effect:1,type:`Unlock`}],Fu=[{id:0,name:`Money Maker`,description:`Reach`,icon:``,unlocked:!1,tier:1,requirement:{type:`money`,value:1e3},maxTier:100,tierMultiplier:2},{id:1,name:`Rebirth Master`,description:`Reach`,icon:``,unlocked:!1,tier:1,requirement:{type:`rebirth`,value:10},maxTier:100,tierMultiplier:2},{id:2,name:`Gem Collector`,description:`Reach`,icon:``,unlocked:!1,tier:1,requirement:{type:`gems`,value:10},requiresUnlock:!0,maxTier:100,tierMultiplier:2},{id:3,name:`Click Master`,description:`Reach`,icon:``,unlocked:!1,tier:1,requirement:{type:`clicks`,value:100},maxTier:100,tierMultiplier:2},{id:4,name:`Upgrade Enthusiast`,description:`Reach`,icon:``,unlocked:!1,tier:1,requirement:{type:`upgrades`,value:5},maxTier:100,tierMultiplier:2},{id:5,name:`Element Producer`,description:`Reach`,icon:``,unlocked:!1,tier:1,requirement:{type:`elements`,value:100},requiresUnlock:!0,maxTier:100,tierMultiplier:2},{id:6,name:`Rune Collector`,description:`Reach`,icon:``,unlocked:!1,tier:1,requirement:{type:`runespurchased`,value:5},requiresUnlock:!0,maxTier:100,tierMultiplier:2},{id:7,name:`Active Player`,description:`Play for`,icon:``,unlocked:!1,tier:1,requirement:{type:`onlinetime`,value:3600},maxTier:50,tierMultiplier:3600},{id:8,name:`Idle Master`,description:`Accumulate`,icon:``,unlocked:!1,tier:1,requirement:{type:`offlinetime`,value:3600},maxTier:50,tierMultiplier:3600},{id:9,name:`Ascension Master`,description:`Perform`,icon:``,unlocked:!1,tier:1,requirement:{type:`ascensions`,value:1},requiresUnlock:!0,maxTier:100,tierMultiplier:1}],Iu=[{elementId:0,elementName:`Air`,baseRequirement:1e5,scalingFactor:2.5,bonusType:`autoSpeed`,bonusPerLevel:.5,icon:``,color:`#7dd3fc`},{elementId:1,elementName:`Earth`,baseRequirement:1e5,scalingFactor:2.5,bonusType:`autoIncome`,bonusPerLevel:2,icon:``,color:`#86efac`},{elementId:2,elementName:`Water`,baseRequirement:1e5,scalingFactor:2.5,bonusType:`clickPower`,bonusPerLevel:1,icon:``,color:`#60a5fa`},{elementId:3,elementName:`Fire`,baseRequirement:1e5,scalingFactor:2.5,bonusType:`runePackLuck`,bonusPerLevel:1,icon:``,color:`#fb923c`},{elementId:4,elementName:`Light`,baseRequirement:1e5,scalingFactor:2.5,bonusType:`rpGain`,bonusPerLevel:1,icon:``,color:`#fde047`},{elementId:5,elementName:`Dark`,baseRequirement:1e5,scalingFactor:2.5,bonusType:`upgradeDiscount`,bonusPerLevel:1,icon:``,color:`#a78bfa`}],Lu=(e,t)=>{let n=Iu[e];return n?Math.floor(n.baseRequirement*n.scalingFactor**+t):0},Ru=e=>{switch(e){case`autoSpeed`:return`Auto-Speed`;case`autoIncome`:return`Auto-Income`;case`clickPower`:return`Click Power`;case`runePackLuck`:return`Rune Pack Luck`;case`rpGain`:return`RP Gain`;case`upgradeDiscount`:return`Upgrade Discount`;default:return`Unknown`}},zu=e=>{if(!e)return{clickPowerBonus:1,autoIncomeBonus:1,autoSpeedBonus:1,rpGainBonus:1,runePackLuckBonus:1,upgradeDiscountBonus:1};let t=1,n=1,r=1,i=1,a=1,o=1;return Iu.forEach(s=>{let c=e[s.elementName.toLowerCase()]||0;if(c>0){let e=1+s.bonusPerLevel*c/100;switch(s.bonusType){case`clickPower`:t*=e;break;case`autoIncome`:n*=e;break;case`autoSpeed`:r*=e;break;case`rpGain`:i*=e;break;case`runePackLuck`:a*=e;break;case`upgradeDiscount`:o*=e;break}}}),{clickPowerBonus:t,autoIncomeBonus:n,autoSpeedBonus:r,rpGainBonus:i,runePackLuckBonus:a,upgradeDiscountBonus:o}},Bu=()=>{let[e,t]=(0,_.useState)(()=>ee()),[n,r]=(0,_.useState)(null);(0,_.useEffect)(()=>{let t=async()=>{try{console.log(`[Leaderboard] Auto-submitting stats at:`,new Date().toLocaleTimeString()),console.log(`[Leaderboard] Current gameState devStats:`,e.stats?.devStats),await ju(e)?console.log(`[Leaderboard] Successfully submitted!`):console.log(`[Leaderboard] Submission blocked (dev account or error)`)}catch(e){console.error(`[Leaderboard] Failed to submit:`,e)}},n=new Date,r=(60-n.getSeconds())*1e3-n.getMilliseconds();console.log(`[Leaderboard] Next sync in`,Math.round(r/1e3),`seconds`);let i=null,a=setTimeout(()=>{t(),i=setInterval(t,6e4)},r);return()=>{clearTimeout(a),i&&clearInterval(i)}},[e]),(0,_.useEffect)(()=>{let t=setInterval(async()=>{try{console.log(`[Auto-Save] Saving game data to cloud at:`,new Date().toLocaleTimeString()),await Du(e),console.log(`[Auto-Save] Successfully saved!`)}catch(e){console.error(`[Auto-Save] Failed to save:`,e)}},3e5);return()=>{clearInterval(t)}},[e]),(0,_.useEffect)(()=>{(()=>{let n=Date.now(),i=e.lastSaveTime||n,a=(n-i)/1e3;if(a>=60){let e=Math.min(a,21600);t(t=>({...t,stats:{...t.stats,offlineTime:t.stats.offlineTime+e}}))}if(a<60)return;let o=Math.min(a,21600);if(e.moneyPerTick>0||e.rebirth_upgradeAmounts[1]>0){let t=1+e.achievements.reduce((e,t)=>e+(t.tier||0),0)*.01,n=0;e.rebirth_upgradeAmounts[1]>0&&(n=e.rebirth_upgradeAmounts[1]*o);let i=e.clicksTotal+n,a=1;if(e.rebirth_upgradeAmounts[0]>0){let t=.01+(e.rebirth_upgradeAmounts[0]-1)*.01;a=(i+1)**+t}let s=0;e.runes.forEach((e,t)=>{let n=vu[t];e>0&&(s+=(n.moneyBonus||0)*e)});let c=1+s,l=1;if(e.rebirth_upgradeAmounts[4]>0){let t=J[4].effect;l=1+Math.log(e.rebirthPoints+1)*t}let u=zu(e.elementalPrestige||null),d=e.moneyPerTick*a*c*l*t*u.autoIncomeBonus*o*.5,f=Math.floor(n*.5);r({time:o,money:d,clicks:f})}})()},[]),(0,_.useEffect)(()=>{let e=setInterval(()=>{t(e=>({...e,stats:{...e.stats,onlineTime:e.stats.onlineTime+1}}))},1e3);return()=>clearInterval(e)},[]);let i=(0,_.useCallback)(e=>{let t=[...e.achievements];return Fu.forEach(n=>{if(n.maxTier&&n.tierMultiplier&&n.requirement){let{type:r,value:i}=n.requirement,a=t.find(e=>e.id===n.id),o=(a?a.tier:0)+1;if(o<=n.maxTier){let s=i*n.tierMultiplier**(o-1),c=0;switch(r){case`money`:c=e.money;break;case`rebirth`:c=e.rebirthPoints;break;case`clicks`:c=e.clicksTotal;break;case`gems`:c=e.gems;break;case`upgrades`:c=e.stats?.totalUpgradesPurchased||0;break;case`elements`:c=e.stats?.allTimeElementsProduced?Object.values(e.stats.allTimeElementsProduced).reduce((e,t)=>e+t,0):0;break;case`runespurchased`:c=(e.stats?.baseRunePacksPurchased||0)+(e.stats?.elementalRunePacksPurchased||0);break;case`onlinetime`:c=e.stats?.onlineTime||0;break;case`offlinetime`:c=e.stats?.offlineTime||0;break;case`ascensions`:c=e.elementalPrestige?Object.values(e.elementalPrestige).reduce((e,t)=>e+t,0):0;break}c>=s&&(a?a.tier=o:t.push({id:n.id,tier:o}))}}else{if(t.some(e=>e.id===n.id))return;if(n.requirement){let{type:r,value:i}=n.requirement,a=!1;switch(r){case`money`:a=e.money>=i;break;case`rebirth`:a=e.rebirthPoints>=i;break;case`clicks`:a=e.clicksTotal>=i;break;case`gems`:a=e.gems>=i;break;case`upgrades`:a=(e.stats?.totalUpgradesPurchased||0)>=i;break;case`elements`:a=(e.stats?.allTimeElementsProduced?Object.values(e.stats.allTimeElementsProduced).reduce((e,t)=>e+t,0):0)>=i;break;case`runespurchased`:a=(e.stats?.baseRunePacksPurchased||0)+(e.stats?.elementalRunePacksPurchased||0)>=i;break;case`onlinetime`:a=(e.stats?.onlineTime||0)>=i;break;case`offlinetime`:a=(e.stats?.offlineTime||0)>=i;break;case`ascensions`:a=(e.elementalPrestige?Object.values(e.elementalPrestige).reduce((e,t)=>e+t,0):0)>=i;break}a&&t.push({id:n.id,tier:1})}else n.id===1&&e.rebirthPoints>0&&t.push({id:n.id,tier:1})}}),t},[]),a=(0,_.useCallback)((e,t)=>{let n=e*.01,r=e*.01,i=e*.01,a=t?e*.001:0;return{moneyMultiplier:1+n,rpMultiplier:1+r,elementalMultiplier:1+i,gemBonusChance:a}},[]);(0,_.useEffect)(()=>{x(e)},[e]),(0,_.useEffect)(()=>{if(e.moneyPerTick>0||e.rebirth_upgradeAmounts[1]>0||e.elementalRunes.some(e=>e>0)){let e=setInterval(()=>{t(e=>{let t=e.rebirth_upgradeAmounts[2]>0,n=e.achievements.reduce((e,t)=>e+(t.tier||0),0),r=a(n,t),i=1;if(e.rebirth_upgradeAmounts[0]>0){let t=.01+(e.rebirth_upgradeAmounts[0]-1)*.01;i=(e.clicksTotal+1)**+t}let o=0;e.runes.forEach((e,t)=>{let n=vu[t];e>0&&(o+=(n.moneyBonus||0)*e)});let s=e.money,c=0;if(e.moneyPerTick>0){let t=1+o,n=1;if(e.rebirth_upgradeAmounts[4]>0){let t=J[4].effect;n=1+Math.log(e.rebirthPoints+1)*t}let a=(e.activeEvent?bu.find(t=>t.id===e.activeEvent):null)?.effects.autoIncomeMultiplier||1;c=e.moneyPerTick*i*t*n*r.moneyMultiplier*a,s+=c}let l=[...e.elementalResources],u={air:0,earth:0,water:0,fire:0,light:0,dark:0};e.elementalRunes.forEach((e,t)=>{if(e>0){let n=(yu[t].produceAmount||0)*e*r.elementalMultiplier;l[t]+=n;let i=[`air`,`earth`,`water`,`fire`,`light`,`dark`];t<i.length&&(u[i[t]]=n)}});let d=e.clicksTotal,f=e.clicksInRebirth,p=0;return e.rebirth_upgradeAmounts[1]>0&&(p=e.rebirth_upgradeAmounts[1],d+=p,f+=p),{...e,money:s,clicksTotal:d,clicksInRebirth:f,elementalResources:l,stats:{...e.stats,allTimeMoneyEarned:e.stats.allTimeMoneyEarned+c,moneyFromTicks:e.stats.moneyFromTicks+c,allTimeClicksTotal:e.stats.allTimeClicksTotal+p,clicksFromTicks:e.stats.clicksFromTicks+p,allTimeElementsProduced:{air:e.stats.allTimeElementsProduced.air+u.air,earth:e.stats.allTimeElementsProduced.earth+u.earth,water:e.stats.allTimeElementsProduced.water+u.water,fire:e.stats.allTimeElementsProduced.fire+u.fire,light:e.stats.allTimeElementsProduced.light+u.light,dark:e.stats.allTimeElementsProduced.dark+u.dark}}}})},1e3);return()=>clearInterval(e)}},[e.moneyPerTick,e.rebirth_upgradeAmounts,e.clicksTotal,e.elementalRunes,a]),(0,_.useEffect)(()=>{let n=Date.now();if(!e.nextEventTime){let e=(10+Math.random()*10)*60*1e3;t(t=>({...t,nextEventTime:n+e}));return}if(e.nextEventTime&&n>=e.nextEventTime&&!e.activeEvent){let r=Su(e.elementalRunes);if(r.length>0){let e=xu(r);e&&t(t=>({...t,activeEvent:e.id,eventEndTime:n+e.duration,nextEventTime:null}))}else{let e=(10+Math.random()*10)*60*1e3;t(t=>({...t,nextEventTime:n+e}))}}if(e.activeEvent&&e.eventEndTime&&n>=e.eventEndTime){let e=(10+Math.random()*10)*60*1e3;t(t=>({...t,activeEvent:null,eventEndTime:null,nextEventTime:n+e}))}let r=setInterval(()=>{let n=Date.now();if(e.nextEventTime&&n>=e.nextEventTime&&!e.activeEvent){let r=Su(e.elementalRunes);if(r.length>0){let e=xu(r);e&&t(t=>({...t,activeEvent:e.id,eventEndTime:n+e.duration,nextEventTime:null}))}}if(e.activeEvent&&e.eventEndTime&&n>=e.eventEndTime){let e=(10+Math.random()*10)*60*1e3;t(t=>({...t,activeEvent:null,eventEndTime:null,nextEventTime:n+e}))}},1e3);return()=>clearInterval(r)},[e.nextEventTime,e.activeEvent,e.eventEndTime,e.elementalRunes]);let o=(0,_.useCallback)(()=>{t(e=>{let t=e.rebirth_upgradeAmounts[2]>0,n=e.achievements.reduce((e,t)=>e+(t.tier||0),0),r=a(n,t),o=e.clicksTotal+1,s=1;if(e.rebirth_upgradeAmounts[0]>0){let t=.01+(e.rebirth_upgradeAmounts[0]-1)*.01;s=o**+t}let c=0,l=0;e.runes.forEach((e,t)=>{let n=vu[t];e>0&&(c+=(n.moneyBonus||0)*e,l+=(n.gemBonus||0)*e)});let u=e.activeEvent?bu.find(t=>t.id===e.activeEvent):null,d=u?.effects.gemMultiplier||1,f=u?.effects.gemDropMultiplier||1,p=e.gems,m=0;if(e.rebirth_upgradeAmounts[2]>0){let e=(J[2].effect+l+r.gemBonusChance)*f;if(e>=1){let t=Math.floor(e),n=e-t;m=t,Math.random()<n&&(m+=1)}else Math.random()<e&&(m=1);m=Math.floor(m*d),p+=m}let h=1+c,g=1;if(e.rebirth_upgradeAmounts[4]>0){let t=J[4].effect;g=1+Math.log(e.rebirthPoints+1)*t}let _=zu(e.elementalPrestige||null),v=u?.effects.clickPowerMultiplier||1,y=e.moneyPerClick*s*h*g*r.moneyMultiplier*_.clickPowerBonus*v,b={...e,money:e.money+y,gems:p,clicksInRebirth:e.clicksInRebirth+1,clicksTotal:o,stats:{...e.stats,allTimeMoneyEarned:e.stats.allTimeMoneyEarned+y,moneyFromClicks:e.stats.moneyFromClicks+y,allTimeGemsEarned:e.stats.allTimeGemsEarned+m,allTimeClicksTotal:e.stats.allTimeClicksTotal+1,clicksFromManual:e.stats.clicksFromManual+1}},x=i(b);return{...b,achievements:x}})},[a,i]),s=(0,_.useCallback)(e=>{t(t=>{let n=t.upgradePrices[e],r=t.upgradeAmounts[e],i=t.maxUpgradeAmounts[e];if(e===4){if(t.money>=1e3&&t.rebirthPoints>=1&&t.gems>=1&&r<i){let n=[...t.upgradePrices],i=[...t.upgradeAmounts];return i[e]=r+1,{...t,money:t.money-1e3,rebirthPoints:t.rebirthPoints-1,gems:t.gems-1,upgradePrices:n,upgradeAmounts:i,stats:{...t.stats,totalUpgradesPurchased:t.stats.totalUpgradesPurchased+1,allTimeMoneySpent:t.stats.allTimeMoneySpent+1e3,allTimeRebirthPointsSpent:t.stats.allTimeRebirthPointsSpent+1,allTimeGemsSpent:t.stats.allTimeGemsSpent+1}}}return t}let a=(t.activeEvent?bu.find(e=>e.id===t.activeEvent):null)?.effects.upgradeDiscount||0,o=zu(t.elementalPrestige||null).upgradeDiscountBonus*(1-a),s=Math.floor(n*o);if(t.money>=s&&r<i){let n=[...t.upgradePrices],i=[...t.upgradeAmounts],a=e<=1?2:e<=3?2.5:3,o=Pu[e].price,c=r+1;n[e]=Math.floor(o*a**+c),i[e]=r+1;let l=t.moneyPerClick,u=t.moneyPerTick;return e===0?l+=1:e===1?u+=1:e===2?l+=10:e===3&&(u+=10),{...t,money:t.money-s,moneyPerClick:l,moneyPerTick:u,upgradePrices:n,upgradeAmounts:i,stats:{...t.stats,totalUpgradesPurchased:t.stats.totalUpgradesPurchased+1,allTimeMoneySpent:t.stats.allTimeMoneySpent+s}}}return t})},[]),c=(0,_.useCallback)(e=>{t(t=>{let n=t.rebirth_upgradePrices[e],r=t.rebirth_upgradeAmounts[e],i=t.rebirth_maxUpgradeAmounts[e];if(e===3){if(t.money>=1e3&&t.rebirthPoints>=1&&t.gems>=1&&r<i){let n=[...t.rebirth_upgradePrices],i=[...t.rebirth_upgradeAmounts];return i[e]=r+1,{...t,money:t.money-1e3,rebirthPoints:t.rebirthPoints-1,gems:t.gems-1,rebirth_upgradePrices:n,rebirth_upgradeAmounts:i,stats:{...t.stats,totalRebirthUpgradesPurchased:t.stats.totalRebirthUpgradesPurchased+1,allTimeMoneySpent:t.stats.allTimeMoneySpent+1e3,allTimeRebirthPointsSpent:t.stats.allTimeRebirthPointsSpent+1,allTimeGemsSpent:t.stats.allTimeGemsSpent+1}}}return t}if(e===4){if(t.rebirthPoints>=n&&r<i){let i=[...t.rebirth_upgradePrices],a=[...t.rebirth_upgradeAmounts];return a[e]=r+1,{...t,rebirthPoints:t.rebirthPoints-n,rebirth_upgradePrices:i,rebirth_upgradeAmounts:a,stats:{...t.stats,totalRebirthUpgradesPurchased:t.stats.totalRebirthUpgradesPurchased+1,allTimeRebirthPointsSpent:t.stats.allTimeRebirthPointsSpent+n}}}return t}if(t.rebirthPoints>=n&&r<i){let i=[...t.rebirth_upgradePrices],a=[...t.rebirth_upgradeAmounts],o=e<=1?2:e<=3?2.5:3,s=J[e].price,c=r+1;return i[e]=Math.floor(s*o**+c),a[e]=r+1,{...t,rebirthPoints:t.rebirthPoints-n,rebirth_upgradePrices:i,rebirth_upgradeAmounts:a,stats:{...t.stats,totalRebirthUpgradesPurchased:t.stats.totalRebirthUpgradesPurchased+1,allTimeRebirthPointsSpent:t.stats.allTimeRebirthPointsSpent+n}}}return t})},[]),l=(0,_.useCallback)(()=>{t(e=>{let t=e.rebirth_upgradeAmounts[2]>0,n=e.achievements.reduce((e,t)=>e+(t.tier||0),0),r=a(n,t),i=0;e.runes.forEach((e,t)=>{let n=vu[t];e>0&&(i+=(n.rpBonus||0)*e)});let o=Math.floor(e.money/1e3),s=1+i,c=zu(e.elementalPrestige||null),l=Math.floor(o*s*r.rpMultiplier*c.rpGainBonus),u=e.rebirthPoints+l,d=[...e.achievements];return d.some(e=>e.id===1)||d.push({id:1,tier:1}),{...v,username:e.username,rebirthPoints:u,gems:e.gems,runes:e.runes,elementalRunes:e.elementalRunes,elementalResources:e.elementalResources,elementalPrestige:e.elementalPrestige,currentRuneType:e.currentRuneType,showElementalStats:e.showElementalStats,elementalRunesUnlocked:e.elementalRunesUnlocked,achievements:d,clicksTotal:e.clicksTotal,rebirth_upgradePrices:e.rebirth_upgradePrices,rebirth_upgradeAmounts:e.rebirth_upgradeAmounts,rebirth_maxUpgradeAmounts:e.rebirth_maxUpgradeAmounts,stats:{...e.stats,allTimeRebirthPointsEarned:e.stats.allTimeRebirthPointsEarned+l,totalRebirths:e.stats.totalRebirths+1},upgradeAmounts:e.upgradeAmounts.map((e,t)=>Pu[t]?.type===`Unlock`?e:0),upgradePrices:e.upgradePrices.map((e,t)=>Pu[t]?.type===`Unlock`?e:v.upgradePrices[t]),maxUpgradeAmounts:e.maxUpgradeAmounts.map((e,t)=>Pu[t]?.type===`Unlock`?e:v.maxUpgradeAmounts[t]),traderOffers:e.traderOffers,traderLastRefresh:e.traderLastRefresh,traderNextRefresh:e.traderNextRefresh}})},[a]),u=(0,_.useCallback)(()=>{t(v)},[]),d=(0,_.useCallback)(()=>{t(e=>({...e,money:e.money+1e3*e.moneyPerClick}))},[]),f=(0,_.useCallback)(()=>{t(e=>{let t={...e.stats.devStats,moneyAdded:e.stats.devStats.moneyAdded+1e5};return console.log(`[Dev] Adding money, new devStats:`,t),{...e,money:e.money+1e5,stats:{...e.stats,devStats:t}}})},[]),p=(0,_.useCallback)(e=>{t(t=>({...t,money:t.money+e,stats:{...t.stats,devStats:{...t.stats.devStats,moneyAdded:t.stats.devStats.moneyAdded+e}}}))},[]),m=(0,_.useCallback)(()=>{t(e=>({...e,rebirthPoints:e.rebirthPoints+10,stats:{...e.stats,devStats:{...e.stats.devStats,rebirthPointsAdded:e.stats.devStats.rebirthPointsAdded+10}}}))},[]),h=(0,_.useCallback)(()=>{t(e=>({...e,gems:e.gems+10,stats:{...e.stats,devStats:{...e.stats.devStats,gemsAdded:e.stats.devStats.gemsAdded+10}}}))},[]),g=(0,_.useCallback)(()=>{t(e=>({...e,clicksTotal:e.clicksTotal+100,stats:{...e.stats,devStats:{...e.stats.devStats,clicksAdded:e.stats.devStats.clicksAdded+100}}}))},[]),y=(0,_.useCallback)(e=>{t(t=>{let n=[...t.runes];n[e]=(n[e]||0)+1;let r=[`common`,`uncommon`,`rare`,`epic`,`legendary`,`mythic`,`secret`][e];return{...t,runes:n,stats:{...t.stats,devStats:{...t.stats.devStats,runesAdded:{...t.stats.devStats.runesAdded,[r]:t.stats.devStats.runesAdded[r]+1}}}}})},[]),b=(0,_.useCallback)(e=>{t(t=>{let n=[...t.elementalRunes];n[e]=(n[e]||0)+1;let r=[`air`,`earth`,`water`,`fire`,`light`,`dark`][e];return{...t,elementalRunes:n,showElementalStats:!0,elementalRunesUnlocked:!0,stats:{...t.stats,devStats:{...t.stats.devStats,elementalRunesAdded:{...t.stats.devStats.elementalRunesAdded,[r]:t.stats.devStats.elementalRunesAdded[r]+1}}}}})},[]),te=(0,_.useCallback)(e=>{t(t=>{if(t.runes[e]<3||e>=5)return t;let n=[...t.runes];n[e]-=3,n[e+1]+=1;let r=[`common`,`uncommon`,`rare`,`epic`,`legendary`,`mythic`][e+1];return{...t,runes:n,stats:{...t.stats,runesCrafted:{...t.stats.runesCrafted,[r]:t.stats.runesCrafted[r]+1}}}})},[]),S=(0,_.useCallback)(e=>{t(t=>{if(t.runes[e]<3||e>=5)return t;let n=[...t.runes],r=Math.floor(n[e]/3);if(r>0){n[e]-=r*3,n[e+1]+=r;let i=[`common`,`uncommon`,`rare`,`epic`,`legendary`,`mythic`][e+1];return{...t,runes:n,stats:{...t.stats,runesCrafted:{...t.stats.runesCrafted,[i]:t.stats.runesCrafted[i]+r}}}}return{...t,runes:n}})},[]),C=(0,_.useCallback)((n=1,r=!1)=>{let i=e.currentRuneType===`basic`?5:25e4,a=e.currentRuneType===`basic`?e.gems:e.money,o=Math.min(n,Math.floor(a/i));if(o<=0)return r?[]:void 0;let s=e.currentRuneType===`basic`?vu:yu,c=zu(e.elementalPrestige||null).runePackLuckBonus,l=[];if(o>1e4){let t=e.currentRuneType===`basic`,n=s.map((e,n)=>{if(e.dropRate===0)return 0;if(t&&c>1){let t=s.filter(e=>e.dropRate>0).length-1,r=n/t*2-.5,i=(c-1)*r*2;return Math.max(1,e.dropRate*(1+i))}return e.dropRate}),i=n.reduce((e,t)=>e+t,0),a=n.map(e=>e/i),u=[],d=o;if(a.forEach((e,t)=>{if(n[t]===0){u.push(0);return}if(t===a.length-1)u.push(d);else{let t=Math.floor(o*e);u.push(t),d-=t}}),r){u.forEach((e,t)=>{if(e>0&&s[t]){let e=s[t];l.push({rarity:e.name,bonus:e.moneyBonus||e.rpBonus||e.gemBonus||e.produceAmount||0,index:t,elementType:e.producing?e.producing:void 0})}});let e=Math.max(0,100-l.length);for(let t=0;t<e;t++){let e=Math.random(),t=0,r=-1;for(let i=0;i<a.length;i++)if(n[i]!==0&&(t+=a[i],e<t)){r=i;break}if(r!==-1){let e=s[r];l.push({rarity:e.name,bonus:e.moneyBonus||e.rpBonus||e.gemBonus||e.produceAmount||0,index:r})}}}l.__distributionCounts=u,l.__actualCounts=u}else for(let t=0;t<o;t++){let t=Math.floor(Math.random()*1e3),n=-1,i=e.currentRuneType===`basic`,a=s.map((e,t)=>{if(e.dropRate===0)return 0;if(i&&c>1){let n=s.filter(e=>e.dropRate>0).length-1,r=t/n*2-.5,i=(c-1)*r*2;return Math.max(1,e.dropRate*(1+i))}return e.dropRate}),o=a.reduce((e,t)=>e+t,0),u=a.map(e=>e/o*1e3),d=0;for(let e=0;e<s.length;e++)if(d+=u[e],t<d){n=e;break}if(n!==-1&&r){let e=s[n],t=[];e.moneyBonus&&t.push(` +${(e.moneyBonus*100).toFixed(2)}% Money`),e.rpBonus&&t.push(` +${(e.rpBonus*100).toFixed(2)}% RP`),e.gemBonus&&t.push(` +${(e.gemBonus*100).toFixed(4)}% Gems`),e.tickBonus&&t.push(` -${e.tickBonus}ms Tick Speed`),e.producing&&e.produceAmount&&t.push(`${e.produceAmount} ${e.producing}/tick`),l.push({rarity:e.name,bonus:e.moneyBonus||e.rpBonus||e.gemBonus||e.produceAmount||0,index:n,elementType:e.producing?e.producing:void 0})}}return t(e=>{let t=e.currentRuneType===`basic`?[...e.runes]:[...e.elementalRunes],n={...e.stats},r=e.showElementalStats,a=e.elementalRunesUnlocked,s=l.__distributionCounts;s?(s.forEach((r,i)=>{if(t[i]+=r,e.currentRuneType===`basic`){let e=[`common`,`uncommon`,`rare`,`epic`,`legendary`,`mythic`];if(i<e.length){let t=e[i];n={...n,runesObtained:{...n.runesObtained,[t]:n.runesObtained[t]+r}}}}else{let e=[`air`,`earth`,`water`,`fire`,`light`,`dark`];if(i<e.length){let t=e[i];n={...n,elementalRunesObtained:{...n.elementalRunesObtained,[t]:n.elementalRunesObtained[t]+r}}}}}),e.currentRuneType===`elemental`&&(r=!0,a=!0)):l.forEach(i=>{let o=i.index;if(t[o]++,e.currentRuneType===`basic`){let e=[`common`,`uncommon`,`rare`,`epic`,`legendary`,`mythic`][o];n={...n,runesObtained:{...n.runesObtained,[e]:n.runesObtained[e]+1}}}else{let e=[`air`,`earth`,`water`,`fire`,`light`,`dark`][o];n={...n,elementalRunesObtained:{...n.elementalRunesObtained,[e]:n.elementalRunesObtained[e]+1}}}e.currentRuneType===`elemental`&&(r||=!0,a||=!0)});let c=i*o,u=e.currentRuneType===`basic`?e.gems-c:e.gems,d=e.currentRuneType===`elemental`?e.money-c:e.money;return{...e,money:d,gems:u,runes:e.currentRuneType===`basic`?t:e.runes,elementalRunes:e.currentRuneType===`elemental`?t:e.elementalRunes,showElementalStats:r,elementalRunesUnlocked:a,stats:{...n,baseRunePacksPurchased:e.currentRuneType===`basic`?n.baseRunePacksPurchased+o:n.baseRunePacksPurchased,elementalRunePacksPurchased:e.currentRuneType===`elemental`?n.elementalRunePacksPurchased+o:n.elementalRunePacksPurchased,allTimeGemsSpent:e.currentRuneType===`basic`?n.allTimeGemsSpent+c:n.allTimeGemsSpent,allTimeMoneySpent:e.currentRuneType===`elemental`?n.allTimeMoneySpent+c:n.allTimeMoneySpent}}}),r?l:void 0},[e.gems,e.money,e.currentRuneType,e.elementalPrestige]),ne=(0,_.useCallback)(()=>{t(e=>({...e,currentRuneType:e.currentRuneType===`basic`?`elemental`:`basic`}))},[]),re=(0,_.useCallback)(()=>{t(e=>({...e,showElementalStats:!e.showElementalStats}))},[]),ie=(0,_.useCallback)(()=>{t(e=>({...e,disableMoneyEffects:!e.disableMoneyEffects}))},[]),ae=(0,_.useCallback)(()=>{t(e=>({...e,disableDiamondEffects:!e.disableDiamondEffects}))},[]),oe=(0,_.useCallback)(()=>{t(e=>{let t=e.runes.slice(0,6).every(e=>e>=1),n=e.elementalRunes.slice(0,6).every(e=>e>=1);if(!t||!n)return e;let r=[...e.runes],i=[...e.elementalRunes];for(let e=0;e<6;e++)--r[e];for(let e=0;e<6;e++)--i[e];return r[6]=(r[6]||0)+1,{...e,runes:r,elementalRunes:i,stats:{...e.stats,runesCrafted:{...e.stats.runesCrafted,secret:e.stats.runesCrafted.secret+1}}}})},[]),se=(0,_.useCallback)(()=>{t(e=>({...e,includeDevStats:!e.includeDevStats}))},[]),ce=(0,_.useCallback)(n=>{let i=n*60,a=Math.min(i,21600);if(e.moneyPerTick>0||e.rebirth_upgradeAmounts[1]>0){let n=1+e.achievements.reduce((e,t)=>e+(t.tier||0),0)*.01,i=0;e.rebirth_upgradeAmounts[1]>0&&(i=e.rebirth_upgradeAmounts[1]*a);let o=e.clicksTotal+i,s=1;if(e.rebirth_upgradeAmounts[0]>0){let t=.01+(e.rebirth_upgradeAmounts[0]-1)*.01;s=(o+1)**+t}let c=0;e.runes.forEach((e,t)=>{let n=vu[t];e>0&&(c+=(n.moneyBonus||0)*e)});let l=1+c,u=1;if(e.rebirth_upgradeAmounts[4]>0){let t=J[4].effect;u=1+Math.log(e.rebirthPoints+1)*t}let d=e.moneyPerTick*s*l*u*n*a*.5,f=Math.floor(i*.5);t(e=>({...e,stats:{...e.stats,devStats:{...e.stats.devStats,offlineTimeAdded:e.stats.devStats.offlineTimeAdded+a},offlineTime:e.stats.offlineTime+a}})),r({time:a,money:d,clicks:f})}},[e]),le=(0,_.useCallback)(()=>{n&&(t(e=>({...e,money:e.money+n.money,clicksTotal:e.clicksTotal+(n.clicks||0),stats:{...e.stats,allTimeMoneyEarned:e.stats.allTimeMoneyEarned+n.money,moneyFromTicks:e.stats.moneyFromTicks+n.money,allTimeClicksTotal:e.stats.allTimeClicksTotal+(n.clicks||0),clicksFromTicks:e.stats.clicksFromTicks+(n.clicks||0)}})),r(null))},[n]),ue=(0,_.useCallback)(e=>{t(t=>{let n=t.maxUpgradeAmounts[e],r=0,a=[...t.upgradeAmounts],o=[...t.upgradePrices],s=t.money,c=t.rebirthPoints,l=t.gems,u=t.moneyPerClick,d=t.moneyPerTick,f=0,p=0,m=0;for(;a[e]<n;){let t=o[e];if(e===4)if(s>=1e3&&c>=1&&l>=1)s-=1e3,--c,--l,a[e]+=1,r++,f+=1e3,p+=1,m+=1;else break;else if(s>=t){s-=t,a[e]+=1,r++,f+=t,e===0?u+=1:e===1?d+=1:e===2?u+=10:e===3&&(d+=10);let n=e<=1?2:e<=3?2.5:3,i=Pu[e].price,c=a[e];o[e]=Math.floor(i*n**+c)}else break}if(r===0)return t;let h={...t,money:s,rebirthPoints:c,gems:l,moneyPerClick:u,moneyPerTick:d,upgradeAmounts:a,upgradePrices:o,stats:{...t.stats,totalUpgradesPurchased:t.stats.totalUpgradesPurchased+r,allTimeMoneySpent:t.stats.allTimeMoneySpent+f,allTimeRebirthPointsSpent:t.stats.allTimeRebirthPointsSpent+p,allTimeGemsSpent:t.stats.allTimeGemsSpent+m}},g=i(h);return{...h,achievements:g}})},[i]),de=(0,_.useCallback)(e=>{t(t=>{let n={...t},r=t.rebirth_maxUpgradeAmounts[e],a=0;for(;n.rebirth_upgradeAmounts[e]<r;){let t=n.rebirth_upgradePrices[e];if(n.rebirthPoints>=t){if(n.rebirthPoints-=t,n.rebirth_upgradeAmounts[e]+=1,a++,n.stats.totalRebirthUpgradesPurchased++,n.stats.allTimeRebirthPointsSpent+=t,r>1){let t=e<=1?2:e<=3?2.5:3,r=J[e].price,i=n.rebirth_upgradeAmounts[e];n.rebirth_upgradePrices[e]=Math.floor(r*t**+i)}}else break}let o=i(n);return{...n,achievements:o}})},[i]);return{gameState:e,setGameState:t,offlineProgress:n,setOfflineProgress:r,claimOfflineProgress:le,clickMoney:o,buyUpgrade:s,buyMaxUpgrades:ue,buyRebirthUpgrade:c,buyMaxRebirthUpgrades:de,performRebirth:l,resetGame:u,cheatMoney:d,devAddMoney:f,devAddMoneyDirect:p,devAddRebirthPoint:m,devAddGem:h,devAddClick:g,devAddRune:y,devAddElementalRune:b,openRunePack:C,mergeRunes:te,mergeAllRunes:S,switchRuneType:ne,toggleElementalStats:re,toggleMoneyEffects:ie,toggleDiamondEffects:ae,toggleDevStats:se,devSimulateOfflineTime:ce,craftSecretRune:oe}};var Vu=c(m());const Y=(e,t)=>e>=1e8?e.toExponential(2).replace(`.`,`,`):e.toLocaleString(`de-DE`,{minimumFractionDigits:0,maximumFractionDigits:t??(e>=1e3?0:2)});var Hu=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),X=c(o(((e,t)=>{t.exports=Hu()}))()),Uu=({gameState:e})=>{let[t,n]=(0,_.useState)(null),[r,i]=(0,_.useState)({x:0,y:0}),[a,o]=(0,_.useState)(!0),[s,c]=(0,_.useState)(!1),l=(0,_.useRef)(null),u=(0,_.useRef)(null),d=(0,_.useCallback)((e,t)=>{if(e){let r=e.getBoundingClientRect(),a=r.left+r.width/2,s=r.bottom+10,l=!0;r.bottom+200+10>window.innerHeight-20&&(s=r.top-10,l=!1),a-280/2<20?a=160:a+280/2>window.innerWidth-20&&(a=window.innerWidth-20-280/2),i({x:a,y:s}),o(l),n(t),c(!0)}},[]),f=(0,_.useCallback)(()=>{n(null),c(!1)},[]),p=(()=>{let t=e.achievements.reduce((e,t)=>e+(t.tier||0),0),n=1+t*.01,r=1+t*.01,i=e.rebirth_upgradeAmounts[2]>0?t*.001:0,a=1;if(e.rebirth_upgradeAmounts[0]>0){let t=.01+(e.rebirth_upgradeAmounts[0]-1)*.01;a=(e.clicksTotal+1)**+t}let o=0,s=0,c=0;e.runes.forEach((e,t)=>{let n=vu[t];e>0&&(o+=(n.moneyBonus||0)*e,s+=(n.rpBonus||0)*e,c+=(n.gemBonus||0)*e)});let l=1+o,u=1+s,d=1;if(e.rebirth_upgradeAmounts[4]>0){let t=J[4].effect;d=1+Math.log(e.rebirthPoints+1)*t}let f=1,p=1,m=1,h=1,g=1,_=1;e.elementalPrestige&&Iu.forEach(t=>{let n=e.elementalPrestige?.[t.elementName.toLowerCase()]||0;if(n>0){let e=1+t.bonusPerLevel*n/100;switch(t.bonusType){case`clickPower`:f*=e;break;case`autoIncome`:p*=e;break;case`autoSpeed`:m*=e;break;case`rpGain`:h*=e;break;case`runePackLuck`:g*=e;break;case`upgradeDiscount`:_*=e;break}}});let v=e.activeEvent?bu.find(t=>t.id===e.activeEvent):null,y=v?.effects.gemMultiplier||1,b=v?.effects.gemDropMultiplier||1,x=v?.effects.clickPowerMultiplier||1,ee=v?.effects.autoIncomeMultiplier||1,te=v?.effects.autoSpeedMultiplier||1,S=v?.effects.upgradeDiscount||0,C=e.moneyPerClick*a*l*d*n*f*x,ne=e.moneyPerTick*a*l*d*n*p*ee;return{perClickTotal:C,perTickTotal:ne,totalMoneyBonus:o,totalRpBonus:s,totalGemBonus:c,clickMultiplier:a,runeMultiplier:l,rpRuneMultiplier:u,rebirthPointMultiplier:d,achievementMoneyMultiplier:n,achievementRpMultiplier:r,achievementGemBonus:i,totalAchievementTiers:t,clickPowerBonus:f,autoIncomeBonus:p,autoSpeedBonus:m,rpGainBonus:h,runePackLuckBonus:g,upgradeDiscountBonus:_,eventGemMultiplier:y,eventGemDropMultiplier:b,eventClickPowerMultiplier:x,eventAutoIncomeMultiplier:ee,eventAutoSpeedMultiplier:te,eventUpgradeDiscount:S,activeEvent:v}})(),m=e.rebirth_upgradeAmounts&&e.rebirth_upgradeAmounts[2]>0,h=(()=>m?(.005+(p.totalGemBonus+p.achievementGemBonus))*p.eventGemDropMultiplier:0)();return(0,X.jsxs)(`div`,{className:`game-stats`,style:{background:`linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)`,border:`2px solid #64748b`,borderRadius:`16px`,padding:`24px`,boxShadow:`0 8px 32px rgba(15, 23, 42, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,color:`white`,marginBottom:`20px`},children:[(0,X.jsxs)(`h1`,{className:`money-display`,style:{color:`#22c55e`,fontSize:`28px`,fontWeight:`bold`,textShadow:`0 0 20px rgba(34, 197, 94, 0.6)`,textAlign:`center`,marginBottom:`20px`},children:[` `,Y(e.money),`$`]}),(0,X.jsxs)(`div`,{className:`stats-grid`,style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`},children:[(0,X.jsxs)(`div`,{ref:l,className:`stat-item`,style:{background:`rgba(34, 197, 94, 0.2)`,border:`2px solid rgba(34, 197, 94, 0.5)`,borderRadius:`8px`,padding:`12px`,cursor:`help`,transition:`all 0.3s ease`},onMouseEnter:()=>d(l.current,`click`),onMouseLeave:f,children:[(0,X.jsx)(`span`,{className:`stat-label`,style:{color:`#cbd5e1`,fontSize:`14px`,fontWeight:`500`},children:`Per Click:`}),(0,X.jsxs)(`span`,{className:`stat-value`,style:{color:`#4ade80`,fontWeight:`bold`,fontSize:`16px`},children:[Y(p.perClickTotal),`$`,(p.clickMultiplier>1||p.runeMultiplier>1||p.rebirthPointMultiplier>1)&&(0,X.jsxs)(`span`,{style:{fontSize:`0.9em`,color:`#94a3b8`},children:[` (`,Y(e.moneyPerClick),`$)`]})]})]}),(0,X.jsxs)(`div`,{ref:u,className:`stat-item`,style:{background:`rgba(34, 197, 94, 0.2)`,border:`2px solid rgba(34, 197, 94, 0.5)`,borderRadius:`8px`,padding:`12px`,cursor:`help`,transition:`all 0.3s ease`},onMouseEnter:()=>d(u.current,`tick`),onMouseLeave:f,children:[(0,X.jsx)(`span`,{className:`stat-label`,style:{color:`#cbd5e1`,fontSize:`14px`,fontWeight:`500`},children:`Per Tick:`}),(0,X.jsxs)(`span`,{className:`stat-value`,style:{color:`#4ade80`,fontWeight:`bold`,fontSize:`16px`},children:[Y(p.perTickTotal),`$/s`,(p.clickMultiplier>1||p.runeMultiplier>1||p.rebirthPointMultiplier>1)&&(0,X.jsxs)(`span`,{style:{fontSize:`0.9em`,color:`#94a3b8`},children:[` (`,Y(e.moneyPerTick),`$)`]}),p.eventAutoSpeedMultiplier>1&&p.activeEvent&&(0,X.jsxs)(`span`,{style:{fontSize:`0.85em`,color:`#f59e0b`,marginLeft:`4px`},children:[` `,p.activeEvent.icon,``,p.eventAutoSpeedMultiplier]})]})]}),(e.rebirthPoints>0||e.rebirth_upgradeAmounts.some(e=>e>0))&&(0,X.jsxs)(`div`,{className:`stat-item`,style:{background:`rgba(147, 51, 234, 0.2)`,border:`2px solid rgba(147, 51, 234, 0.5)`,borderRadius:`8px`,padding:`12px`},children:[(0,X.jsx)(`span`,{className:`stat-label`,style:{color:`#cbd5e1`,fontSize:`14px`,fontWeight:`500`},children:`Rebirth Points:`}),(0,X.jsx)(`span`,{className:`stat-value`,style:{color:`#c084fc`,fontWeight:`bold`,fontSize:`16px`},children:Y(Math.floor(e.rebirthPoints))})]}),m&&(0,X.jsxs)(`div`,{className:`stat-item`,style:{background:`rgba(59, 130, 246, 0.2)`,border:`2px solid rgba(59, 130, 246, 0.5)`,borderRadius:`8px`,padding:`12px`},children:[(0,X.jsx)(`span`,{className:`stat-label`,style:{color:`#cbd5e1`,fontSize:`14px`,fontWeight:`500`},children:` Gems:`}),(0,X.jsx)(`span`,{className:`stat-value`,style:{color:`#60a5fa`,fontWeight:`bold`,fontSize:`16px`},children:Y(e.gems)})]}),m&&(0,X.jsxs)(`div`,{className:`stat-item`,style:{background:`rgba(245, 158, 11, 0.2)`,border:`2px solid rgba(245, 158, 11, 0.5)`,borderRadius:`8px`,padding:`12px`},children:[(0,X.jsx)(`span`,{className:`stat-label`,style:{color:`#cbd5e1`,fontSize:`14px`,fontWeight:`500`},children:` Chance:`}),(0,X.jsxs)(`span`,{className:`stat-value`,style:{color:`#fbbf24`,fontWeight:`bold`,fontSize:`16px`},children:[Y(h*100,2),`%`,p.totalGemBonus>0&&(0,X.jsx)(`span`,{style:{fontSize:`0.9em`,color:`#94a3b8`},children:` (0,5%)`}),(p.eventGemDropMultiplier>1||p.eventGemMultiplier>1)&&p.activeEvent&&(0,X.jsxs)(`span`,{style:{fontSize:`0.85em`,color:`#60a5fa`,marginLeft:`4px`},children:[` `,p.activeEvent.icon]})]})]}),(0,X.jsxs)(`div`,{className:`stat-item`,style:{background:`rgba(100, 116, 139, 0.25)`,border:`2px solid rgba(100, 116, 139, 0.6)`,borderRadius:`8px`,padding:`12px`},children:[(0,X.jsx)(`span`,{className:`stat-label`,style:{color:`#cbd5e1`,fontSize:`14px`,fontWeight:`500`},children:`Total Clicks:`}),(0,X.jsx)(`span`,{className:`stat-value`,style:{color:`#cbd5e1`,fontWeight:`bold`,fontSize:`16px`},children:Y(e.clicksTotal)})]})]}),t&&s&&typeof document<`u`&&(0,X.jsx)(X.Fragment,{children:(0,Vu.createPortal)((0,X.jsxs)(`div`,{style:{position:`fixed`,left:r.x,top:r.y,transform:a?`translateX(-50%) translateY(0%)`:`translateX(-50%) translateY(-100%)`,background:`linear-gradient(135deg, #0f172a 0%, #1e293b 100%)`,border:`2px solid #22c55e`,borderRadius:`12px`,padding:`16px`,boxShadow:`0 8px 32px rgba(0, 0, 0, 0.6), 0 0 20px rgba(34, 197, 94, 0.4)`,zIndex:9999,minWidth:`280px`,animation:`tooltipFadeIn${a?`Below`:`Above`} 0.2s ease-out`,backdropFilter:`blur(10px)`,pointerEvents:`none`},children:[(0,X.jsx)(`div`,{style:{color:`#22c55e`,fontWeight:`bold`,fontSize:`14px`,marginBottom:`12px`,textAlign:`center`,textShadow:`0 0 8px rgba(34, 197, 94, 0.6)`},children:t===`click`?` Money per Click Breakdown`:` Money per Tick Breakdown`}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`},children:[(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(255, 255, 255, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(255, 255, 255, 0.2)`},children:[(0,X.jsx)(`span`,{children:` Base Amount:`}),(0,X.jsxs)(`span`,{style:{color:`#22c55e`,fontWeight:`bold`},children:[Y(t===`click`?e.moneyPerClick:e.moneyPerTick),`$`]})]}),p.clickMultiplier>1&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(147, 51, 234, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(147, 51, 234, 0.3)`},children:[(0,X.jsxs)(`span`,{children:[` Click Multiplier (Level `,e.rebirth_upgradeAmounts[0],`):`]}),(0,X.jsxs)(`span`,{style:{color:`#9333ea`,fontWeight:`bold`},children:[``,Y(p.clickMultiplier,2)]})]}),p.runeMultiplier>1&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(59, 130, 246, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(59, 130, 246, 0.3)`},children:[(0,X.jsx)(`span`,{children:` Rune Bonus:`}),(0,X.jsxs)(`span`,{style:{color:`#3b82f6`,fontWeight:`bold`},children:[``,Y(p.runeMultiplier,2)]})]}),p.rebirthPointMultiplier>1&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(168, 85, 247, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(168, 85, 247, 0.3)`},children:[(0,X.jsxs)(`span`,{children:[` RP Multiplier (Level `,e.rebirth_upgradeAmounts[4],`):`]}),(0,X.jsxs)(`span`,{style:{color:`#a855f7`,fontWeight:`bold`},children:[``,Y(p.rebirthPointMultiplier,2)]})]}),p.achievementMoneyMultiplier>1&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(251, 191, 36, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(251, 191, 36, 0.3)`},children:[(0,X.jsxs)(`span`,{children:[` Achievement Bonus (`,p.totalAchievementTiers,` Tiers):`]}),(0,X.jsxs)(`span`,{style:{color:`#fbbf24`,fontWeight:`bold`},children:[``,Y(p.achievementMoneyMultiplier,2)]})]}),t===`click`&&p.clickPowerBonus>1&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(96, 165, 250, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(96, 165, 250, 0.3)`},children:[(0,X.jsx)(`span`,{children:` Elemental Prestige (Water):`}),(0,X.jsxs)(`span`,{style:{color:`#60a5fa`,fontWeight:`bold`},children:[``,Y(p.clickPowerBonus,2)]})]}),t===`click`&&p.eventClickPowerMultiplier>1&&p.activeEvent&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(245, 158, 11, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(245, 158, 11, 0.3)`},children:[(0,X.jsxs)(`span`,{children:[p.activeEvent.icon,` `,p.activeEvent.name,`:`]}),(0,X.jsxs)(`span`,{style:{color:`#f59e0b`,fontWeight:`bold`},children:[``,Y(p.eventClickPowerMultiplier,2)]})]}),t===`tick`&&p.autoIncomeBonus>1&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(134, 239, 172, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(134, 239, 172, 0.3)`},children:[(0,X.jsx)(`span`,{children:` Elemental Prestige (Earth):`}),(0,X.jsxs)(`span`,{style:{color:`#86efac`,fontWeight:`bold`},children:[``,Y(p.autoIncomeBonus,2)]})]}),t===`tick`&&p.eventAutoIncomeMultiplier>1&&p.activeEvent&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(245, 158, 11, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(245, 158, 11, 0.3)`},children:[(0,X.jsxs)(`span`,{children:[p.activeEvent.icon,` `,p.activeEvent.name,` (Income):`]}),(0,X.jsxs)(`span`,{style:{color:`#f59e0b`,fontWeight:`bold`},children:[``,Y(p.eventAutoIncomeMultiplier,2)]})]}),t===`tick`&&p.autoSpeedBonus>1&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(134, 239, 172, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(134, 239, 172, 0.3)`},children:[(0,X.jsx)(`span`,{children:` Elemental Prestige (Air):`}),(0,X.jsxs)(`span`,{style:{color:`#86efac`,fontWeight:`bold`},children:[``,Y(p.autoSpeedBonus,2)]})]}),t===`tick`&&p.eventAutoSpeedMultiplier>1&&p.activeEvent&&(0,X.jsxs)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 8px`,background:`rgba(245, 158, 11, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(245, 158, 11, 0.3)`},children:[(0,X.jsxs)(`span`,{children:[p.activeEvent.icon,` `,p.activeEvent.name,` (Speed):`]}),(0,X.jsxs)(`span`,{style:{color:`#f59e0b`,fontWeight:`bold`},children:[``,Y(p.eventAutoSpeedMultiplier,2)]})]}),(0,X.jsx)(`div`,{style:{borderTop:`1px solid rgba(255, 255, 255, 0.2)`,marginTop:`8px`,paddingTop:`8px`},children:(0,X.jsxs)(`div`,{style:{color:`#22c55e`,fontSize:`13px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,fontWeight:`bold`,textShadow:`0 0 8px rgba(34, 197, 94, 0.6)`},children:[(0,X.jsx)(`span`,{children:t===`click`?` Total per Click:`:` Total per Tick:`}),(0,X.jsxs)(`span`,{children:[Y(t===`click`?p.perClickTotal:p.perTickTotal),`$`]})]})})]}),(0,X.jsx)(`div`,{style:{position:`absolute`,[a?`top`:`bottom`]:`-8px`,left:`50%`,transform:`translateX(-50%)`,width:`0`,height:`0`,borderLeft:`8px solid transparent`,borderRight:`8px solid transparent`,[a?`borderBottom`:`borderTop`]:`8px solid #22c55e`}})]}),document.body)}),(0,X.jsx)(`style`,{children:`
        @keyframes tooltipFadeInBelow {
          0% {
            opacity: 0;
            transform: translateX(-50%) translateY(-20px) scale(0.8);
          }
          100% {
            opacity: 1;
            transform: translateX(-50%) translateY(0%) scale(1);
          }
        }
        
        @keyframes tooltipFadeInAbove {
          0% {
            opacity: 0;
            transform: translateX(-50%) translateY(-80%) scale(0.8);
          }
          100% {
            opacity: 1;
            transform: translateX(-50%) translateY(-100%) scale(1);
          }
        }
      `})]})},Wu=({onClick:e,gameState:t,onGemDrop:n})=>{let[r,i]=(0,_.useState)([]),[a,o]=(0,_.useState)([]),s=t.activeEvent?bu.find(e=>e.id===t.activeEvent):null,c=(()=>{let e=1+t.achievements.reduce((e,t)=>e+(t.tier||0),0)*.01,n=1;if(t.rebirth_upgradeAmounts[0]>0){let e=.01+(t.rebirth_upgradeAmounts[0]-1)*.01;n=(t.clicksTotal+1)**+e}let r=0;t.runes.forEach((e,t)=>{let n=vu[t];e>0&&(r+=(n.moneyBonus||0)*e)});let i=1+r,a=1;if(t.rebirth_upgradeAmounts[4]>0){let e=J[4].effect;a=1+Math.log(t.rebirthPoints+1)*e}let o=s?.effects?.clickPowerMultiplier||1;return t.moneyPerClick*n*i*a*e*o})(),[l,u]=(0,_.useState)(t.gems);return _.useEffect(()=>{if(t.gems>l){if(t.disableDiamondEffects){u(t.gems),n?.();return}let e=document.querySelector(`.money-button-container`),r=e?.querySelector(`.money-button`);if(e&&r){let t=window.innerWidth<=1400,i,a;if(t){let e=r.getBoundingClientRect();i=e.width/2,a=e.height/2}else{let t=e.getBoundingClientRect(),n=r.getBoundingClientRect();i=n.left-t.left+n.width/2,a=n.top-t.top+n.height/2}let s={id:Date.now()+Math.random(),x:i+(Math.random()-.5)*(t?80:100),y:a+(Math.random()-.5)*(t?20:30)};o(e=>[...e,s]),setTimeout(()=>{o(e=>e.filter(e=>e.id!==s.id))},3e3),n?.()}}u(t.gems)},[t.gems,t.disableDiamondEffects,l,n]),(0,X.jsxs)(`div`,{className:`money-button-container`,style:{display:`flex`,justifyContent:`center`,marginBottom:`20px`,position:`relative`},children:[(0,X.jsxs)(`button`,{className:`money-button`,onClick:n=>{if(e(),t.disableMoneyEffects)return;let r=n.currentTarget,a=r.closest(`.money-button-container`);if(!a)return;let o=window.innerWidth<=1400,s,l;if(o){let e=r.getBoundingClientRect();s=e.width/2,l=e.height/2}else{let e=r.getBoundingClientRect(),t=a.getBoundingClientRect();s=e.left-t.left+e.width/2,l=e.top-t.top+e.height/2}let u={id:Date.now()+Math.random(),x:s+(Math.random()-.5)*(o?120:200),y:l+(Math.random()-.5)*(o?30:50),amount:`+${Y(c)}$`};i(e=>[...e,u]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==u.id))},2e3)},type:`button`,style:{background:`linear-gradient(135deg, #16a34a 0%, #22c55e 50%, #4ade80 100%)`,border:`3px solid #15803d`,borderRadius:`20px`,padding:`20px 40px`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 8px 25px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)`,color:`white`,fontSize:`18px`,fontWeight:`bold`,textShadow:`0 2px 4px rgba(0, 0, 0, 0.3)`,transform:`scale(1)`},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.05)`,e.currentTarget.style.boxShadow=`0 12px 30px rgba(34, 197, 94, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.2)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.boxShadow=`0 8px 25px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)`},children:[(0,X.jsx)(`div`,{className:`money-icon`,style:{fontSize:`32px`,marginBottom:`8px`},children:``}),(0,X.jsx)(`div`,{className:`money-text`,style:{fontSize:`16px`,marginBottom:`8px`},children:`CLICK FOR MONEY!`}),(0,X.jsxs)(`div`,{className:`money-amount`,style:{fontSize:`20px`,color:`#dcfce7`},children:[`+`,Y(c),`$`]})]}),!t.disableMoneyEffects&&r.map(e=>(0,X.jsxs)(`div`,{style:{position:`absolute`,left:e.x,top:e.y,fontSize:`24px`,fontWeight:`bold`,color:`#22c55e`,textShadow:`0 0 10px rgba(34, 197, 94, 0.8), 0 2px 4px rgba(0, 0, 0, 0.5)`,pointerEvents:`none`,zIndex:1e3,animation:`floatMoney 2s ease-out forwards`,userSelect:`none`},children:[` `,e.amount]},e.id)),!t.disableDiamondEffects&&a.map(e=>(0,X.jsx)(`div`,{style:{position:`absolute`,left:e.x,top:e.y,fontSize:`36px`,fontWeight:`bold`,color:`#3b82f6`,textShadow:`0 0 20px rgba(59, 130, 246, 1), 0 0 40px rgba(59, 130, 246, 0.8), 0 4px 8px rgba(0, 0, 0, 0.5)`,pointerEvents:`none`,zIndex:1001,animation:`floatGem 3s ease-out forwards`,userSelect:`none`,filter:`drop-shadow(0 0 10px rgba(59, 130, 246, 0.8))`},children:``},e.id)),(0,X.jsx)(`style`,{children:`
        @keyframes floatMoney {
          0% {
            opacity: 1;
            transform: translateY(0px) scale(0.8);
          }
          50% {
            opacity: 1;
            transform: translateY(-50px) scale(1.2);
          }
          100% {
            opacity: 0;
            transform: translateY(-120px) scale(0.6);
          }
        }
        
        @keyframes floatGem {
          0% {
            opacity: 1;
            transform: translateY(0px) scale(0.5) rotate(0deg);
            filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.8)) brightness(1.5);
          }
          25% {
            opacity: 1;
            transform: translateY(-30px) scale(1.8) rotate(90deg);
            filter: drop-shadow(0 0 25px rgba(59, 130, 246, 1)) brightness(2);
          }
          50% {
            opacity: 1;
            transform: translateY(-80px) scale(1.5) rotate(180deg);
            filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.9)) brightness(1.8);
          }
          75% {
            opacity: 0.8;
            transform: translateY(-130px) scale(1.2) rotate(270deg);
            filter: drop-shadow(0 0 15px rgba(59, 130, 246, 0.7)) brightness(1.3);
          }
          100% {
            opacity: 0;
            transform: translateY(-200px) scale(0.8) rotate(360deg);
            filter: drop-shadow(0 0 5px rgba(59, 130, 246, 0.5)) brightness(1);
          }
        }
      `})]})},Gu=({onSwitch:e,label1:t,label2:n,label3:r=`Achievements`,activePanel:i=`upgrades`,showThirdButton:a=!1})=>(0,X.jsxs)(`div`,{className:`switch-button-container`,style:{display:`flex`,background:`rgba(15, 23, 42, 0.6)`,borderRadius:`12px`,padding:`4px`,border:`1px solid rgba(100, 116, 139, 0.3)`,marginBottom:`20px`},children:[(0,X.jsx)(`button`,{className:`switch-button ${i===`upgrades`?`active`:``}`,onClick:()=>e(`upgrades`),style:{flex:1,padding:`12px 16px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,background:i===`upgrades`?`linear-gradient(135deg, #22c55e, #16a34a)`:`transparent`,color:i===`upgrades`?`white`:`#94a3b8`,boxShadow:i===`upgrades`?`0 4px 12px rgba(34, 197, 94, 0.3)`:`none`},children:t}),(0,X.jsx)(`button`,{className:`switch-button ${i===`rebirth`?`active`:``}`,onClick:()=>e(`rebirth`),style:{flex:1,padding:`12px 16px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,background:i===`rebirth`?`linear-gradient(135deg, #9333ea, #7c3aed)`:`transparent`,color:i===`rebirth`?`white`:`#94a3b8`,boxShadow:i===`rebirth`?`0 4px 12px rgba(147, 51, 234, 0.3)`:`none`},children:n}),a&&(0,X.jsx)(`button`,{className:`switch-button ${i===`achievements`?`active`:``}`,onClick:()=>e(`achievements`),style:{flex:1,padding:`12px 16px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,background:i===`achievements`?`linear-gradient(135deg, #f59e0b, #d97706)`:`transparent`,color:i===`achievements`?`white`:`#94a3b8`,boxShadow:i===`achievements`?`0 4px 12px rgba(245, 158, 11, 0.3)`:`none`},children:r})]}),Ku=({name:e,price:t,priceText:n,amount:r,maxAmount:i,canAfford:a,isMaxed:o,onClick:s})=>(0,X.jsxs)(`button`,{className:(()=>o?`upgrade-button maxed`:isNaN(t)?`upgrade-button locked`:a?`upgrade-button affordable`:`upgrade-button expensive`)(),onClick:s,disabled:o||isNaN(t),type:`button`,children:[(0,X.jsx)(`div`,{className:`upgrade-name`,children:e}),(0,X.jsx)(`div`,{className:`upgrade-info`,children:o?(0,X.jsxs)(`span`,{className:`maxed-text`,children:[`MAXED (`,r,`/`,i,`)`]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`span`,{className:`upgrade-price`,children:n}),(0,X.jsxs)(`span`,{className:`upgrade-count`,children:[`(`,r,`/`,i,`)`]})]})})]}),qu=({gameState:e,buyUpgrade:t,buyMaxUpgrades:n})=>{let r=(e.activeEvent?bu.find(t=>t.id===e.activeEvent):null)?.effects.upgradeDiscount||0,i=zu(e.elementalPrestige||null).upgradeDiscountBonus*(1-r);return(0,X.jsxs)(`div`,{className:`upgrades-panel`,style:{background:`rgba(34, 197, 94, 0.1)`,borderRadius:`12px`,padding:`20px`,border:`1px solid rgba(34, 197, 94, 0.3)`},children:[(0,X.jsxs)(`div`,{style:{textAlign:`center`,marginBottom:`20px`},children:[(0,X.jsx)(`h2`,{style:{color:`#22c55e`,fontSize:`20px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(34, 197, 94, 0.5)`,marginBottom:`10px`},children:` Upgrades`}),(0,X.jsxs)(`div`,{style:{background:`rgba(34, 197, 94, 0.1)`,borderRadius:`8px`,padding:`12px`,border:`1px solid rgba(34, 197, 94, 0.3)`},children:[(0,X.jsxs)(`div`,{style:{color:`#ffd700`,fontSize:`18px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(255, 215, 0, 0.6)`},children:[` `,Y(e.money),`$`]}),(0,X.jsx)(`div`,{style:{fontSize:`12px`,color:`#22c55e`,marginTop:`4px`},children:`Available Money`})]})]}),(0,X.jsx)(`div`,{className:`upgrades-list`,style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:Pu.map((r,a)=>{let o=r.name,s=e.upgradePrices[a],c=Math.floor(s*i),l=e.money>=c,u=!1,d=`${Y(c)}$`;if(i<1){let e=Math.round((1-i)*100);d=`${Y(c)}$ (-${e}%)`}return r.type===`Unlock`&&(e.gems===0&&e.upgradeAmounts[a]===0?(o=`???`,c=NaN,l=!1,u=!0,d=`???`):(l=e.money>=1e3&&e.rebirthPoints>=1&&e.gems>=1,d=`1000$ + 1 Rebirth Point + 1 `)),(0,X.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,alignItems:`stretch`},children:[(0,X.jsx)(`div`,{style:{flex:1,position:`relative`},children:(0,X.jsx)(Ku,{name:o,price:c,priceText:d,amount:e.upgradeAmounts[a],maxAmount:e.maxUpgradeAmounts[a],canAfford:l&&!u,isMaxed:e.upgradeAmounts[a]>=e.maxUpgradeAmounts[a],onClick:()=>!u&&t(a)})}),e.maxUpgradeAmounts[a]>1&&e.upgradeAmounts[a]<e.maxUpgradeAmounts[a]&&(0,X.jsx)(`button`,{onClick:e=>{e.stopPropagation(),u||n(a)},disabled:u,style:{padding:`8px 12px`,background:`linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)`,border:`2px solid #d97706`,borderRadius:`12px`,color:`#78350f`,fontSize:`11px`,fontWeight:`bold`,cursor:`pointer`,boxShadow:`0 2px 6px rgba(251, 191, 36, 0.4)`,transition:`all 0.2s ease`,textTransform:`uppercase`,letterSpacing:`0.5px`,minWidth:`50px`,display:`flex`,alignItems:`center`,justifyContent:`center`},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.05)`,e.currentTarget.style.boxShadow=`0 3px 10px rgba(251, 191, 36, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.boxShadow=`0 2px 6px rgba(251, 191, 36, 0.4)`},children:`MAX`})]},r.id)})})]})},Ju=({name:e,price:t,priceText:n,amount:r,maxAmount:i,canAfford:a,isMaxed:o,onClick:s,bonus:c,upgradeId:l,upgradeType:u})=>(0,X.jsxs)(`button`,{className:(()=>o?`rebirth-upgrade-button maxed`:isNaN(t)?`rebirth-upgrade-button locked`:a?`rebirth-upgrade-button affordable`:`rebirth-upgrade-button expensive`)(),onClick:s,disabled:o||isNaN(t),type:`button`,style:{position:`relative`},children:[(0,X.jsx)(`div`,{className:`rebirth-upgrade-name`,children:e}),(0,X.jsx)(`div`,{className:`rebirth-upgrade-info`,children:o?(0,X.jsxs)(`span`,{className:`maxed-text`,children:[`MAXED (`,r,`/`,i,`)`]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`span`,{className:`rebirth-upgrade-price`,children:u===`Unlock`&&!isNaN(t)?n:`${n} Rebirth Points`}),(0,X.jsxs)(`span`,{className:`rebirth-upgrade-count`,children:[`(`,r,`/`,i,`)`]})]})}),c!==void 0&&(0,X.jsx)(`span`,{style:{position:`absolute`,right:`1rem`,bottom:`0.7rem`,fontSize:`0.95em`,color:`#ffd700`,fontWeight:600},children:l===1?`+${Y(c)} Clicks/Tick`:l===2?`${Y(c,1)}% chance`:l===4?`x${Y(c,2)} Money`:`Bonus: x${Y(c,3)}`})]}),Yu=({gameState:e,buyRebirthUpgrade:t,buyMaxRebirthUpgrades:n})=>(0,X.jsxs)(`div`,{className:`rebirth-upgrade-panel`,style:{background:`rgba(147, 51, 234, 0.1)`,borderRadius:`12px`,padding:`20px`,border:`1px solid rgba(147, 51, 234, 0.3)`},children:[(0,X.jsxs)(`div`,{style:{textAlign:`center`,marginBottom:`20px`},children:[(0,X.jsx)(`h2`,{style:{color:`#9333ea`,fontSize:`20px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(147, 51, 234, 0.5)`,marginBottom:`10px`},children:` Rebirth Upgrades`}),(0,X.jsxs)(`div`,{style:{background:`rgba(147, 51, 234, 0.1)`,borderRadius:`8px`,padding:`12px`,border:`1px solid rgba(147, 51, 234, 0.3)`},children:[(0,X.jsxs)(`div`,{style:{color:`#a855f7`,fontSize:`18px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(168, 85, 247, 0.6)`},children:[` `,Y(e.rebirthPoints),` RP`]}),(0,X.jsx)(`div`,{style:{fontSize:`12px`,color:`#9333ea`,marginTop:`4px`},children:`Rebirth Points`})]})]}),(0,X.jsx)(`div`,{className:`rebirth-upgrade-list`,children:J.map((r,i)=>{let a,o=r.name;r.id===0&&e.rebirth_upgradeAmounts[0]>0&&(o=`Money Income x Total Clicks^${(.01+(e.rebirth_upgradeAmounts[0]-1)*.01).toFixed(2)}`);let s=e.rebirth_upgradePrices[i],c=e.rebirthPoints>=e.rebirth_upgradePrices[i],l=!1,u=s.toString();if(r.type===`Unlock`&&(e.gems===0&&e.rebirth_upgradeAmounts[i]===0?(o=`???`,s=NaN,c=!1,l=!0,u=`???`):(c=e.money>=1e3&&e.rebirthPoints>=1&&e.gems>=1,u=`1000$ + 1 Rebirth Point + 1 `)),r.id===0&&e.rebirth_upgradeAmounts[0]>0){let t=.01+(e.rebirth_upgradeAmounts[0]-1)*.01;a=e.clicksTotal**+t}else if(r.id===1&&e.rebirth_upgradeAmounts[1]>0)a=e.rebirth_upgradeAmounts[1];else if(r.id===2&&e.rebirth_upgradeAmounts[2]>0)a=J[2].effect*100;else if(r.id===4&&e.rebirth_upgradeAmounts[4]>0){let t=J[4].effect;a=1+Math.log(e.rebirthPoints+1)*t}return(0,X.jsxs)(`div`,{style:{position:`relative`},children:[(0,X.jsx)(Ju,{name:o,price:s,priceText:u,amount:e.rebirth_upgradeAmounts[i],maxAmount:e.rebirth_maxUpgradeAmounts[i],canAfford:c&&!l,isMaxed:e.rebirth_upgradeAmounts[i]>=e.rebirth_maxUpgradeAmounts[i],onClick:()=>!l&&t(i),bonus:a,upgradeId:r.id,upgradeType:r.type}),e.rebirth_maxUpgradeAmounts[i]>1&&e.rebirth_upgradeAmounts[i]<e.rebirth_maxUpgradeAmounts[i]&&(0,X.jsx)(`button`,{onClick:e=>{e.stopPropagation(),l||n(i)},disabled:l,style:{marginTop:`8px`,width:`100%`,padding:`8px 16px`,background:`linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)`,border:`2px solid #d97706`,borderRadius:`12px`,color:`#78350f`,fontSize:`12px`,fontWeight:`bold`,cursor:l?`not-allowed`:`pointer`,boxShadow:`0 2px 8px rgba(251, 191, 36, 0.4)`,transition:`all 0.2s ease`,textTransform:`uppercase`,letterSpacing:`0.5px`,opacity:l?.5:1},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.1)`,e.currentTarget.style.boxShadow=`0 3px 10px rgba(251, 191, 36, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.boxShadow=`0 2px 6px rgba(251, 191, 36, 0.4)`},children:`max`})]},r.id)})})]}),Xu=e=>{let t=[[100,`C`],[90,`XC`],[50,`L`],[40,`XL`],[10,`X`],[9,`IX`],[5,`V`],[4,`IV`],[1,`I`]],n=``;for(let[r,i]of t)for(;e>=r;)n+=i,e-=r;return n},Zu=({gameState:e})=>{let t=e.achievements.reduce((e,t)=>e+(t.tier||0),0),n=t*1,r=t*1,i=t*1,a=e.rebirth_upgradeAmounts[2]>0,o=a?t*.1:0,s=Fu.filter(t=>t.requiresUnlock?t.requirement?.type===`gems`?e.rebirth_upgradeAmounts[2]>0:t.requirement?.type===`elements`||t.requirement?.type===`runespurchased`?e.rebirth_upgradeAmounts[3]>0:!0:!0).reduce((e,t)=>t.maxTier?e+t.maxTier:e+1,0),c=Fu.filter(t=>t.requiresUnlock?t.requirement?.type===`gems`?e.rebirth_upgradeAmounts[2]>0:t.requirement?.type===`elements`||t.requirement?.type===`runespurchased`?e.rebirth_upgradeAmounts[3]>0:!0:!0).map(t=>{let n=e.achievements.find(e=>e.id===t.id),r=n?n.tier:0,i=t.maxTier||1;return{id:t.id,name:t.name,currentTier:r,maxTier:i,progress:r/i*100}});return(0,X.jsxs)(`div`,{className:`achievements-panel`,style:{background:`linear-gradient(135deg, #f59e0b 0%, #d97706 30%, #92400e 100%)`,border:`3px solid`,borderImage:`linear-gradient(135deg, #fbbf24, #f59e0b, #d97706) 1`,borderRadius:`16px`,padding:`20px`,boxShadow:`0 0 30px rgba(245, 158, 11, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,color:`white`,height:`100%`,overflowY:`auto`,position:`relative`},children:[(0,X.jsx)(`div`,{style:{position:`absolute`,top:`0`,left:`0`,right:`0`,bottom:`0`,backgroundImage:`radial-gradient(circle at 25% 25%, rgba(251, 191, 36, 0.1) 0%, transparent 50%)`,pointerEvents:`none`}}),(0,X.jsx)(`h2`,{style:{color:`#fbbf24`,textAlign:`center`,marginBottom:`20px`,fontSize:`24px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(251, 191, 36, 0.5)`,position:`relative`},children:` Achievements`}),t>0&&(0,X.jsxs)(`div`,{style:{background:`rgba(251, 191, 36, 0.15)`,borderRadius:`12px`,padding:`16px`,marginBottom:`20px`,border:`2px solid rgba(251, 191, 36, 0.4)`,position:`relative`},children:[(0,X.jsx)(`div`,{style:{color:`#fbbf24`,fontWeight:`bold`,marginBottom:`12px`,fontSize:`18px`,textAlign:`center`,textShadow:`0 0 10px rgba(251, 191, 36, 0.6)`},children:` Total Active Bonuses`}),(0,X.jsxs)(`div`,{style:{fontSize:`13px`,textAlign:`center`,color:`#fcd34d`,marginBottom:`12px`},children:[`(`,t,` Achievement Tier`,t===1?``:`s`,` Unlocked)`]}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`,fontSize:`14px`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,padding:`6px 12px`,background:`rgba(16, 185, 129, 0.15)`,borderRadius:`8px`,border:`1px solid rgba(16, 185, 129, 0.3)`},children:[(0,X.jsx)(`span`,{style:{fontWeight:`500`},children:` Money Bonus:`}),(0,X.jsxs)(`span`,{style:{color:`#10b981`,fontWeight:`bold`,fontSize:`15px`},children:[`+`,Y(n),`%`]})]}),(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,padding:`6px 12px`,background:`rgba(59, 130, 246, 0.15)`,borderRadius:`8px`,border:`1px solid rgba(59, 130, 246, 0.3)`},children:[(0,X.jsx)(`span`,{style:{fontWeight:`500`},children:` Rebirth Points Bonus:`}),(0,X.jsxs)(`span`,{style:{color:`#60a5fa`,fontWeight:`bold`,fontSize:`15px`},children:[`+`,Y(r),`%`]})]}),(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,padding:`6px 12px`,background:`rgba(168, 85, 247, 0.15)`,borderRadius:`8px`,border:`1px solid rgba(168, 85, 247, 0.3)`},children:[(0,X.jsx)(`span`,{style:{fontWeight:`500`},children:` Elemental Production Bonus:`}),(0,X.jsxs)(`span`,{style:{color:`#c084fc`,fontWeight:`bold`,fontSize:`15px`},children:[`+`,Y(i),`%`]})]}),a&&(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,padding:`6px 12px`,background:`rgba(245, 158, 11, 0.15)`,borderRadius:`8px`,border:`1px solid rgba(245, 158, 11, 0.3)`},children:[(0,X.jsx)(`span`,{style:{fontWeight:`500`},children:` Gem Chance Bonus:`}),(0,X.jsxs)(`span`,{style:{color:`#fbbf24`,fontWeight:`bold`,fontSize:`15px`},children:[`+`,Y(o,1),`%`]})]})]})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(0, 0, 0, 0.3)`,borderRadius:`12px`,padding:`16px`,marginBottom:`16px`,border:`1px solid rgba(251, 191, 36, 0.3)`,position:`relative`},children:[(0,X.jsx)(`div`,{style:{fontSize:`14px`,fontWeight:`bold`,color:`#fbbf24`,marginBottom:`8px`,textAlign:`center`},children:` Overall Progress`}),(0,X.jsxs)(`div`,{style:{fontSize:`13px`,textAlign:`center`,color:`#fcd34d`,marginBottom:`10px`},children:[t,` / `,s,` Total Tiers (`,(t/s*100).toFixed(1),`%)`]}),(0,X.jsx)(`div`,{style:{width:`100%`,height:`20px`,background:`rgba(0, 0, 0, 0.4)`,borderRadius:`10px`,overflow:`hidden`,border:`1px solid rgba(251, 191, 36, 0.3)`,marginBottom:`12px`},children:(0,X.jsx)(`div`,{style:{width:`${t/s*100}%`,height:`100%`,background:`linear-gradient(90deg, #f59e0b 0%, #fbbf24 50%, #f59e0b 100%)`,transition:`width 0.5s ease`,boxShadow:`0 0 10px rgba(251, 191, 36, 0.5)`}})}),(0,X.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`,fontSize:`12px`},children:c.map(e=>(0,X.jsxs)(`div`,{children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,marginBottom:`4px`,color:`#cbd5e1`},children:[(0,X.jsx)(`span`,{children:e.name}),(0,X.jsxs)(`span`,{style:{color:`#fbbf24`,fontWeight:`bold`},children:[e.currentTier,` / `,e.maxTier]})]}),(0,X.jsx)(`div`,{style:{width:`100%`,height:`8px`,background:`rgba(0, 0, 0, 0.4)`,borderRadius:`4px`,overflow:`hidden`,border:`1px solid rgba(100, 116, 139, 0.3)`},children:(0,X.jsx)(`div`,{style:{width:`${e.progress}%`,height:`100%`,background:e.progress===100?`linear-gradient(90deg, #10b981 0%, #059669 100%)`:`linear-gradient(90deg, #f59e0b 0%, #d97706 100%)`,transition:`width 0.5s ease`}})})]},e.id))})]}),(0,X.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`,position:`relative`},children:Fu.filter(t=>t.requiresUnlock?t.requirement?.type===`gems`?e.rebirth_upgradeAmounts[2]>0:t.requirement?.type===`elements`||t.requirement?.type===`runespurchased`?e.rebirth_upgradeAmounts[3]>0:!0:!0).map(t=>{let n=e.achievements.find(e=>e.id===t.id),r=n?n.tier:0,i=r>0,a=0,o=``;if(t.maxTier&&t.tierMultiplier&&t.requirement){let n=r+1;if(n<=t.maxTier){a=t.requirement.value*t.tierMultiplier**(n-1);let{type:r}=t.requirement,i=0;switch(r){case`money`:i=e.money,o=`${Y(i)}$ / ${Y(a)}$`;break;case`rebirth`:i=e.rebirthPoints,o=`${Y(i)} / ${Y(a)} RP`;break;case`clicks`:i=e.clicksTotal,o=`${Y(i)} / ${Y(a)} clicks`;break;case`gems`:i=e.gems,o=`${Y(i)} / ${Y(a)} gems`;break;case`upgrades`:i=e.stats?.totalUpgradesPurchased||0,o=`${i} / ${a} upgrades`;break;case`elements`:i=e.stats?.allTimeElementsProduced?Object.values(e.stats.allTimeElementsProduced).reduce((e,t)=>e+t,0):0,o=`${Y(i)} / ${Y(a)} elements`;break;case`runespurchased`:i=(e.stats?.baseRunePacksPurchased||0)+(e.stats?.elementalRunePacksPurchased||0),o=`${Y(i)} / ${Y(a)} packs`;break}}}else if(t.requirement&&!i){let{type:n,value:r}=t.requirement,i=0;switch(n){case`money`:i=e.money,o=`${Y(i)}$ / ${Y(r)}$`;break;case`rebirth`:i=e.rebirthPoints,o=`${Y(i)} / ${Y(r)} RP`;break;case`clicks`:i=e.clicksTotal,o=`${Y(i)} / ${Y(r)} clicks`;break;case`gems`:i=e.gems,o=`${Y(i)} / ${Y(r)} gems`;break;case`upgrades`:i=e.stats?.totalUpgradesPurchased||0,o=`${i} / ${r} upgrades`;break;case`elements`:i=e.stats?.allTimeElementsProduced?Object.values(e.stats.allTimeElementsProduced).reduce((e,t)=>e+t,0):0,o=`${Y(i)} / ${Y(r)} elements`;break;case`runespurchased`:i=(e.stats?.baseRunePacksPurchased||0)+(e.stats?.elementalRunePacksPurchased||0),o=`${Y(i)} / ${Y(r)} packs`;break}}let s=t.name,c=t.description;if(t.maxTier&&t.tierMultiplier&&t.requirement){let{type:e}=t.requirement,n=``;switch(e){case`money`:n=`$`;break;case`rebirth`:n=` RP`;break;case`clicks`:n=` clicks`;break;case`gems`:n=` gems`;break;case`upgrades`:n=` upgrades`;break;case`elements`:n=` elements`;break;case`runespurchased`:n=` packs`;break}r>0?(s=`${t.name} ${Xu(r)}`,c=`${t.description} ${Y(t.requirement.value*t.tierMultiplier**+r)}${n}`):(s=`${t.name} I`,c=`${t.description} ${Y(t.requirement.value)}${n}`)}return(0,X.jsxs)(`div`,{style:{background:i?`linear-gradient(135deg, rgba(251, 191, 36, 0.3) 0%, rgba(217, 119, 6, 0.2) 100%)`:`rgba(0, 0, 0, 0.3)`,border:i?`2px solid #fbbf24`:`2px solid rgba(255, 255, 255, 0.2)`,borderRadius:`12px`,padding:`16px`,display:`flex`,alignItems:`center`,gap:`12px`,transition:`all 0.3s ease`,opacity:i?1:.6,position:`relative`,overflow:`hidden`},children:[i&&(0,X.jsx)(`div`,{style:{position:`absolute`,top:0,left:`-100%`,width:`100%`,height:`100%`,background:`linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)`,animation:`shimmer 3s infinite`}}),(0,X.jsx)(`div`,{style:{fontSize:`36px`,minWidth:`50px`,textAlign:`center`,filter:i?`none`:`grayscale(100%)`,opacity:i?1:.5,position:`relative`},children:t.icon}),(0,X.jsxs)(`div`,{style:{flex:1,position:`relative`},children:[(0,X.jsxs)(`div`,{style:{fontSize:`16px`,fontWeight:`bold`,color:i?`#fbbf24`:`#9ca3af`,marginBottom:`4px`,textShadow:i?`0 0 8px rgba(251, 191, 36, 0.4)`:`none`,display:`flex`,alignItems:`center`,gap:`8px`},children:[s,t.maxTier&&r>0&&r<t.maxTier&&(0,X.jsxs)(`span`,{style:{fontSize:`12px`,padding:`2px 8px`,background:`rgba(251, 191, 36, 0.2)`,borderRadius:`12px`,border:`1px solid rgba(251, 191, 36, 0.4)`},children:[`Next: `,Xu(r+1)]})]}),(0,X.jsx)(`div`,{style:{fontSize:`13px`,color:i?`#fcd34d`:`#6b7280`,lineHeight:`1.4`},children:c}),o&&(t.maxTier?r<t.maxTier:!i)&&(0,X.jsxs)(`div`,{style:{fontSize:`12px`,color:`#94a3b8`,marginTop:`4px`,fontStyle:`italic`},children:[`Progress: `,o]})]}),(0,X.jsx)(`div`,{style:{padding:`6px 12px`,borderRadius:`20px`,fontSize:`12px`,fontWeight:`bold`,background:i?`linear-gradient(135deg, #10b981, #059669)`:`rgba(107, 114, 128, 0.5)`,color:`white`,textShadow:`0 1px 2px rgba(0,0,0,0.3)`,position:`relative`},children:i?` Unlocked`:` Locked`})]},t.id)})})]})},Qu=e=>{let t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60),i=Math.floor(e%60),a=[];return t>0&&a.push(`${t}d`),n>0&&a.push(`${n}h`),r>0&&a.push(`${r}m`),(i>0||a.length===0)&&a.push(`${i}s`),a.join(` `)},$u=({gameState:e,onToggleDevStats:t})=>{let{stats:n}=e,r=e.includeDevStats||!1,i=r?n.allTimeMoneyEarned+(n.devStats?.moneyAdded||0):n.allTimeMoneyEarned,a=r?n.allTimeRebirthPointsEarned+(n.devStats?.rebirthPointsAdded||0):n.allTimeRebirthPointsEarned,o=r?n.allTimeGemsEarned+(n.devStats?.gemsAdded||0):n.allTimeGemsEarned,s=r?n.allTimeClicksTotal+(n.devStats?.clicksAdded||0):n.allTimeClicksTotal,c=e.rebirth_upgradeAmounts[2]>0,l=e.rebirth_upgradeAmounts[3]>0,u=[{title:` All Time Money`,stats:[{label:`Total Money Earned`,value:Y(i)+`$`},{label:`  - Money from Clicks`,value:Y(n.moneyFromClicks)+`$`,isSubItem:!0},{label:`  - Money from Ticks`,value:Y(n.moneyFromTicks)+`$`,isSubItem:!0},...r&&(n.devStats?.moneyAdded||0)>0?[{label:`  - Money from Dev`,value:Y(n.devStats.moneyAdded)+`$`,isSubItem:!0}]:[]]},{title:` Rebirth Statistics`,stats:[{label:`All Time Rebirth Points`,value:Y(a)},{label:`Total Rebirths`,value:Y(n.totalRebirths)},...r&&(n.devStats?.rebirthPointsAdded||0)>0?[{label:`  - RP from Dev`,value:Y(n.devStats.rebirthPointsAdded),isSubItem:!0}]:[]]},...c?[{title:` All Time Gems`,stats:[{label:`Total Gems Earned`,value:Y(o)},...r&&(n.devStats?.gemsAdded||0)>0?[{label:`  - Gems from Dev`,value:Y(n.devStats.gemsAdded),isSubItem:!0}]:[]]}]:[],{title:` All Time Clicks`,stats:[{label:`Total Clicks`,value:Y(s)},{label:`  - Clicks from Manual`,value:Y(n.clicksFromManual),isSubItem:!0},{label:`  - Clicks from Ticks`,value:Y(n.clicksFromTicks),isSubItem:!0},...r&&(n.devStats?.clicksAdded||0)>0?[{label:`  - Clicks from Dev`,value:Y(n.devStats.clicksAdded),isSubItem:!0}]:[]]},...l?[{title:` Runes Purchased`,stats:[{label:`Base Packs`,value:Y(n.baseRunePacksPurchased)},{label:`Elemental Packs`,value:Y(n.elementalRunePacksPurchased)}]}]:[],{title:` Upgrades Purchased`,stats:[{label:`Total Upgrades`,value:Y(n.totalUpgradesPurchased)},{label:`Total Rebirth Upgrades`,value:Y(n.totalRebirthUpgradesPurchased)}]},{title:` Records`,stats:[{label:`Highest Money (Single Rebirth)`,value:Y(n.highestMoneyInSingleRebirth||0)+`$`},{label:`Fastest Rebirth`,value:n.fastestRebirthTime?Qu(n.fastestRebirthTime):`N/A`},{label:`Total Achievements Unlocked`,value:Y(e.achievements.filter(e=>e.tier>0).length)+` / `+Y(Fu.length)}]},{title:` All Time Spending`,stats:[{label:`Money Spent`,value:Y(n.allTimeMoneySpent)+`$`},{label:`Rebirth Points Spent`,value:Y(n.allTimeRebirthPointsSpent)+` RP`},...c?[{label:`Gems Spent`,value:Y(n.allTimeGemsSpent)+` `}]:[]]},{title:` Play Time`,stats:[{label:`Online Time`,value:Qu(n.onlineTime||0)},{label:`Offline Time`,value:Qu(n.offlineTime||0)},...r&&(n.devStats?.offlineTimeAdded||0)>0?[{label:`  - Offline Time (Dev)`,value:Qu(n.devStats.offlineTimeAdded),isSubItem:!0}]:[],{label:`Total Time`,value:Qu((n.onlineTime||0)+(n.offlineTime||0))}]},...l?[{title:` All Time Elements Produced`,stats:[{label:`Total Elements`,value:Y(n.allTimeElementsProduced.air+n.allTimeElementsProduced.earth+n.allTimeElementsProduced.water+n.allTimeElementsProduced.fire+n.allTimeElementsProduced.light+n.allTimeElementsProduced.dark)},{label:`  - Air Produced`,value:Y(n.allTimeElementsProduced.air),isSubItem:!0},{label:`  - Earth Produced`,value:Y(n.allTimeElementsProduced.earth),isSubItem:!0},{label:`  - Water Produced`,value:Y(n.allTimeElementsProduced.water),isSubItem:!0},{label:`  - Fire Produced`,value:Y(n.allTimeElementsProduced.fire),isSubItem:!0},{label:`  - Light Produced`,value:Y(n.allTimeElementsProduced.light),isSubItem:!0},{label:`  - Dark Produced`,value:Y(n.allTimeElementsProduced.dark),isSubItem:!0}]}]:[],...l?[{title:` Runes Obtained`,stats:[{label:`Total Basic Runes`,value:Y(n.runesObtained.common+n.runesObtained.uncommon+n.runesObtained.rare+n.runesObtained.epic+n.runesObtained.legendary+n.runesObtained.mythic+(r?(n.devStats?.runesAdded?.common||0)+(n.devStats?.runesAdded?.uncommon||0)+(n.devStats?.runesAdded?.rare||0)+(n.devStats?.runesAdded?.epic||0)+(n.devStats?.runesAdded?.legendary||0)+(n.devStats?.runesAdded?.mythic||0):0))},{label:`  - Common`,value:Y(n.runesObtained.common+(r&&n.devStats?.runesAdded?.common||0)),isSubItem:!0},{label:`  - Uncommon`,value:Y(n.runesObtained.uncommon+(r&&n.devStats?.runesAdded?.uncommon||0)),isSubItem:!0},{label:`  - Rare`,value:Y(n.runesObtained.rare+(r&&n.devStats?.runesAdded?.rare||0)),isSubItem:!0},{label:`  - Epic`,value:Y(n.runesObtained.epic+(r&&n.devStats?.runesAdded?.epic||0)),isSubItem:!0},{label:`  - Legendary`,value:Y(n.runesObtained.legendary+(r&&n.devStats?.runesAdded?.legendary||0)),isSubItem:!0},{label:`  - Mythic`,value:Y(n.runesObtained.mythic+(r&&n.devStats?.runesAdded?.mythic||0)),isSubItem:!0}]}]:[],...l?[{title:` Elemental Runes Obtained`,stats:[{label:`Total Elemental Runes`,value:Y(n.elementalRunesObtained.air+n.elementalRunesObtained.earth+n.elementalRunesObtained.water+n.elementalRunesObtained.fire+n.elementalRunesObtained.light+n.elementalRunesObtained.dark+(r?(n.devStats?.elementalRunesAdded?.air||0)+(n.devStats?.elementalRunesAdded?.earth||0)+(n.devStats?.elementalRunesAdded?.water||0)+(n.devStats?.elementalRunesAdded?.fire||0)+(n.devStats?.elementalRunesAdded?.light||0)+(n.devStats?.elementalRunesAdded?.dark||0):0))},{label:`  - Air`,value:Y(n.elementalRunesObtained.air+(r&&n.devStats?.elementalRunesAdded?.air||0)),isSubItem:!0},{label:`  - Earth`,value:Y(n.elementalRunesObtained.earth+(r&&n.devStats?.elementalRunesAdded?.earth||0)),isSubItem:!0},{label:`  - Water`,value:Y(n.elementalRunesObtained.water+(r&&n.devStats?.elementalRunesAdded?.water||0)),isSubItem:!0},{label:`  - Fire`,value:Y(n.elementalRunesObtained.fire+(r&&n.devStats?.elementalRunesAdded?.fire||0)),isSubItem:!0},{label:`  - Light`,value:Y(n.elementalRunesObtained.light+(r&&n.devStats?.elementalRunesAdded?.light||0)),isSubItem:!0},{label:`  - Dark Runes`,value:Y(n.elementalRunesObtained.dark+(r&&n.devStats?.elementalRunesAdded?.dark||0)),isSubItem:!0}]}]:[],...l?[{title:` Runes Crafted`,stats:[{label:`Total Runes Crafted`,value:Y(n.runesCrafted.common+n.runesCrafted.uncommon+n.runesCrafted.rare+n.runesCrafted.epic+n.runesCrafted.legendary+n.runesCrafted.mythic+n.runesCrafted.secret)},{label:`  - Common`,value:Y(n.runesCrafted.common),isSubItem:!0},{label:`  - Uncommon`,value:Y(n.runesCrafted.uncommon),isSubItem:!0},{label:`  - Rare`,value:Y(n.runesCrafted.rare),isSubItem:!0},{label:`  - Epic`,value:Y(n.runesCrafted.epic),isSubItem:!0},{label:`  - Legendary`,value:Y(n.runesCrafted.legendary),isSubItem:!0},{label:`  - Mythic`,value:Y(n.runesCrafted.mythic),isSubItem:!0},{label:`  - Secret Runes`,value:Y(n.runesCrafted.secret),isSubItem:!0}]}]:[]];return(0,X.jsxs)(`div`,{className:`statistics-panel`,style:{background:`linear-gradient(135deg, #3b82f6 0%, #1d4ed8 30%, #1e3a8a 100%)`,border:`3px solid`,borderImage:`linear-gradient(135deg, #60a5fa, #3b82f6, #1d4ed8) 1`,borderRadius:`16px`,padding:`20px`,boxShadow:`0 0 30px rgba(59, 130, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,color:`white`,height:`100%`,overflowY:`auto`,position:`relative`},children:[(0,X.jsx)(`div`,{style:{position:`absolute`,top:`0`,left:`0`,right:`0`,bottom:`0`,backgroundImage:`radial-gradient(circle at 25% 25%, rgba(96, 165, 250, 0.1) 0%, transparent 50%)`,pointerEvents:`none`}}),(0,X.jsx)(`h2`,{style:{color:`#60a5fa`,textAlign:`center`,marginBottom:`20px`,fontSize:`24px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(96, 165, 250, 0.5)`,position:`relative`},children:` Game Statistics`}),null,(0,X.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`,position:`relative`},children:u.map((e,t)=>(0,X.jsxs)(`div`,{style:{background:`rgba(0, 0, 0, 0.3)`,borderRadius:`12px`,padding:`16px`,border:`1px solid rgba(96, 165, 250, 0.3)`},children:[(0,X.jsx)(`div`,{style:{fontSize:`16px`,fontWeight:`bold`,color:`#60a5fa`,marginBottom:`12px`,textShadow:`0 0 8px rgba(96, 165, 250, 0.4)`},children:e.title}),(0,X.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`},children:e.stats.map((e,t)=>(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,padding:`6px 8px`,background:e.isSubItem?`rgba(0, 0, 0, 0.2)`:`rgba(0, 0, 0, 0.3)`,borderRadius:`6px`,fontSize:e.isSubItem?`13px`:`14px`},children:[(0,X.jsx)(`span`,{style:{color:e.isSubItem?`#cbd5e1`:`#e2e8f0`},children:e.label}),(0,X.jsx)(`span`,{style:{color:e.isSubItem?`#93c5fd`:`#60a5fa`,fontWeight:`bold`},children:e.value})]},t))})]},t))})]})},ed=({gameState:e})=>{let[t,n]=(0,_.useState)(`allTimeMoney`),[r,i]=(0,_.useState)([]),[a,o]=(0,_.useState)(-1),[s,c]=(0,_.useState)(!1),l=Cu(),u=[{id:`allTimeMoney`,label:` All Time Money`,icon:``},{id:`totalTiers`,label:` Total Tiers`,icon:``},{id:`moneyPerClick`,label:` Money Per Click`,icon:``},{id:`onlineTime`,label:` Online Time`,icon:``}],d=(e,t)=>{switch(e){case`allTimeMoney`:case`moneyPerClick`:return t.toLocaleString(`de-DE`);case`totalTiers`:return t.toString();case`onlineTime`:let e=Math.floor(t/3600),n=Math.floor(t%3600/60);return`${e}h ${n}m`;default:return t.toString()}},f=e=>new Date(e).toLocaleDateString(`de-DE`,{day:`2-digit`,month:`2-digit`,year:`numeric`});(0,_.useEffect)(()=>{let e=async()=>{c(!0);try{console.log(`[Leaderboard Panel] Loading data for category:`,t,`at`,new Date().toLocaleTimeString());let e=await Mu(t,100);console.log(`[Leaderboard Panel] Received data:`,e.length,`entries`),i(e);let n=await Nu(l,t);o(n)}catch(e){console.error(`Error loading leaderboard:`,e)}finally{c(!1)}};e();let n=new Date,r=(60-n.getSeconds())*1e3-n.getMilliseconds();console.log(`[Leaderboard Panel] Next refresh in`,Math.round(r/1e3),`seconds`);let a=null,s=setTimeout(()=>{e(),a=setInterval(e,6e4)},r);return()=>{clearTimeout(s),a&&clearInterval(a)}},[t,l]);let p=e=>e===1?`#ffd700`:e===2?`#c0c0c0`:e===3?`#cd7f32`:`#94a3b8`,m=e=>e===1?``:e===2?``:e===3?``:`#${e}`;return(0,X.jsxs)(`div`,{style:{background:`linear-gradient(135deg, #0f172a 0%, #1e293b 100%)`,borderRadius:`16px`,padding:`24px`,border:`2px solid #3b82f6`,boxShadow:`0 8px 32px rgba(59, 130, 246, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,height:`100%`,display:`flex`,flexDirection:`column`,gap:`16px`,position:`relative`,overflow:`hidden`},children:[(0,X.jsx)(`h2`,{style:{color:`white`,fontSize:`24px`,fontWeight:`bold`,margin:0,textAlign:`center`,textShadow:`0 0 20px rgba(59, 130, 246, 0.6)`,position:`relative`},children:` Leaderboard`}),(0,X.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(2, 1fr)`,gap:`8px`},children:u.map(e=>(0,X.jsxs)(`button`,{onClick:()=>n(e.id),style:{background:t===e.id?`linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)`:`rgba(59, 130, 246, 0.1)`,border:t===e.id?`2px solid #60a5fa`:`2px solid rgba(59, 130, 246, 0.3)`,borderRadius:`8px`,padding:`10px 12px`,color:`white`,fontSize:`13px`,fontWeight:`bold`,cursor:`pointer`,transition:`all 0.3s ease`,textShadow:t===e.id?`0 0 8px rgba(0, 0, 0, 0.5)`:`none`,boxShadow:t===e.id?`0 0 15px rgba(59, 130, 246, 0.4)`:`none`},children:[e.icon,` `,e.label.replace(/|||/g,``).trim()]},e.id))}),a>0&&(0,X.jsxs)(`div`,{style:{background:`linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)`,border:`2px solid #fcd34d`,borderRadius:`12px`,padding:`12px 16px`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,boxShadow:`0 0 20px rgba(251, 191, 36, 0.4)`},children:[(0,X.jsxs)(`div`,{style:{color:`#422006`,fontSize:`14px`,fontWeight:`bold`},children:[`Your Rank: `,m(a)]}),(0,X.jsx)(`div`,{style:{color:`#422006`,fontSize:`16px`,fontWeight:`bold`},children:d(t,e.stats[t]||e[t]||0)})]}),s&&(0,X.jsx)(`div`,{style:{color:`#94a3b8`,textAlign:`center`,padding:`40px`,fontSize:`14px`},children:`Loading leaderboard...`}),!s&&(0,X.jsx)(`div`,{style:{flex:1,overflowY:`auto`,display:`flex`,flexDirection:`column`,gap:`8px`,paddingRight:`4px`},children:r.length===0?(0,X.jsx)(`div`,{style:{color:`#94a3b8`,textAlign:`center`,padding:`40px`,fontSize:`14px`},children:`No entries yet. Be the first!`}):r.map((e,n)=>{let r=n+1,i=e.userId===l;return(0,X.jsxs)(`div`,{style:{background:i?`linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(245, 158, 11, 0.2) 100%)`:`rgba(0, 0, 0, 0.3)`,border:i?`2px solid #fbbf24`:`1px solid rgba(96, 165, 250, 0.3)`,borderRadius:`10px`,padding:`12px 16px`,display:`flex`,flexDirection:`column`,gap:`8px`,transition:`all 0.2s ease`,boxShadow:i?`0 0 15px rgba(251, 191, 36, 0.3)`:`none`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,X.jsx)(`div`,{style:{minWidth:`50px`,fontSize:`16px`,fontWeight:`bold`,color:p(r),textShadow:r<=3?`0 0 10px ${p(r)}`:`none`,flexShrink:0},children:m(r)}),(0,X.jsxs)(`div`,{style:{flex:1,color:i?`#fbbf24`:`#e2e8f0`,fontSize:`14px`,fontWeight:i?`bold`:`normal`,wordBreak:`break-word`,lineHeight:`1.3`},children:[e.username,i&&(0,X.jsx)(`span`,{style:{marginLeft:`8px`,fontSize:`12px`,color:`#fbbf24`,opacity:.8},children:`(You)`})]})]}),(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,paddingLeft:`62px`},children:[(0,X.jsx)(`div`,{style:{color:i?`#fbbf24`:`#60a5fa`,fontSize:`15px`,fontWeight:`bold`},children:d(t,e[t]||0)}),(0,X.jsx)(`div`,{style:{color:`#64748b`,fontSize:`11px`},children:f(e.timestamp)})]})]},e.userId)})})]})},td=({money:e,onRebirth:t,gameState:n})=>{let r=e>=1e3,i=Math.floor(e/1e3),a=n.achievements.reduce((e,t)=>e+(t.tier||0),0)*.01,o=1+a,s=(()=>{let e=0;return n.runes.forEach((t,n)=>{let r=vu[n];t>0&&(e+=(r.rpBonus||0)*t)}),e})(),c=1+s,l=zu(n.elementalPrestige||null),u=l.rpGainBonus-1,d=Math.floor(i*c*o*l.rpGainBonus);return(0,X.jsx)(`div`,{className:`action-buttons`,children:r&&(0,X.jsxs)(`button`,{className:`rebirth-button`,onClick:t,type:`button`,style:{background:`linear-gradient(135deg, #7c3aed 0%, #9333ea 50%, #a855f7 100%)`,border:`3px solid #6d28d9`,borderRadius:`16px`,padding:`16px 24px`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 6px 20px rgba(147, 51, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)`,color:`white`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 2px 4px rgba(0, 0, 0, 0.3)`,marginBottom:`12px`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 8px 25px rgba(147, 51, 234, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.2)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 6px 20px rgba(147, 51, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)`},children:[(0,X.jsx)(`div`,{style:{fontSize:`18px`,marginBottom:`4px`},children:` REBIRTH`}),(0,X.jsxs)(`div`,{className:`rebirth-info`,style:{fontSize:`14px`,color:`#e9d5ff`},children:[`Get `,Y(d),` Rebirth Points`,(s>0||a>0||u>0)&&(0,X.jsxs)(`span`,{style:{fontSize:`0.9em`,color:`#c4b5fd`,display:`block`},children:[s>0&&`+${Y(s*100)}% from runes`,s>0&&(a>0||u>0)&&`, `,a>0&&`+${Y(a*100)}% from achievements`,a>0&&u>0&&`, `,u>0&&`+${Y(u*100)}% from prestige`]})]})]})})},nd=({activeTab:e,onTabChange:t,hasGems:n,hasRebirth:r,hasElementalRunes:i})=>{let a=[{id:`stats`,label:` Main`,icon:``},{id:`upgrades`,label:` Upgrades`,icon:``},...r?[{id:`rebirth`,label:` Rebirth`,icon:``}]:[],...r?[{id:`achievements`,label:` Achiev`,icon:``}]:[],...r?[{id:`statistics`,label:` Stats`,icon:``}]:[],...r?[{id:`leaderboard`,label:` Leader`,icon:``}]:[],...n?[{id:`gems`,label:` Runes`,icon:``}]:[],...i?[{id:`trader`,label:` Trader`,icon:``}]:[],...i?[{id:`prestige`,label:` Prestige`,icon:``}]:[],{id:`settings`,label:` Settings`,icon:``},...[]];return(0,X.jsx)(`div`,{className:`mobile-tab-navigation`,style:{display:`flex`,overflowX:`auto`,background:`rgba(15, 23, 42, 0.9)`,borderRadius:`12px`,padding:`4px`,border:`1px solid rgba(100, 116, 139, 0.3)`,marginBottom:`12px`,gap:`2px`,scrollbarWidth:`thin`,WebkitOverflowScrolling:`touch`},children:a.map(n=>(0,X.jsxs)(`button`,{onClick:()=>t(n.id),className:`mobile-tab ${e===n.id?`active`:``}`,style:{flex:1,padding:`8px 4px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`12px`,fontWeight:`bold`,transition:`all 0.3s ease`,background:e===n.id?`linear-gradient(135deg, #3b82f6, #1d4ed8)`:`transparent`,color:e===n.id?`white`:`#94a3b8`,boxShadow:e===n.id?`0 2px 8px rgba(59, 130, 246, 0.3)`:`none`,textAlign:`center`,minWidth:`60px`},children:[(0,X.jsx)(`div`,{style:{fontSize:`16px`,marginBottom:`2px`},children:n.icon}),(0,X.jsx)(`div`,{style:{fontSize:`10px`},children:n.label.split(` `)[1]})]},n.id))})},rd=({isOpen:e,onClose:t,onReset:n,onOpenAnimationSettings:r,disableMoneyEffects:i,disableDiamondEffects:a,disablePackAnimations:o,username:s,onUsernameChange:c,gameState:l})=>{if(!e)return null;let u=()=>{window.confirm(`Are you sure you want to reset all progress? This cannot be undone!`)&&(n(),t())},d=async()=>{let e=Cu();alert(`Saving to cloud...\n\nUser ID: ${e}\nUsername: ${s}\nMoney: ${l.money}\nRebirth Points: ${l.rebirthPoints}`);try{await Du(l)?alert(` Successfully saved to cloud!\n\nUser ID: ${e}\nUsername: ${s}\nMoney: ${l.money}\nRebirth Points: ${l.rebirthPoints}\n\nYour data is now in Firebase.`):alert(` Failed to save to cloud!

Please check your internet connection and Firebase settings.`)}catch(e){alert(` Error saving to cloud!\n\n${e}`)}},f=async()=>{let e=Cu(),t=`Current Data:\nUser ID: ${e}\nUsername: ${s}\nMoney: ${l.money}\nRebirth Points: ${l.rebirthPoints}`;console.log(`[Manual Load] `),console.log(`[Manual Load] Starting manual load for user:`,e),console.log(`[Manual Load] Current username:`,s),console.log(`[Manual Load] Current money:`,l.money),console.log(`[Manual Load] Calling loadGameDataFromFirebase()...`);try{let n=await Ou();if(console.log(`[Manual Load] loadGameDataFromFirebase() returned:`,n),!n){console.log(`[Manual Load]  No cloud data - cloudData is null or undefined`),alert(` No cloud data found!\n\nUser ID: ${e}\n\nThere is no saved data in Firebase for this account.\n\nUse "Save to Cloud Now" first to create a cloud save.`);return}if(console.log(`[Manual Load]  Cloud data received!`),console.log(`[Manual Load] Cloud Username:`,n.username),console.log(`[Manual Load] Cloud Money:`,n.money),console.log(`[Manual Load] Cloud Rebirth Points:`,n.rebirthPoints),!n){alert(` No cloud data found!\n\nUser ID: ${e}\n\nThere is no saved data in Firebase for this account.\n\nUse "Save to Cloud Now" first to create a cloud save.`);return}let r=`Cloud Data:\nUsername: ${n.username}\nMoney: ${n.money}\nRebirth Points: ${n.rebirthPoints}`;if(console.log(`[Load from Cloud] `),console.log(`[Load from Cloud] Cloud data received from Firebase:`),console.log(`[Load from Cloud] Username:`,n.username),console.log(`[Load from Cloud] Money:`,n.money),console.log(`[Load from Cloud] Rebirth Points:`,n.rebirthPoints),console.log(`[Load from Cloud] Gems:`,n.gems),console.log(`[Load from Cloud] Full object keys:`,Object.keys(n)),console.log(`[Load from Cloud] `),!window.confirm(`${t}\n\n${r}\n\nLoad data from cloud?\n\nThis will REPLACE your current local data!`))return;let i=localStorage.getItem(`money_clicker_user_id`);console.log(`[Load from Cloud] Saved User ID:`,i),localStorage.clear(),console.log(`[Load from Cloud] localStorage cleared`),i&&(localStorage.setItem(`money_clicker_user_id`,i),console.log(`[Load from Cloud] User ID restored:`,i));let a={...n,lastSaveTime:Date.now()};console.log(`[Load from Cloud] Data to save to localStorage:`),console.log(`[Load from Cloud] Username:`,a.username),console.log(`[Load from Cloud] Money:`,a.money),console.log(`[Load from Cloud] Rebirth Points:`,a.rebirthPoints),localStorage.setItem(`moneyClickerSave`,JSON.stringify(a)),localStorage.setItem(`firebase_data_loaded`,`true`);let o=localStorage.getItem(`moneyClickerSave`);if(o){let e=JSON.parse(o);console.log(`[Load from Cloud] VERIFICATION - What was saved:`),console.log(`[Load from Cloud] Username:`,e.username),console.log(`[Load from Cloud] Money:`,e.money),console.log(`[Load from Cloud] Rebirth Points:`,e.rebirthPoints)}console.log(`[Load from Cloud] firebase_data_loaded flag:`,localStorage.getItem(`firebase_data_loaded`)),console.log(`[Load from Cloud] Triggering reload now...`);let s=new URL(window.location.href);s.searchParams.set(`_t`,Date.now().toString()),window.location.replace(s.toString())}catch(e){console.error(`[Manual Load] Error:`,e),alert(` Error loading from cloud!\n\n${e}\n\nPlease check:\n1. Internet connection\n2. Firebase is configured\n3. You saved data to cloud first`)}},p=async()=>{let e=window.prompt(`Enter your new username (max 20 characters):`,s);if(e!==null&&e.trim()!==``){let t=e.trim().slice(0,20);if(!await ku(t)){alert(`Username "${t}" is already taken. Please choose another name.`);return}if(await Au(t)){c(t);try{let e=Cu(),n=W(mu,`leaderboard/${e}`),r=await q(n);if(r.exists()){let e=r.val();await K(n,{...e,username:t}),console.log(`[Settings] Updated leaderboard username to:`,t)}let i=W(mu,`gameData/${e}`),a=await q(i);if(a.exists()){let e=a.val();await K(i,{...e,username:t}),console.log(`[Settings] Updated gameData username to:`,t)}}catch(e){console.error(`[Settings] Failed to update username in Firebase:`,e)}alert(`Username successfully changed to "${t}"!`)}else alert(`Failed to reserve username. Please try again.`)}},m=()=>{let e=Tu(),t=localStorage.getItem(`money_clicker_user_id`)||`unknown`;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{alert(` Code copied to clipboard!\n\nYour Account Code:\n${e}\n\nUser ID: ${t}\nUsername: ${s}\n\nUse this code to login on another device.`)}).catch(n=>{console.error(`Clipboard error:`,n),h(e,t)}):h(e,t)},h=(e,t)=>{let n=`Your Account Code:\n\n${e}\n\nUser ID: ${t}\nUsername: ${s}\n\nCopy this code manually to use on another device.`,r=document.createElement(`textarea`);r.value=e,r.style.position=`fixed`,r.style.top=`50%`,r.style.left=`50%`,r.style.transform=`translate(-50%, -50%)`,r.style.width=`80%`,r.style.padding=`20px`,r.style.fontSize=`16px`,r.style.zIndex=`10000`,document.body.appendChild(r),r.select(),alert(n+`

The code is now selected - you can copy it manually.`),setTimeout(()=>{document.body.removeChild(r)},3e4)};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,zIndex:999,animation:`fadeIn 0.2s ease-out`},onClick:t}),(0,X.jsxs)(`div`,{style:{position:`fixed`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,background:`linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)`,border:`3px solid #64748b`,borderRadius:`20px`,padding:`32px`,boxShadow:`0 20px 60px rgba(0, 0, 0, 0.8), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,zIndex:1e3,minWidth:`400px`,maxWidth:`90vw`,maxHeight:`90vh`,overflowY:`auto`,animation:`slideIn 0.3s ease-out`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`24px`},children:[(0,X.jsx)(`h2`,{style:{color:`white`,fontSize:`24px`,fontWeight:`bold`,margin:0,textShadow:`0 2px 4px rgba(0, 0, 0, 0.3)`},children:` Settings`}),(0,X.jsx)(`button`,{onClick:t,style:{background:`transparent`,border:`none`,color:`#94a3b8`,fontSize:`28px`,cursor:`pointer`,padding:`0`,width:`32px`,height:`32px`,display:`flex`,alignItems:`center`,justifyContent:`center`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.color=`white`,e.currentTarget.style.transform=`rotate(90deg)`},onMouseLeave:e=>{e.currentTarget.style.color=`#94a3b8`,e.currentTarget.style.transform=`rotate(0deg)`},children:``})]}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:[(0,X.jsxs)(`div`,{style:{background:`rgba(100, 116, 139, 0.1)`,border:`2px solid rgba(100, 116, 139, 0.3)`,borderRadius:`12px`,padding:`16px`,textAlign:`center`},children:[(0,X.jsx)(`div`,{style:{color:`#60a5fa`,fontSize:`14px`,fontWeight:`bold`,marginBottom:`4px`},children:` Money Clicker`}),(0,X.jsx)(`div`,{style:{color:`#94a3b8`,fontSize:`13px`},children:`Version V.0.1.4`})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(100, 116, 139, 0.1)`,border:`2px solid rgba(100, 116, 139, 0.3)`,borderRadius:`12px`,padding:`16px`},children:[(0,X.jsx)(`h3`,{style:{color:`#a0a0c0`,fontSize:`16px`,fontWeight:`bold`,margin:`0 0 12px 0`},children:` Player Profile`}),(0,X.jsxs)(`div`,{style:{background:`rgba(0, 0, 0, 0.3)`,border:`1px solid rgba(255, 255, 255, 0.2)`,borderRadius:`8px`,padding:`12px`,marginBottom:`12px`,textAlign:`center`},children:[(0,X.jsx)(`div`,{style:{color:`#94a3b8`,fontSize:`12px`,marginBottom:`4px`},children:`Current Username`}),(0,X.jsx)(`div`,{style:{color:`#ffd700`,fontSize:`18px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(255, 215, 0, 0.4)`},children:s})]}),(0,X.jsx)(`button`,{onClick:p,style:{background:`linear-gradient(135deg, #10b981, #059669)`,color:`white`,border:`2px solid #34d399`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(16, 185, 129, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(16, 185, 129, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(16, 185, 129, 0.4)`},children:` Change Username`})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(139, 92, 246, 0.1)`,border:`2px solid rgba(139, 92, 246, 0.3)`,borderRadius:`12px`,padding:`16px`},children:[(0,X.jsx)(`h3`,{style:{color:`#c4b5fd`,fontSize:`16px`,fontWeight:`bold`,margin:`0 0 12px 0`},children:` Account Sync`}),(0,X.jsx)(`p`,{style:{color:`#cbd5e1`,fontSize:`13px`,margin:`0 0 12px 0`,lineHeight:`1.5`},children:`Play on multiple devices with the same account!`}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`},children:[(0,X.jsx)(`button`,{onClick:d,style:{background:`linear-gradient(135deg, #10b981, #059669)`,color:`white`,border:`2px solid #34d399`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(16, 185, 129, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(16, 185, 129, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(16, 185, 129, 0.4)`},children:` Save to Cloud Now`}),(0,X.jsx)(`button`,{onClick:f,style:{background:`linear-gradient(135deg, #0ea5e9, #0284c7)`,color:`white`,border:`2px solid #38bdf8`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(14, 165, 233, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(14, 165, 233, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(14, 165, 233, 0.4)`},children:` Load from Cloud`}),(0,X.jsx)(`button`,{onClick:m,style:{background:`linear-gradient(135deg, #8b5cf6, #7c3aed)`,color:`white`,border:`2px solid #a78bfa`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(139, 92, 246, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(139, 92, 246, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(139, 92, 246, 0.4)`},children:` Get Account Code`}),(0,X.jsx)(`button`,{onClick:async()=>{let e=localStorage.getItem(`money_clicker_user_id`)||`none`,t=window.prompt(`Enter your account code:\n\nCurrent User ID: ${e}\nCurrent Username: ${s}\n\nWarning: This will replace your current account!`);if(t&&t.trim()!==``){let e=await Eu(t.trim());if(e.success){alert(` Login Successful!\n\nNew User ID: ${e.userId}\n\nThe page will now reload to load your account data.`);let t=new URL(window.location.href);t.searchParams.set(`_t`,Date.now().toString()),window.location.replace(t.toString())}else alert(` Login Failed!\n\nError: ${e.error}\n\nPlease check:\n1. The code is correct\n2. You have internet connection\n3. The account exists in Firebase`)}},style:{background:`linear-gradient(135deg, #06b6d4, #0891b2)`,color:`white`,border:`2px solid #22d3ee`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(6, 182, 212, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(6, 182, 212, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(6, 182, 212, 0.4)`},children:` Login with Code`})]})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(100, 116, 139, 0.1)`,border:`2px solid rgba(100, 116, 139, 0.3)`,borderRadius:`12px`,padding:`16px`},children:[(0,X.jsx)(`h3`,{style:{color:`#a0a0c0`,fontSize:`16px`,fontWeight:`bold`,margin:`0 0 12px 0`},children:` Animation Settings`}),(0,X.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,marginBottom:`12px`,flexWrap:`wrap`},children:[(0,X.jsxs)(`span`,{style:{padding:`4px 12px`,borderRadius:`6px`,fontSize:`13px`,background:o?`rgba(220, 38, 38, 0.2)`:`rgba(34, 197, 94, 0.2)`,color:o?`#fca5a5`:`#86efac`,border:`1px solid ${o?`rgba(220, 38, 38, 0.4)`:`rgba(34, 197, 94, 0.4)`}`},children:[` Packs: `,o?`AUS`:`AN`]}),(0,X.jsxs)(`span`,{style:{padding:`4px 12px`,borderRadius:`6px`,fontSize:`13px`,background:i?`rgba(220, 38, 38, 0.2)`:`rgba(34, 197, 94, 0.2)`,color:i?`#fca5a5`:`#86efac`,border:`1px solid ${i?`rgba(220, 38, 38, 0.4)`:`rgba(34, 197, 94, 0.4)`}`},children:[` Money: `,i?`AUS`:`AN`]}),(0,X.jsxs)(`span`,{style:{padding:`4px 12px`,borderRadius:`6px`,fontSize:`13px`,background:a?`rgba(220, 38, 38, 0.2)`:`rgba(34, 197, 94, 0.2)`,color:a?`#fca5a5`:`#86efac`,border:`1px solid ${a?`rgba(220, 38, 38, 0.4)`:`rgba(34, 197, 94, 0.4)`}`},children:[` Gems: `,a?`AUS`:`AN`]})]}),(0,X.jsx)(`button`,{onClick:()=>{r(),t()},style:{background:`linear-gradient(135deg, #4a9eff, #357abd)`,color:`white`,border:`2px solid #2563eb`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(74, 158, 255, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(74, 158, 255, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(74, 158, 255, 0.4)`},children:` Adjust Animations`})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(88, 101, 242, 0.1)`,border:`2px solid rgba(88, 101, 242, 0.3)`,borderRadius:`12px`,padding:`16px`},children:[(0,X.jsx)(`h3`,{style:{color:`#a5b4fc`,fontSize:`16px`,fontWeight:`bold`,margin:`0 0 12px 0`},children:` Community`}),(0,X.jsx)(`p`,{style:{color:`#cbd5e1`,fontSize:`14px`,margin:`0 0 12px 0`,lineHeight:`1.5`},children:`Join our Discord server for updates, bug reports, and feature suggestions!`}),(0,X.jsx)(`button`,{onClick:()=>window.open(`https://discord.gg/rgvnzbeB`,`_blank`),style:{background:`linear-gradient(135deg, #5865f2, #4752c4)`,color:`white`,border:`2px solid #4752c4`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(88, 101, 242, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(88, 101, 242, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(88, 101, 242, 0.4)`},children:` Join Discord Server`})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(220, 38, 38, 0.1)`,border:`2px solid rgba(220, 38, 38, 0.3)`,borderRadius:`12px`,padding:`16px`},children:[(0,X.jsx)(`h3`,{style:{color:`#fca5a5`,fontSize:`16px`,fontWeight:`bold`,margin:`0 0 12px 0`},children:` Danger Zone`}),(0,X.jsx)(`p`,{style:{color:`#cbd5e1`,fontSize:`14px`,margin:`0 0 12px 0`,lineHeight:`1.5`},children:`Reset all progress and start over from the beginning.`}),(0,X.jsx)(`button`,{onClick:u,style:{background:`linear-gradient(135deg, #dc2626, #ef4444)`,color:`white`,border:`2px solid #b91c1c`,padding:`12px 20px`,borderRadius:`10px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(220, 38, 38, 0.4)`,textShadow:`0 1px 2px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(220, 38, 38, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(220, 38, 38, 0.4)`},children:` Reset All Progress`})]})]})]}),(0,X.jsx)(`style`,{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translate(-50%, -60%);
          }
          to {
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
      `})]})},Z=({isOpen:e,onClose:t,offlineTime:n,moneyEarned:r,clicksEarned:i})=>e?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.7)`,zIndex:9998,animation:`fadeIn 0.3s ease-out`},onClick:t}),(0,X.jsxs)(`div`,{style:{position:`fixed`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,background:`linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)`,border:`3px solid #22c55e`,borderRadius:`24px`,padding:`40px`,boxShadow:`0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,zIndex:9999,minWidth:`450px`,maxWidth:`90vw`,animation:`slideInBounce 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)`,textAlign:`center`},children:[(0,X.jsx)(`div`,{style:{fontSize:`72px`,marginBottom:`20px`,animation:`pulse 2s ease-in-out infinite`},children:``}),(0,X.jsx)(`h2`,{style:{color:`#22c55e`,fontSize:`28px`,fontWeight:`bold`,margin:`0 0 16px 0`,textShadow:`0 0 20px rgba(34, 197, 94, 0.6)`},children:`Welcome Back!`}),(0,X.jsxs)(`p`,{style:{color:`#cbd5e1`,fontSize:`16px`,margin:`0 0 24px 0`},children:[`You were away for `,(0,X.jsx)(`span`,{style:{color:`#60a5fa`,fontWeight:`bold`},children:(e=>{let t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}h ${n}m ${r}s`:n>0?`${n}m ${r}s`:`${r}s`})(n)})]}),(0,X.jsxs)(`div`,{style:{background:`linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)`,border:`2px solid rgba(34, 197, 94, 0.5)`,borderRadius:`16px`,padding:`24px`,marginBottom:`16px`,boxShadow:`0 0 20px rgba(34, 197, 94, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)`},children:[(0,X.jsx)(`div`,{style:{color:`#94a3b8`,fontSize:`14px`,marginBottom:`8px`},children:`Passive Income Earned`}),(0,X.jsxs)(`div`,{style:{color:`#22c55e`,fontSize:`36px`,fontWeight:`bold`,textShadow:`0 0 20px rgba(34, 197, 94, 0.8)`},children:[`+`,Y(r),`$`]})]}),i&&i>0&&(0,X.jsxs)(`div`,{style:{background:`linear-gradient(135deg, rgba(147, 51, 234, 0.2) 0%, rgba(147, 51, 234, 0.1) 100%)`,border:`2px solid rgba(147, 51, 234, 0.5)`,borderRadius:`16px`,padding:`20px`,marginBottom:`16px`,boxShadow:`0 0 20px rgba(147, 51, 234, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)`},children:[(0,X.jsx)(`div`,{style:{color:`#94a3b8`,fontSize:`13px`,marginBottom:`6px`},children:`Auto Clicker Generated`}),(0,X.jsxs)(`div`,{style:{color:`#a78bfa`,fontSize:`28px`,fontWeight:`bold`,textShadow:`0 0 15px rgba(147, 51, 234, 0.8)`},children:[`+`,Y(i),` Clicks`]})]}),(0,X.jsx)(`p`,{style:{color:`#94a3b8`,fontSize:`13px`,margin:`0 0 24px 0`,fontStyle:`italic`},children:` Offline progress is capped at 6 hours (50% efficiency)`}),(0,X.jsx)(`button`,{onClick:t,style:{background:`linear-gradient(135deg, #16a34a 0%, #22c55e 50%, #4ade80 100%)`,border:`3px solid #15803d`,borderRadius:`16px`,padding:`16px 40px`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 8px 25px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)`,color:`white`,fontSize:`18px`,fontWeight:`bold`,textShadow:`0 2px 4px rgba(0, 0, 0, 0.3)`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 12px 30px rgba(34, 197, 94, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.2)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 8px 25px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)`},children:`Claim Rewards! `})]}),(0,X.jsx)(`style`,{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        
        @keyframes slideInBounce {
          0% {
            opacity: 0;
            transform: translate(-50%, -60%) scale(0.8);
          }
          60% {
            opacity: 1;
            transform: translate(-50%, -48%) scale(1.05);
          }
          100% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
          }
        }
        
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            filter: drop-shadow(0 0 10px rgba(34, 197, 94, 0.5));
          }
          50% {
            transform: scale(1.1);
            filter: drop-shadow(0 0 20px rgba(34, 197, 94, 0.8));
          }
        }
      `})]}):null;const id=[{id:`fire_gems_1`,elementType:3,elementAmount:5e3,rewardType:`gems`,rewardAmount:50},{id:`fire_gems_2`,elementType:3,elementAmount:25e3,rewardType:`gems`,rewardAmount:250},{id:`dark_gems_1`,elementType:5,elementAmount:1e4,rewardType:`gems`,rewardAmount:100},{id:`dark_gems_2`,elementType:5,elementAmount:5e4,rewardType:`gems`,rewardAmount:500},{id:`light_gems_1`,elementType:4,elementAmount:8e3,rewardType:`gems`,rewardAmount:80},{id:`water_gems_1`,elementType:2,elementAmount:15e3,rewardType:`gems`,rewardAmount:150},{id:`air_rune_rare`,elementType:0,elementAmount:1e4,rewardType:`rune`,rewardAmount:1,rewardRuneId:2},{id:`air_rune_epic`,elementType:0,elementAmount:5e4,rewardType:`rune`,rewardAmount:1,rewardRuneId:3},{id:`water_rune_epic`,elementType:2,elementAmount:6e4,rewardType:`rune`,rewardAmount:1,rewardRuneId:3},{id:`fire_rune_legendary`,elementType:3,elementAmount:1e5,rewardType:`rune`,rewardAmount:1,rewardRuneId:4},{id:`dark_rune_legendary`,elementType:5,elementAmount:15e4,rewardType:`rune`,rewardAmount:1,rewardRuneId:4},{id:`dark_rune_mythic`,elementType:5,elementAmount:25e4,rewardType:`rune`,rewardAmount:1,rewardRuneId:5},{id:`light_rune_mythic`,elementType:4,elementAmount:2e5,rewardType:`rune`,rewardAmount:1,rewardRuneId:5},{id:`dark_secret_fragment`,elementType:5,elementAmount:5e5,rewardType:`rune`,rewardAmount:1,rewardRuneId:6},{id:`fire_to_air`,elementType:3,elementAmount:1e4,rewardType:`rune`,rewardAmount:1,rewardRuneId:0},{id:`water_to_light`,elementType:2,elementAmount:12e3,rewardType:`rune`,rewardAmount:1,rewardRuneId:4},{id:`earth_to_dark`,elementType:1,elementAmount:15e3,rewardType:`rune`,rewardAmount:1,rewardRuneId:5}],ad=(e=3)=>[...id].sort(()=>Math.random()-.5).slice(0,e);var od=({isOpen:e,onClose:t,gameState:n,setGameState:r,setOfflineProgress:i,onOpenTrader:a})=>{let[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)(!1),y=(0,_.useRef)(null);if((0,_.useEffect)(()=>{e&&y.current&&y.current.focus()},[e]),!e)return null;let b=[{cmd:`addMoney(amount)`,desc:`Add money to your balance`},{cmd:`addRP(amount)`,desc:`Add Rebirth Points`},{cmd:`addGems(amount)`,desc:`Add gems`},{cmd:`addClicks(amount)`,desc:`Add clicks to total`},{cmd:`setMoneyPerClick(amount)`,desc:`Set money per click`},{cmd:`setMoneyPerTick(amount)`,desc:`Set money per tick`},{cmd:`simulateOffline(minutes)`,desc:`Simulate offline time (no cap)`},{cmd:`resetGame()`,desc:`Reset entire game`},{cmd:`maxUpgrade(index)`,desc:`Max buy upgrade by index (0-4)`},{cmd:`setAllAchievements(tier)`,desc:`Set all achievements to tier`},{cmd:`maxAllAchievements()`,desc:`Max all achievements to their maxTier`},{cmd:`unlockAchievement(id)`,desc:`Unlock achievement by id (0-8)`},{cmd:`setAchievementTier(id, tier)`,desc:`Set achievement tier (id: 0-8)`},{cmd:`addRune(id, amount)`,desc:`Add base rune (id: 0-6)`},{cmd:`addElementalRune(id, amount)`,desc:`Add elemental rune (id: 0-5)`},{cmd:`addElement(id, amount)`,desc:`Add elemental resource (id: 0-5)`},{cmd:`refreshTrader()`,desc:`Refresh trader offers`},{cmd:`showTrader()`,desc:`Show current trader offers`},{cmd:`startEvent(id)`,desc:`Start event (0-5: fireStorm, earthquake, solarFlare, tsunami, darkness, tempest)`},{cmd:`stopEvent()`,desc:`Stop current event`},{cmd:`showEvents()`,desc:`Show all available events`},{cmd:`.help()`,desc:`Show all available commands`},{cmd:`.achievements()`,desc:`Show achievement list with IDs`},{cmd:`.clear()`,desc:`Clear command history`}],x=e=>{let t=e.trim();l(e=>[...e,`> ${t}`]);try{if(t===`.help()`){d(!0),l(e=>[...e,` Available commands displayed above`]);return}if(t===`.achievements()`){h(!0),l(e=>[...e,` Achievement list displayed above`]);return}if(t===`.clear()`){l([]),d(!1),h(!1);return}let e=t.match(/^addMoney\(([^)]+)\)$/);if(e){let t=parseFloat(e[1]);if(isNaN(t))throw Error(`Invalid amount`);r(e=>({...e,money:e.money+t})),l(e=>[...e,` Added ${t}$ to balance`]);return}let a=t.match(/^addRP\(([^)]+)\)$/);if(a){let e=parseFloat(a[1]);if(isNaN(e))throw Error(`Invalid amount`);r(t=>({...t,rebirthPoints:t.rebirthPoints+e})),l(t=>[...t,` Added ${e} Rebirth Points`]);return}let o=t.match(/^addGems\(([^)]+)\)$/);if(o){let e=parseInt(o[1]);if(isNaN(e))throw Error(`Invalid amount`);r(t=>({...t,gems:t.gems+e})),l(t=>[...t,` Added ${e} gems`]);return}let s=t.match(/^addClicks\(([^)]+)\)$/);if(s){let e=parseInt(s[1]);if(isNaN(e))throw Error(`Invalid amount`);r(t=>({...t,clicksTotal:t.clicksTotal+e})),l(t=>[...t,` Added ${e} clicks`]);return}let c=t.match(/^setMoneyPerClick\(([^)]+)\)$/);if(c){let e=parseFloat(c[1]);if(isNaN(e))throw Error(`Invalid amount`);r(t=>({...t,moneyPerClick:e})),l(t=>[...t,` Set money per click to ${e}$`]);return}let u=t.match(/^setMoneyPerTick\(([^)]+)\)$/);if(u){let e=parseFloat(u[1]);if(isNaN(e))throw Error(`Invalid amount`);r(t=>({...t,moneyPerTick:e})),l(t=>[...t,` Set money per tick to ${e}$`]);return}let f=t.match(/^simulateOffline\(([^)]+)\)$/);if(f){let e=parseFloat(f[1]);if(isNaN(e))throw Error(`Invalid minutes`);let t=e*60,a=0;if(n.rebirth_upgradeAmounts[1]>0&&(a=Math.floor(n.rebirth_upgradeAmounts[1]*t*.5)),n.moneyPerTick>0||a>0){let o=1+n.achievements.reduce((e,t)=>e+(t.tier||0),0)*.01,s=n.clicksTotal+a,c=1;if(n.rebirth_upgradeAmounts[0]>0){let e=.01+(n.rebirth_upgradeAmounts[0]-1)*.01;c=(s+1)**+e}let u=0;n.runes.forEach((e,t)=>{let n=vu[t];e>0&&n.moneyBonus&&(u+=n.moneyBonus*e)});let d=1+u,f=1;n.rebirth_upgradeAmounts[4]>0&&(f=1+Math.log(n.rebirthPoints+1)*.05);let p=n.moneyPerTick*c*d*f*o*t*.5;i({time:t,money:p,clicks:a}),r(e=>({...e,money:e.money+p,clicksTotal:e.clicksTotal+a,stats:{...e.stats,offlineTime:e.stats.offlineTime+t,devStats:{...e.stats.devStats,offlineTimeAdded:e.stats.devStats.offlineTimeAdded+t}}})),l(t=>[...t,` Simulated ${e} minutes offline (+${p.toFixed(2)}$, +${a} clicks)`])}else l(e=>[...e,` No passive income or auto clicker active`]);return}if(t===`resetGame()`){confirm(`Are you sure you want to reset the entire game?`)&&(localStorage.removeItem(`moneyClickerGameState`),window.location.reload());return}let p=t.match(/^setAllAchievements\(([^)]+)\)$/);if(p){let e=parseInt(p[1]);if(isNaN(e)||e<1)throw Error(`Invalid tier (must be >= 1)`);r(t=>({...t,achievements:Fu.map((t,n)=>({id:n,tier:e}))})),l(t=>[...t,` Set all achievements to Tier ${e}`]);return}if(t===`maxAllAchievements()`){r(e=>({...e,achievements:Fu.map((e,t)=>({id:t,tier:e.maxTier||100}))})),l(e=>[...e,` Maxed all achievements to their maxTier`]);return}let m=t.match(/^unlockAchievement\(([^)]+)\)$/);if(m){let e=parseInt(m[1]);if(isNaN(e)||e<0||e>8)throw Error(`Invalid achievement id (0-8)`);r(t=>{let n=t.achievements.findIndex(t=>t.id===e);if(n>=0){let e=[...t.achievements];return e[n].tier||(e[n]={...e[n],tier:1}),{...t,achievements:e}}else return{...t,achievements:[...t.achievements,{id:e,tier:1}]}}),l(t=>[...t,` Unlocked achievement #${e}`]);return}let g=t.match(/^setAchievementTier\(([^,]+),\s*([^)]+)\)$/);if(g){let e=parseInt(g[1]),t=g[2].trim();if(isNaN(e)||e<0||e>8)throw Error(`Invalid achievement id (0-8)`);let n;if(t.toLowerCase()===`max`)n=Fu[e].maxTier||100;else if(n=parseInt(t),isNaN(n)||n<1)throw Error(`Invalid tier (must be >= 1 or "max")`);r(t=>{let r=t.achievements.findIndex(t=>t.id===e);if(r>=0){let i=[...t.achievements];return i[r]={id:e,tier:n},{...t,achievements:i}}else return{...t,achievements:[...t.achievements,{id:e,tier:n}]}}),l(t=>[...t,` Set achievement #${e} to tier ${n}`]);return}let _=t.match(/^addRune\(([^,]+),\s*([^)]+)\)$/);if(_){let e=parseInt(_[1]),t=parseInt(_[2]);if(isNaN(e)||isNaN(t)||e<0||e>6)throw Error(`Invalid rune id (0-6) or amount`);r(n=>{let r=[...n.runes];return r[e]+=t,{...n,runes:r}}),l(n=>[...n,` Added ${t}x ${vu[e].name}`]);return}let v=t.match(/^addElementalRune\(([^,]+),\s*([^)]+)\)$/);if(v){let e=parseInt(v[1]),t=parseInt(v[2]);if(isNaN(e)||isNaN(t)||e<0||e>5)throw Error(`Invalid elemental rune id (0-5) or amount`);r(n=>{let r=[...n.elementalRunes];return r[e]+=t,{...n,elementalRunes:r}}),l(n=>[...n,` Added ${t}x ${yu[e].name}`]);return}let y=t.match(/^addElement\(([^,]+),\s*([^)]+)\)$/);if(y){let e=parseInt(y[1]),t=parseInt(y[2]);if(isNaN(e)||isNaN(t)||e<0||e>5)throw Error(`Invalid element id (0-5) or amount`);r(n=>{let r=[...n.elementalResources];return r[e]+=t,{...n,elementalResources:r}}),l(n=>[...n,` Added ${t} ${yu[e].name} resources`]);return}if(t===`refreshTrader()`){let e=ad(3);r(t=>({...t,traderOffers:e.map(e=>e.id),traderLastRefresh:Date.now(),traderNextRefresh:Date.now()+600*1e3})),l(t=>[...t,` Trader offers refreshed (${e.length} new offers)`]);return}if(t===`showTrader()`){let e=n.traderOffers||[],t=id.filter(t=>e.includes(t.id));t.length===0?l(e=>[...e,` No trader offers available. Use refreshTrader() first.`]):l(e=>[...e,` Current trader offers: ${t.map(e=>e.id).join(`, `)}`]);return}let b=t.match(/^startEvent\(([^)]+)\)$/);if(b){let e=parseInt(b[1]);if(isNaN(e)||e<0||e>=bu.length)throw Error(`Invalid event ID. Use 0-5 or event name.`);let t=bu[e],n=Date.now();r(e=>({...e,activeEvent:t.id,eventEndTime:n+t.duration,nextEventTime:null})),l(e=>[...e,` Started event: ${t.name} (${t.icon}) - ${t.description}`]);return}if(t===`stopEvent()`){if(!n.activeEvent)l(e=>[...e,` No active event to stop`]);else{let e=bu.find(e=>e.id===n.activeEvent),t=Date.now(),i=(10+Math.random()*10)*60*1e3;r(e=>({...e,activeEvent:null,eventEndTime:null,nextEventTime:t+i})),l(t=>[...t,` Stopped event: ${e?.name||`Unknown`}`])}return}if(t===`showEvents()`){let e=bu.map((e,t)=>`${t}: ${e.icon} ${e.name} - ${e.description}`).join(`
`);l(t=>[...t,` Available Events:\n${e}`]);return}throw Error(`Unknown command. Type .help() for available commands.`)}catch(e){l(t=>[...t,` Error: ${e.message}`])}},ee=(e,t)=>{l(e=>[...e,` ${t}: Type command in console below`]),s(e),y.current&&y.current.focus()};if(g){let e=n.activeEvent?bu.find(e=>e.id===n.activeEvent):null,t=n.eventEndTime?Math.max(0,n.eventEndTime-Date.now()):0,i=Math.floor(t/6e4),a=Math.floor(t%6e4/1e3);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.8)`,zIndex:1e4,animation:`fadeIn 0.3s ease-out`},onClick:()=>v(!1)}),(0,X.jsxs)(`div`,{style:{position:`fixed`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,background:`linear-gradient(135deg, #1e293b 0%, #0f172a 100%)`,border:`3px solid #f59e0b`,borderRadius:`24px`,padding:`20px`,boxShadow:`0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(245, 158, 11, 0.4)`,zIndex:10001,width:`90vw`,maxWidth:`700px`,maxHeight:`90vh`,overflow:`auto`,animation:`slideIn 0.3s ease-out`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`24px`},children:[(0,X.jsx)(`h2`,{style:{color:`#f59e0b`,fontSize:`24px`,fontWeight:`bold`,margin:0,textShadow:`0 0 20px rgba(245, 158, 11, 0.6)`},children:` Events Manager`}),(0,X.jsx)(`button`,{onClick:()=>v(!1),style:{background:`rgba(239, 68, 68, 0.2)`,border:`2px solid #ef4444`,borderRadius:`8px`,padding:`8px 16px`,cursor:`pointer`,color:`#fca5a5`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.2)`},children:` Back`})]}),e?(0,X.jsxs)(`div`,{style:{background:`linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(22, 163, 74, 0.1) 100%)`,border:`2px solid rgba(34, 197, 94, 0.5)`,borderRadius:`16px`,padding:`20px`,marginBottom:`24px`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`16px`,marginBottom:`12px`},children:[(0,X.jsx)(`span`,{style:{fontSize:`48px`},children:e.icon}),(0,X.jsxs)(`div`,{style:{flex:1},children:[(0,X.jsx)(`h3`,{style:{color:`#22c55e`,margin:`0 0 8px 0`,fontSize:`20px`},children:e.name}),(0,X.jsx)(`p`,{style:{color:`#94a3b8`,margin:0,fontSize:`14px`},children:e.description})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(0, 0, 0, 0.3)`,padding:`12px 20px`,borderRadius:`12px`,textAlign:`center`},children:[(0,X.jsx)(`div`,{style:{color:`#64748b`,fontSize:`11px`,marginBottom:`4px`},children:`TIME LEFT`}),(0,X.jsxs)(`div`,{style:{color:`#22c55e`,fontSize:`24px`,fontWeight:`bold`,fontFamily:`monospace`},children:[i,`:`,a.toString().padStart(2,`0`)]})]})]}),(0,X.jsx)(`button`,{onClick:()=>{let e=Date.now(),t=(10+Math.random()*10)*60*1e3;r(n=>({...n,activeEvent:null,eventEndTime:null,nextEventTime:e+t}))},style:{background:`linear-gradient(135deg, #dc2626 0%, #991b1b 100%)`,border:`2px solid #7f1d1d`,borderRadius:`10px`,padding:`10px 20px`,cursor:`pointer`,color:`white`,fontSize:`14px`,fontWeight:`bold`,width:`100%`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(220, 38, 38, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`none`},children:` Stop Event`})]}):(0,X.jsx)(`div`,{style:{background:`rgba(100, 116, 139, 0.1)`,border:`2px solid rgba(100, 116, 139, 0.3)`,borderRadius:`16px`,padding:`20px`,marginBottom:`24px`,textAlign:`center`},children:(0,X.jsx)(`p`,{style:{color:`#94a3b8`,margin:0,fontSize:`16px`},children:` No event currently active`})}),(0,X.jsx)(`h3`,{style:{color:`#cbd5e1`,margin:`0 0 16px 0`,fontSize:`18px`},children:`Available Events:`}),(0,X.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(2, 1fr)`,gap:`16px`},children:bu.map(e=>(0,X.jsxs)(`div`,{style:{background:n.activeEvent===e.id?`linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(22, 163, 74, 0.1) 100%)`:`rgba(30, 41, 59, 0.6)`,border:n.activeEvent===e.id?`2px solid rgba(34, 197, 94, 0.5)`:`2px solid rgba(100, 116, 139, 0.3)`,borderRadius:`12px`,padding:`16px`,transition:`all 0.2s ease`,cursor:`pointer`},onMouseEnter:t=>{n.activeEvent!==e.id&&(t.currentTarget.style.borderColor=`rgba(245, 158, 11, 0.6)`,t.currentTarget.style.transform=`translateY(-2px)`)},onMouseLeave:t=>{n.activeEvent!==e.id&&(t.currentTarget.style.borderColor=`rgba(100, 116, 139, 0.3)`,t.currentTarget.style.transform=`none`)},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`12px`},children:[(0,X.jsx)(`span`,{style:{fontSize:`32px`},children:e.icon}),(0,X.jsxs)(`div`,{style:{flex:1},children:[(0,X.jsx)(`h4`,{style:{color:`#e2e8f0`,margin:`0 0 4px 0`,fontSize:`16px`},children:e.name}),(0,X.jsx)(`p`,{style:{color:`#94a3b8`,margin:0,fontSize:`13px`},children:e.description})]})]}),(0,X.jsx)(`button`,{onClick:()=>{let t=Date.now();r(n=>({...n,activeEvent:e.id,eventEndTime:t+e.duration,nextEventTime:null}))},disabled:n.activeEvent===e.id,style:{background:n.activeEvent===e.id?`rgba(100, 116, 139, 0.3)`:`linear-gradient(135deg, #f59e0b 0%, #d97706 100%)`,border:`2px solid `+(n.activeEvent===e.id?`#64748b`:`#b45309`),borderRadius:`8px`,padding:`8px 16px`,cursor:n.activeEvent===e.id?`not-allowed`:`pointer`,color:`white`,fontSize:`13px`,fontWeight:`bold`,width:`100%`,transition:`all 0.2s ease`,opacity:n.activeEvent===e.id?.5:1},onMouseEnter:t=>{n.activeEvent!==e.id&&(t.currentTarget.style.transform=`translateY(-2px)`)},onMouseLeave:t=>{n.activeEvent!==e.id&&(t.currentTarget.style.transform=`none`)},children:n.activeEvent===e.id?` Active`:` Start Event`})]},e.id))})]})]})}return f?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.8)`,zIndex:1e4,animation:`fadeIn 0.3s ease-out`},onClick:()=>p(!1)}),(0,X.jsxs)(`div`,{style:{position:`fixed`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,background:`linear-gradient(135deg, #1e293b 0%, #0f172a 100%)`,border:`3px solid #8b5cf6`,borderRadius:`24px`,padding:`20px`,boxShadow:`0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(139, 92, 246, 0.4)`,zIndex:10001,width:`90vw`,maxWidth:`700px`,maxHeight:`90vh`,overflow:`auto`,animation:`slideIn 0.3s ease-out`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`24px`},children:[(0,X.jsx)(`h2`,{style:{color:`#8b5cf6`,fontSize:`24px`,fontWeight:`bold`,margin:0,textShadow:`0 0 20px rgba(139, 92, 246, 0.6)`},children:` Runes Manager`}),(0,X.jsx)(`button`,{onClick:()=>p(!1),style:{background:`rgba(239, 68, 68, 0.2)`,border:`2px solid #ef4444`,borderRadius:`8px`,padding:`8px 16px`,cursor:`pointer`,color:`#fca5a5`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.2)`},children:` Back`})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(34, 197, 94, 0.1)`,border:`2px solid rgba(34, 197, 94, 0.3)`,borderRadius:`12px`,padding:`16px`,marginBottom:`20px`},children:[(0,X.jsx)(`h3`,{style:{color:`#22c55e`,margin:`0 0 12px 0`,fontSize:`16px`},children:` Base Runes:`}),(0,X.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fill, minmax(200px, 1fr))`,gap:`10px`},children:vu.map((e,t)=>(0,X.jsxs)(`button`,{onClick:()=>{p(!1),ee(`addRune(${t}, amount)`,`Add ${e.name}`)},style:{...sd,background:`linear-gradient(135deg, #22c55e 0%, #16a34a 100%)`,borderColor:`#15803d`,fontSize:`12px`,padding:`12px 8px`},children:[e.name,(0,X.jsxs)(`div`,{style:{fontSize:`10px`,opacity:.8,marginTop:`4px`},children:[`Current: `,n.runes[t]]})]},t))})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(59, 130, 246, 0.1)`,border:`2px solid rgba(59, 130, 246, 0.3)`,borderRadius:`12px`,padding:`16px`},children:[(0,X.jsx)(`h3`,{style:{color:`#60a5fa`,margin:`0 0 12px 0`,fontSize:`16px`},children:` Elemental Runes:`}),(0,X.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fill, minmax(200px, 1fr))`,gap:`10px`},children:yu.map((e,t)=>(0,X.jsxs)(`button`,{onClick:()=>{p(!1),ee(`addElementalRune(${t}, amount)`,`Add ${e.name}`)},style:{...sd,background:`linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)`,borderColor:`#1d4ed8`,fontSize:`12px`,padding:`12px 8px`},children:[e.name,(0,X.jsxs)(`div`,{style:{fontSize:`10px`,opacity:.8,marginTop:`4px`},children:[`Current: `,n.elementalRunes[t]]})]},t))})]})]}),(0,X.jsx)(`style`,{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideIn {
            from {
              opacity: 0;
              transform: translate(-50%, -60%) scale(0.9);
            }
            to {
              opacity: 1;
              transform: translate(-50%, -50%) scale(1);
            }
          }
        `})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.8)`,zIndex:1e4,animation:`fadeIn 0.3s ease-out`},onClick:t}),(0,X.jsxs)(`div`,{style:{position:`fixed`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,background:`linear-gradient(135deg, #1e293b 0%, #0f172a 100%)`,border:`3px solid #f59e0b`,borderRadius:`24px`,padding:`20px`,boxShadow:`0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(245, 158, 11, 0.4)`,zIndex:10001,width:`90vw`,maxWidth:`700px`,maxHeight:`90vh`,overflow:`auto`,animation:`slideIn 0.3s ease-out`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`24px`},children:[(0,X.jsx)(`h2`,{style:{color:`#f59e0b`,fontSize:`24px`,fontWeight:`bold`,margin:0,textShadow:`0 0 20px rgba(245, 158, 11, 0.6)`},children:` Developer Console`}),(0,X.jsx)(`button`,{onClick:t,style:{background:`rgba(239, 68, 68, 0.2)`,border:`2px solid #ef4444`,borderRadius:`8px`,padding:`8px 16px`,cursor:`pointer`,color:`#fca5a5`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.2)`},children:` Close`})]}),u&&(0,X.jsxs)(`div`,{style:{background:`rgba(59, 130, 246, 0.1)`,border:`2px solid rgba(59, 130, 246, 0.5)`,borderRadius:`12px`,padding:`16px`,marginBottom:`20px`},children:[(0,X.jsx)(`h3`,{style:{color:`#60a5fa`,margin:`0 0 12px 0`,fontSize:`16px`},children:` Available Commands:`}),(0,X.jsx)(`div`,{style:{display:`grid`,gap:`8px`,fontSize:`13px`,fontFamily:`monospace`},children:b.map((e,t)=>(0,X.jsxs)(`div`,{onClick:()=>{s(e.cmd),y.current?.focus()},style:{display:`flex`,justifyContent:`space-between`,padding:`6px`,background:`rgba(255, 255, 255, 0.05)`,borderRadius:`6px`,cursor:`pointer`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(34, 197, 94, 0.15)`,e.currentTarget.style.transform=`translateX(4px)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.05)`,e.currentTarget.style.transform=`translateX(0)`},children:[(0,X.jsx)(`span`,{style:{color:`#22c55e`,fontWeight:`bold`},children:e.cmd}),(0,X.jsx)(`span`,{style:{color:`#94a3b8`},children:e.desc})]},t))})]}),m&&(0,X.jsxs)(`div`,{style:{background:`rgba(251, 191, 36, 0.1)`,border:`2px solid rgba(251, 191, 36, 0.5)`,borderRadius:`12px`,padding:`16px`,marginBottom:`20px`},children:[(0,X.jsx)(`h3`,{style:{color:`#fbbf24`,margin:`0 0 12px 0`,fontSize:`16px`},children:` Achievements:`}),(0,X.jsx)(`div`,{style:{display:`grid`,gap:`6px`,fontSize:`12px`,fontFamily:`monospace`},children:Fu.map(e=>(0,X.jsxs)(`div`,{onClick:()=>{s(`setAchievementTier(${e.id}, tier)`),y.current?.focus()},style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`8px`,background:`rgba(255, 255, 255, 0.05)`,borderRadius:`6px`,cursor:`pointer`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(251, 191, 36, 0.15)`,e.currentTarget.style.transform=`translateX(4px)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.05)`,e.currentTarget.style.transform=`translateX(0)`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,alignItems:`center`},children:[(0,X.jsxs)(`span`,{style:{color:`#fbbf24`,fontWeight:`bold`,minWidth:`30px`},children:[`#`,e.id]}),(0,X.jsx)(`span`,{style:{fontSize:`16px`},children:e.icon}),(0,X.jsx)(`span`,{style:{color:`#e2e8f0`,fontWeight:`bold`},children:e.name})]}),(0,X.jsxs)(`span`,{style:{color:`#94a3b8`,fontSize:`11px`},children:[`Max Tier: `,e.maxTier||100]})]},e.id))})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(34, 197, 94, 0.1)`,border:`2px solid rgba(34, 197, 94, 0.3)`,borderRadius:`12px`,padding:`16px`,marginBottom:`20px`},children:[(0,X.jsx)(`h3`,{style:{color:`#22c55e`,margin:`0 0 12px 0`,fontSize:`16px`},children:` Quick Actions:`}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`},children:[(0,X.jsx)(`button`,{onClick:()=>ee(`addMoney(amount)`,`Add Money`),style:sd,children:` Add Money`}),(0,X.jsx)(`button`,{onClick:()=>ee(`addRP(amount)`,`Add Rebirth Points`),style:sd,children:` Add RP`}),(0,X.jsx)(`button`,{onClick:()=>ee(`addGems(amount)`,`Add Gems`),style:sd,children:` Add Gems`}),(0,X.jsx)(`button`,{onClick:()=>ee(`addClicks(amount)`,`Add Clicks`),style:sd,children:` Add Clicks`}),(0,X.jsx)(`button`,{onClick:()=>ee(`setMoneyPerClick(amount)`,`Set Money Per Click`),style:sd,children:` Set $/Click`}),(0,X.jsx)(`button`,{onClick:()=>ee(`setMoneyPerTick(amount)`,`Set Money Per Tick`),style:sd,children:` Set $/Tick`}),(0,X.jsx)(`button`,{onClick:()=>ee(`simulateOffline(minutes)`,`Simulate Offline (minutes)`),style:sd,children:` Offline Time`}),(0,X.jsx)(`button`,{onClick:()=>ee(`setAllAchievements(tier)`,`Set All Achievements`),style:sd,children:` Set Achievements`}),(0,X.jsx)(`button`,{onClick:()=>p(!0),style:{...sd,background:`linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)`,borderColor:`#6d28d9`},children:` Runes Manager`}),(0,X.jsx)(`button`,{onClick:()=>v(!0),style:{...sd,background:`linear-gradient(135deg, #f59e0b 0%, #d97706 100%)`,borderColor:`#b45309`},children:` Events Manager`}),(0,X.jsx)(`button`,{onClick:()=>{x(`refreshTrader()`),a&&a()},style:{...sd,background:`linear-gradient(135deg, #a855f7 0%, #9333ea 100%)`,borderColor:`#7e22ce`},children:` Open Trader`}),(0,X.jsx)(`button`,{onClick:()=>x(`resetGame()`),style:{...sd,background:`linear-gradient(135deg, #dc2626 0%, #991b1b 100%)`,borderColor:`#7f1d1d`},children:` Reset Game`})]})]}),(0,X.jsxs)(`div`,{style:{background:`rgba(15, 23, 42, 0.8)`,border:`2px solid rgba(148, 163, 184, 0.3)`,borderRadius:`12px`,padding:`16px`,fontFamily:`monospace`,fontSize:`13px`},children:[(0,X.jsx)(`h3`,{style:{color:`#94a3b8`,margin:`0 0 12px 0`,fontSize:`14px`},children:` Command Line:`}),(0,X.jsx)(`div`,{style:{background:`#000`,border:`1px solid #334155`,borderRadius:`8px`,padding:`12px`,minHeight:`150px`,maxHeight:`200px`,overflowY:`auto`,marginBottom:`12px`,color:`#22c55e`},children:c.length===0?(0,X.jsx)(`div`,{style:{color:`#64748b`},children:`Type .help() for available commands...`}):c.map((e,t)=>(0,X.jsx)(`div`,{style:{marginBottom:`4px`},children:e},t))}),(0,X.jsxs)(`div`,{style:{display:`flex`,gap:`8px`},children:[(0,X.jsx)(`input`,{ref:y,type:`text`,value:o,onChange:e=>s(e.target.value),onKeyDown:e=>{e.key===`Enter`&&o.trim()&&(x(o),s(``))},placeholder:`Enter command... (e.g., addMoney(1000) or .help())`,style:{flex:1,background:`#000`,border:`2px solid #334155`,borderRadius:`8px`,padding:`10px 12px`,color:`#22c55e`,fontSize:`14px`,fontFamily:`monospace`,outline:`none`}}),(0,X.jsx)(`button`,{onClick:()=>{o.trim()&&(x(o),s(``))},style:{background:`linear-gradient(135deg, #22c55e 0%, #16a34a 100%)`,border:`2px solid #15803d`,borderRadius:`8px`,padding:`10px 20px`,cursor:`pointer`,color:`white`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`},children:`Execute`})]})]})]}),(0,X.jsx)(`style`,{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translate(-50%, -60%) scale(0.9);
          }
          to {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
          }
        }
      `})]})},sd={background:`linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)`,border:`2px solid #1d4ed8`,borderRadius:`8px`,padding:`10px`,cursor:`pointer`,color:`white`,fontSize:`13px`,fontWeight:`bold`,transition:`all 0.2s ease`,whiteSpace:`nowrap`},cd=od;const ld=({isOpen:e,onClose:t,disableMoneyEffects:n,disableDiamondEffects:r,disablePackAnimations:i,disableCraftAnimations:a,onToggleMoneyEffects:o,onToggleDiamondEffects:s,onTogglePackAnimations:c,onToggleCraftAnimations:l})=>e?(0,X.jsx)(`div`,{className:`settings-modal-overlay`,onClick:t,children:(0,X.jsxs)(`div`,{className:`settings-modal`,onClick:e=>e.stopPropagation(),children:[(0,X.jsxs)(`div`,{className:`settings-header`,children:[(0,X.jsx)(`h2`,{children:` Settings`}),(0,X.jsx)(`button`,{className:`settings-close`,onClick:t,children:``})]}),(0,X.jsx)(`div`,{className:`settings-content`,children:(0,X.jsxs)(`div`,{className:`settings-section`,children:[(0,X.jsx)(`h3`,{children:`Animations`}),(0,X.jsx)(`p`,{className:`settings-description`,children:`Disable animations for better performance`}),(0,X.jsxs)(`div`,{className:`settings-option`,children:[(0,X.jsxs)(`label`,{className:`settings-checkbox`,children:[(0,X.jsx)(`input`,{type:`checkbox`,checked:!i,onChange:e=>c(!e.target.checked)}),(0,X.jsxs)(`span`,{className:`checkbox-label`,children:[(0,X.jsx)(`span`,{className:`checkbox-icon`,children:``}),`Pack Opening Animations`]})]}),(0,X.jsx)(`p`,{className:`option-description`,children:`Shows animated card reveal when opening Rune Packs`})]}),(0,X.jsxs)(`div`,{className:`settings-option`,children:[(0,X.jsxs)(`label`,{className:`settings-checkbox`,children:[(0,X.jsx)(`input`,{type:`checkbox`,checked:!n,onChange:e=>o(!e.target.checked)}),(0,X.jsxs)(`span`,{className:`checkbox-label`,children:[(0,X.jsx)(`span`,{className:`checkbox-icon`,children:``}),`Money Animations`]})]}),(0,X.jsx)(`p`,{className:`option-description`,children:`Shows floating numbers when earning money`})]}),(0,X.jsxs)(`div`,{className:`settings-option`,children:[(0,X.jsxs)(`label`,{className:`settings-checkbox`,children:[(0,X.jsx)(`input`,{type:`checkbox`,checked:!r,onChange:e=>s(!e.target.checked)}),(0,X.jsxs)(`span`,{className:`checkbox-label`,children:[(0,X.jsx)(`span`,{className:`checkbox-icon`,children:``}),`Diamond Animations`]})]}),(0,X.jsx)(`p`,{className:`option-description`,children:`Shows floating numbers when earning diamonds`})]}),(0,X.jsxs)(`div`,{className:`settings-option`,children:[(0,X.jsxs)(`label`,{className:`settings-checkbox`,children:[(0,X.jsx)(`input`,{type:`checkbox`,checked:!a,onChange:e=>l(!e.target.checked)}),(0,X.jsxs)(`span`,{className:`checkbox-label`,children:[(0,X.jsx)(`span`,{className:`checkbox-icon`,children:``}),`Craft Animations`]})]}),(0,X.jsx)(`p`,{className:`option-description`,children:`Shows animated effects when crafting Secret Runes`})]})]})}),(0,X.jsx)(`div`,{className:`settings-footer`,children:(0,X.jsx)(`button`,{className:`settings-done-button`,onClick:t,children:`Done`})})]})}):null,ud=({eventId:e,eventEndTime:t})=>{let[n,r]=(0,_.useState)(``);if((0,_.useEffect)(()=>{if(!t)return;let e=()=>{let e=Date.now(),n=Math.max(0,t-e),i=Math.floor(n/6e4),a=Math.floor(n%6e4/1e3);r(`${i}:${a.toString().padStart(2,`0`)}`)};e();let n=setInterval(e,1e3);return()=>clearInterval(n)},[t]),!e)return null;let i=bu.find(t=>t.id===e);return i?(0,X.jsxs)(`div`,{className:`event-notification`,children:[(0,X.jsxs)(`div`,{className:`event-content`,children:[(0,X.jsx)(`div`,{className:`event-icon`,children:i.icon}),(0,X.jsxs)(`div`,{className:`event-info`,children:[(0,X.jsx)(`div`,{className:`event-name`,children:i.name}),(0,X.jsx)(`div`,{className:`event-description`,children:i.description})]}),(0,X.jsxs)(`div`,{className:`event-timer`,children:[(0,X.jsx)(`div`,{className:`timer-label`,children:`Endet in`}),(0,X.jsx)(`div`,{className:`timer-value`,children:n})]})]}),(0,X.jsx)(`div`,{className:`event-progress`,children:(0,X.jsx)(`div`,{className:`event-progress-bar`,style:{width:`${t?Math.max(0,(1-(t-Date.now())/i.duration)*100):0}%`}})})]}):null};var dd=({isOpen:e,onClose:t,offers:n,gameState:r,onAcceptOffer:i})=>{let[a,o]=(0,_.useState)(null);if(!e)return null;let s=e=>[`Air`,`Earth`,`Water`,`Fire`,`Light`,`Dark`][e]||`Unknown`,c=e=>yu[e]?.color||`#94a3b8`,l=e=>{switch(e.rewardType){case`gems`:return`${e.rewardAmount}  Gems`;case`rp`:return`${e.rewardAmount}  RP`;case`rune`:if(e.rewardRuneId!==void 0){let t=vu[e.rewardRuneId];return`${e.rewardAmount} ${t?.name||`Rune`}`}return`${e.rewardAmount} Rune`;case`money`:return`${e.rewardAmount.toLocaleString(`de-DE`)}$`;default:return`Unknown`}},u=e=>(r.elementalResources[e.elementType]||0)>=e.elementAmount,d=e=>{u(e)&&(i(e),o(null))},f=e=>{let t=r.elementalResources[e.elementType]||0,n=Math.floor(t/e.elementAmount);if(n>0){let t={...e,bulkAmount:n};typeof i==`function`&&i(t),o(null)}};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.85)`,zIndex:1e4,animation:`fadeIn 0.3s ease-out`},onClick:t}),(0,X.jsxs)(`div`,{style:{position:`fixed`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,background:`linear-gradient(135deg, #1e293b 0%, #0f172a 100%)`,border:`3px solid #a855f7`,borderRadius:`16px`,padding:`16px`,boxShadow:`0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(168, 85, 247, 0.4)`,zIndex:10001,width:`90vw`,maxWidth:`600px`,maxHeight:`85vh`,overflow:`auto`,animation:`slideIn 0.3s ease-out`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`24px`,borderBottom:`2px solid rgba(168, 85, 247, 0.3)`,paddingBottom:`16px`},children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`h2`,{style:{color:`#a855f7`,fontSize:`26px`,fontWeight:`bold`,margin:0,textShadow:`0 0 20px rgba(168, 85, 247, 0.6)`},children:` Elemental Trader`}),(0,X.jsx)(`p`,{style:{color:`#94a3b8`,fontSize:`14px`,margin:`4px 0 0 0`},children:`Trade your elemental resources for valuable rewards`})]}),(0,X.jsx)(`button`,{onClick:t,style:{background:`rgba(239, 68, 68, 0.2)`,border:`2px solid #ef4444`,borderRadius:`8px`,padding:`8px 16px`,cursor:`pointer`,color:`#fca5a5`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.2)`},children:` Close`})]}),(0,X.jsx)(`div`,{style:{display:`grid`,gap:`16px`},children:n.map((e,t)=>{let n=u(e),i=s(e.elementType),p=c(e.elementType);return(0,X.jsxs)(`div`,{style:{background:n?`linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(21, 128, 61, 0.1) 100%)`:`rgba(255, 255, 255, 0.05)`,border:n?`2px solid rgba(34, 197, 94, 0.5)`:`2px solid rgba(148, 163, 184, 0.3)`,borderRadius:`16px`,padding:`20px`,transition:`all 0.3s ease`,cursor:n?`pointer`:`not-allowed`,opacity:n?1:.6},onClick:()=>n&&o(a?.id===e.id?null:e),onMouseEnter:e=>{n&&(e.currentTarget.style.transform=`scale(1.02)`,e.currentTarget.style.boxShadow=`0 8px 24px rgba(34, 197, 94, 0.3)`)},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.boxShadow=`none`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`},children:[(0,X.jsxs)(`div`,{style:{flex:1},children:[(0,X.jsx)(`div`,{style:{fontSize:`12px`,color:`#94a3b8`,marginBottom:`4px`},children:`Cost:`}),(0,X.jsxs)(`div`,{style:{fontSize:`20px`,fontWeight:`bold`,color:p,textShadow:`0 0 10px ${p}40`},children:[e.elementAmount.toLocaleString(`de-DE`),` `,i]}),(0,X.jsxs)(`div`,{style:{fontSize:`11px`,color:n?`#22c55e`:`#ef4444`,marginTop:`4px`},children:[`You have: `,(r.elementalResources[e.elementType]||0).toLocaleString(`de-DE`)]})]}),(0,X.jsx)(`div`,{style:{fontSize:`32px`,color:`#a855f7`,margin:`0 20px`},children:``}),(0,X.jsxs)(`div`,{style:{flex:1,textAlign:`right`},children:[(0,X.jsx)(`div`,{style:{fontSize:`12px`,color:`#94a3b8`,marginBottom:`4px`},children:`Reward:`}),(0,X.jsx)(`div`,{style:{fontSize:`20px`,fontWeight:`bold`,color:`#fbbf24`,textShadow:`0 0 10px rgba(251, 191, 36, 0.4)`},children:l(e)})]})]}),a?.id===e.id&&n&&(0,X.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,marginTop:`16px`},children:[(0,X.jsx)(`button`,{onClick:t=>{t.stopPropagation(),d(e)},style:{flex:1,padding:`12px`,background:`linear-gradient(135deg, #22c55e 0%, #15803d 100%)`,border:`2px solid #16a34a`,borderRadius:`8px`,color:`white`,fontSize:`16px`,fontWeight:`bold`,cursor:`pointer`,transition:`all 0.2s ease`,animation:`fadeIn 0.2s ease-out`},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.05)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`},children:` Accept Trade`}),(0,X.jsx)(`button`,{onClick:t=>{t.stopPropagation(),f(e)},style:{flex:1,padding:`12px`,background:`linear-gradient(135deg, #f59e0b 0%, #d97706 100%)`,border:`2px solid #fbbf24`,borderRadius:`8px`,color:`white`,fontSize:`16px`,fontWeight:`bold`,cursor:`pointer`,transition:`all 0.2s ease`,animation:`fadeIn 0.2s ease-out`},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.05)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`},children:` Buy All`})]})]},e.id)})}),(0,X.jsx)(`div`,{style:{marginTop:`20px`,padding:`12px`,background:`rgba(168, 85, 247, 0.1)`,border:`1px solid rgba(168, 85, 247, 0.3)`,borderRadius:`8px`,textAlign:`center`,color:`#c084fc`,fontSize:`13px`},children:` New offers will appear in 10-20 minutes`}),(0,X.jsx)(`style`,{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideIn {
            from {
              opacity: 0;
              transform: translate(-50%, -60%) scale(0.9);
            }
            to {
              opacity: 1;
              transform: translate(-50%, -50%) scale(1);
            }
          }
        `})]})]})},fd=({isOpen:e,onClose:t,gameState:n,onPrestige:r})=>{let[i,a]=(0,_.useState)(null);if(!e)return null;let o=n.elementalPrestige||{air:0,earth:0,water:0,fire:0,light:0,dark:0},s=e=>{let t=n.elementalResources[e]||0,r=Object.values(o)[e],i=Lu(e,r);return t>=i},c=e=>{s(e)&&(r(e),a(null))};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.85)`,zIndex:1e4,animation:`fadeIn 0.3s ease-out`},onClick:t}),(0,X.jsxs)(`div`,{style:{position:`fixed`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,background:`linear-gradient(135deg, #1e293b 0%, #0f172a 100%)`,border:`3px solid #fbbf24`,borderRadius:`16px`,padding:`16px`,boxShadow:`0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(251, 191, 36, 0.4)`,zIndex:10001,width:`90vw`,maxWidth:`600px`,maxHeight:`85vh`,overflow:`auto`,animation:`slideIn 0.3s ease-out`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`24px`,borderBottom:`2px solid rgba(251, 191, 36, 0.3)`,paddingBottom:`16px`},children:[(0,X.jsxs)(`div`,{children:[(0,X.jsx)(`h2`,{style:{color:`#fbbf24`,fontSize:`26px`,fontWeight:`bold`,margin:0,textShadow:`0 0 20px rgba(251, 191, 36, 0.6)`},children:` Elemental Ascension`}),(0,X.jsx)(`p`,{style:{color:`#94a3b8`,fontSize:`14px`,margin:`4px 0 0 0`},children:`Prestige your elements for permanent bonuses`})]}),(0,X.jsx)(`button`,{onClick:t,style:{background:`rgba(239, 68, 68, 0.2)`,border:`2px solid #ef4444`,borderRadius:`8px`,padding:`8px 16px`,cursor:`pointer`,color:`#fca5a5`,fontSize:`14px`,fontWeight:`bold`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(239, 68, 68, 0.2)`},children:` Close`})]}),(0,X.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:Iu.map(e=>{let t=Object.values(o)[e.elementId],r=n.elementalResources[e.elementId]||0,l=Lu(e.elementId,t),u=s(e.elementId),d=t*e.bonusPerLevel;return(0,X.jsxs)(`div`,{style:{background:u?`linear-gradient(135deg, ${e.color}20 0%, ${e.color}10 100%)`:`rgba(255, 255, 255, 0.05)`,border:u?`2px solid ${e.color}`:`2px solid rgba(148, 163, 184, 0.3)`,borderRadius:`16px`,padding:`20px`,transition:`all 0.3s ease`,cursor:u?`pointer`:`default`,opacity:u?1:.7},onClick:()=>u&&a(i===e.elementId?null:e.elementId),onMouseEnter:t=>{u&&(t.currentTarget.style.transform=`scale(1.02)`,t.currentTarget.style.boxShadow=`0 8px 24px ${e.color}40`)},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.boxShadow=`none`},children:[(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`12px`},children:[(0,X.jsxs)(`div`,{style:{fontSize:`20px`,fontWeight:`bold`,color:e.color,textShadow:`0 0 10px ${e.color}60`},children:[e.icon,` `,e.elementName]}),(0,X.jsxs)(`div`,{style:{background:`rgba(0, 0, 0, 0.4)`,padding:`4px 12px`,borderRadius:`8px`,fontSize:`14px`,fontWeight:`bold`,color:`#fbbf24`},children:[`Level `,t]})]}),(0,X.jsxs)(`div`,{style:{marginBottom:`12px`,padding:`8px`,background:`rgba(0, 0, 0, 0.3)`,borderRadius:`8px`},children:[(0,X.jsx)(`div`,{style:{fontSize:`12px`,color:`#94a3b8`,marginBottom:`4px`},children:`Current Bonus:`}),(0,X.jsxs)(`div`,{style:{fontSize:`16px`,fontWeight:`bold`,color:`#22c55e`},children:[`+`,d.toFixed(1),`% `,Ru(e.bonusType)]})]}),(0,X.jsxs)(`div`,{style:{marginBottom:`12px`,fontSize:`13px`},children:[(0,X.jsxs)(`div`,{style:{color:u?`#22c55e`:`#ef4444`,marginBottom:`4px`},children:[`You have: `,r.toLocaleString(`de-DE`)]}),(0,X.jsxs)(`div`,{style:{color:`#94a3b8`},children:[`Required: `,l.toLocaleString(`de-DE`)]})]}),(0,X.jsxs)(`div`,{style:{padding:`8px`,background:`rgba(59, 130, 246, 0.1)`,border:`1px solid rgba(59, 130, 246, 0.3)`,borderRadius:`8px`,fontSize:`12px`,color:`#60a5fa`},children:[`Next Level: +`,((t+1)*e.bonusPerLevel).toFixed(1),`% `,Ru(e.bonusType)]}),i===e.elementId&&u&&(0,X.jsxs)(`button`,{onClick:t=>{t.stopPropagation(),c(e.elementId)},style:{width:`100%`,marginTop:`12px`,padding:`12px`,background:`linear-gradient(135deg, ${e.color} 0%, ${e.color}CC 100%)`,border:`none`,borderRadius:`8px`,color:`white`,fontSize:`16px`,fontWeight:`bold`,cursor:`pointer`,transition:`all 0.2s ease`,animation:`fadeIn 0.2s ease-out`,textShadow:`0 2px 4px rgba(0,0,0,0.3)`},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.05)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`},children:[` Prestige to Level `,t+1]})]},e.elementId)})}),(0,X.jsx)(`div`,{style:{marginTop:`20px`,padding:`12px`,background:`rgba(251, 191, 36, 0.1)`,border:`1px solid rgba(251, 191, 36, 0.3)`,borderRadius:`8px`,textAlign:`center`,color:`#fbbf24`,fontSize:`13px`},children:` Prestiging resets only that element's resources but grants permanent bonuses!`}),(0,X.jsx)(`style`,{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideIn {
            from {
              opacity: 0;
              transform: translate(-50%, -60%) scale(0.9);
            }
            to {
              opacity: 1;
              transform: translate(-50%, -50%) scale(1);
            }
          }
        `})]})]})},pd={common:``,uncommon:``,rare:``,epic:``,legendary:``,mythic:``,secret:``},md={Air:``,Earth:``,Water:``,Fire:``,Light:``,Dark:``},hd={common:`Common Rune`,uncommon:`Uncommon Rune`,rare:`Rare Rune`,epic:`Epic Rune`,legendary:`Legendary Rune`,mythic:`Mythic Rune`,secret:`Secret Rune`};const gd=({rarity:e,bonuses:t,count:n=1,isRevealing:r=!1,delay:i=0,elementType:a})=>{let o=!!a,s=e.toLowerCase().replace(` rune`,``),c=o?md[a]:pd[s]||``,l=o?`${a} Rune`:hd[s]||e,u=o?a.toLowerCase():s;return u===`mythic`&&(u=`mythical`),(0,X.jsx)(`div`,{className:`rune-card rune-card-${u} ${r?`revealing`:``}`,style:{animationDelay:`${i}ms`},children:(0,X.jsxs)(`div`,{className:`rune-card-inner`,children:[(0,X.jsx)(`div`,{className:`rune-card-back`,children:(0,X.jsx)(`div`,{className:`rune-pack-logo`,children:`?`})}),(0,X.jsxs)(`div`,{className:`rune-card-front`,children:[(0,X.jsxs)(`div`,{className:`rune-card-header`,children:[(0,X.jsx)(`div`,{className:`rune-symbol`,children:c}),(0,X.jsx)(`div`,{className:`rune-name`,children:l})]}),(0,X.jsxs)(`div`,{className:`rune-card-body`,children:[(0,X.jsx)(`div`,{className:`rune-mega-symbol`,children:c}),(0,X.jsx)(`div`,{className:`rune-bonuses-list`,children:t.map((e,t)=>(0,X.jsx)(`div`,{className:`rune-bonus-item`,children:e},t))})]}),n>1&&(0,X.jsxs)(`div`,{className:`rune-count-badge`,children:[``,n]}),(0,X.jsx)(`div`,{className:`rune-card-shine`})]})]})})};var _d=(e,t)=>{let n=new Map;if(e.forEach(e=>{let t=`${e.rarity}-${e.bonuses.join(`,`)}`,r=n.get(t);r?r.count++:n.set(t,{rarity:e.rarity,bonus:e.bonus,count:1,bonusType:e.bonusType,producing:e.producing,bonuses:e.bonuses,elementType:e.elementType})}),t&&t.length>0){let r=new Map;e.forEach(e=>{e.index!==void 0&&t[e.index]!==void 0&&r.set(e.index,t[e.index])}),Array.from(n.entries()).forEach(([t,n])=>{let i=e.find(e=>`${e.rarity}-${e.bonuses.join(`,`)}`===t);if(i&&i.index!==void 0){let e=r.get(i.index);e!==void 0&&(n.count=e)}})}let r=[`secret`,`mythic`,`legendary`,`epic`,`rare`,`uncommon`,`common`];return Array.from(n.values()).sort((e,t)=>{let n=r.findIndex(t=>e.rarity.toLowerCase().includes(t)),i=r.findIndex(e=>t.rarity.toLowerCase().includes(e));return n-i})};const vd=({results:e,onComplete:t,totalPacksOpened:n,actualRuneCounts:r})=>{let[i,a]=(0,_.useState)(`opening`),[o,s]=(0,_.useState)([]);(0,_.useEffect)(()=>{let t=_d(e,r),n=setTimeout(()=>{a(`revealing`),s(t)},500),i=Math.max(t.length*200,1e3),o=setTimeout(()=>{a(`complete`)},500+i+1e3);return()=>{clearTimeout(n),clearTimeout(o)}},[]);let c=n||e.length;return(0,X.jsx)(`div`,{className:`pack-opening-overlay`,onClick:e=>e.stopPropagation(),children:(0,X.jsxs)(`div`,{className:`pack-opening-container`,onClick:e=>e.stopPropagation(),children:[i===`opening`&&(0,X.jsx)(`div`,{className:`pack-opening-animation`,children:(0,X.jsxs)(`div`,{className:`pack-box`,children:[(0,X.jsx)(`div`,{className:`pack-lid`}),(0,X.jsxs)(`div`,{className:`pack-body`,children:[(0,X.jsx)(`div`,{className:`pack-shine`}),(0,X.jsx)(`div`,{className:`pack-question`,children:`?`})]})]})}),(i===`revealing`||i===`complete`)&&(0,X.jsxs)(`div`,{className:`cards-container`,children:[(0,X.jsxs)(`div`,{className:`pack-results-header`,children:[(0,X.jsx)(`h2`,{children:`Pack Opening Results!`}),(0,X.jsxs)(`p`,{children:[c.toLocaleString(),` `,c===1?`Pack`:`Packs`,` opened`]})]}),(0,X.jsx)(`div`,{className:`cards-grid`,children:o.map((e,t)=>(0,X.jsx)(gd,{rarity:e.rarity,bonuses:e.bonuses,count:e.count,isRevealing:!1,delay:t*200,elementType:e.elementType},`${e.rarity}-${e.bonuses.join(`-`)}-${t}`))}),i===`complete`&&(0,X.jsx)(`div`,{className:`pack-complete-message`,children:(0,X.jsx)(`button`,{className:`close-pack-button`,onClick:t,children:`Continue`})})]})]})})};var yd=[{rarity:`Common Rune`,bonuses:[` +5% Money`]},{rarity:`Uncommon Rune`,bonuses:[` +18% Money`]},{rarity:`Rare Rune`,bonuses:[` +40% Money`,` +5% RP`,` +0.05% Gems`]},{rarity:`Epic Rune`,bonuses:[` +80% Money`,` +20% RP`,` +0.1% Gems`]},{rarity:`Legendary Rune`,bonuses:[` +150% Money`,` +75% RP`,` +0.5% Gems`]},{rarity:`Mythic Rune`,bonuses:[` +300% Money`,` +250% RP`,` +2% Gems`]}],bd=[{rarity:`Common`,bonuses:[`1 Air/tick`],elementType:`Air`},{rarity:`Common`,bonuses:[`1 Earth/tick`],elementType:`Earth`},{rarity:`Common`,bonuses:[`1 Water/tick`],elementType:`Water`},{rarity:`Common`,bonuses:[`1 Fire/tick`],elementType:`Fire`},{rarity:`Rare`,bonuses:[`1 Light/tick`],elementType:`Light`},{rarity:`Rare`,bonuses:[`1 Dark/tick`],elementType:`Dark`}];const xd=({onComplete:e,mode:t=`single`,count:n=1})=>{let[r,i]=(0,_.useState)(`spreading`);return(0,_.useEffect)(()=>{let e=setTimeout(()=>{i(`merging`)},500),t=setTimeout(()=>{i(`revealing`)},2500),n=setTimeout(()=>{i(`done`)},5500);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(n)}},[]),(0,X.jsx)(`div`,{className:`craft-animation-overlay`,children:(0,X.jsxs)(`div`,{className:`craft-animation-container`,children:[(0,X.jsx)(`div`,{className:`craft-cards-ring basic-ring ${r}`,children:yd.map((e,t)=>(0,X.jsx)(`div`,{className:`craft-card-wrapper`,style:{"--index":t,"--total":yd.length,"--delay":`${t*50}ms`},children:(0,X.jsx)(gd,{rarity:e.rarity,bonuses:e.bonuses,count:1,isRevealing:!1})},`basic-${t}`))}),(0,X.jsx)(`div`,{className:`craft-cards-ring elemental-ring ${r}`,children:bd.map((e,t)=>(0,X.jsx)(`div`,{className:`craft-card-wrapper`,style:{"--index":t,"--total":bd.length,"--delay":`${t*50}ms`},children:(0,X.jsx)(gd,{rarity:e.rarity,bonuses:e.bonuses,elementType:e.elementType,count:1,isRevealing:!1})},`elemental-${t}`))}),(r===`revealing`||r===`done`)&&(0,X.jsxs)(`div`,{className:`craft-result-card revealing`,children:[(0,X.jsx)(gd,{rarity:`Secret Rune`,bonuses:[` +500% Money`,` +350% RP`,` +3% Gems`],count:t===`all`?n:1,isRevealing:!1}),r===`done`&&(0,X.jsxs)(`div`,{style:{textAlign:`center`,marginTop:`32px`},children:[t===`all`&&n>1&&(0,X.jsxs)(`div`,{style:{fontSize:`22px`,fontWeight:`bold`,color:`#27ae60`,marginBottom:`16px`},children:[`Crafted `,n,`x Secret Runes!`]}),(0,X.jsx)(`button`,{className:`close-pack-button`,style:{fontSize:`22px`,padding:`18px 48px`,borderRadius:`12px`,background:`linear-gradient(135deg, #27ae60 0%, #229954 100%)`,color:`white`,fontWeight:`bold`,cursor:`pointer`,boxShadow:`0 4px 12px rgba(39, 174, 96, 0.4)`},onClick:e,children:`Continue`})]})]}),r===`merging`&&(0,X.jsx)(`div`,{className:`craft-merge-effect`,children:(0,X.jsx)(`div`,{className:`craft-energy-burst`})})]})})},Sd=({userId:e})=>{let[t,n]=(0,_.useState)(!1),[r,i]=(0,_.useState)(``),[a,o]=(0,_.useState)(``),[s,c]=(0,_.useState)(!1),l=(0,_.useRef)(`instance_${Date.now()}_${Math.random().toString(36).substr(2,9)}`);return(0,_.useEffect)(()=>{if(!e)return;let t=l.current,r=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?`Mobile`:`Desktop`,a=hu(mu,`activeInstances/${e}`),c=hu(mu,`activeInstances/${e}/${t}`),u=async()=>{try{await gu(c,{timestamp:Date.now(),device:r})}catch(e){console.error(`[Multi-Instance] Failed to update heartbeat:`,e)}},d=()=>{console.log(`[Multi-Instance] Page unloading, removing instance immediately`),gu(c,null)},f=async()=>{try{let e=await _u(a);if(!e.exists()){n(!1);return}let r=e.val(),c=Date.now(),l=!1,u=``,d=``;for(let[e,n]of Object.entries(r))if(e!==t&&c-n.timestamp<6e3){l=!0,u=n.device||`Unknown`,d=new Date(n.timestamp).toLocaleTimeString();break}l?(i(d),o(u),s||n(!0)):n(!1)}catch(e){console.error(`[Multi-Instance] Failed to check instances:`,e)}};(async()=>{console.log(`[Multi-Instance] Claiming instance:`,t),await u(),setTimeout(()=>{f()},1e3)})(),window.addEventListener(`beforeunload`,d);let p=setInterval(()=>{f(),u()},3e3);return()=>{clearInterval(p),window.removeEventListener(`beforeunload`,d),gu(c,null).catch(e=>{console.error(`[Multi-Instance] Cleanup error:`,e)})}},[e,s]),t?(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.95)`,zIndex:1e4,display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`20px`},children:(0,X.jsxs)(`div`,{style:{backgroundColor:`#1a1a2e`,border:`3px solid #ff6b6b`,borderRadius:`15px`,padding:`30px`,maxWidth:`500px`,textAlign:`center`,boxShadow:`0 0 50px rgba(255, 107, 107, 0.5)`},children:[(0,X.jsx)(`h1`,{style:{color:`#ff6b6b`,fontSize:`2em`,marginBottom:`20px`,textShadow:`0 0 10px rgba(255, 107, 107, 0.8)`},children:` WARNUNG `}),(0,X.jsx)(`h2`,{style:{color:`#ffcc00`,fontSize:`1.5em`,marginBottom:`15px`},children:`Mehrere Instanzen aktiv!`}),(0,X.jsx)(`p`,{style:{color:`#ffffff`,fontSize:`1.1em`,marginBottom:`20px`,lineHeight:`1.6`},children:`Das Spiel ist bereits in einem anderen Tab oder auf einem anderen Gert geffnet!`}),(0,X.jsxs)(`div`,{style:{backgroundColor:`rgba(255, 107, 107, 0.2)`,padding:`15px`,borderRadius:`10px`,marginBottom:`20px`},children:[(0,X.jsxs)(`p`,{style:{color:`#ffffff`,fontSize:`0.9em`,marginBottom:`10px`},children:[`Gert: `,(0,X.jsx)(`strong`,{children:a})]}),(0,X.jsxs)(`p`,{style:{color:`#ffffff`,fontSize:`0.9em`,marginBottom:`10px`},children:[`Letzte Aktivitt: `,(0,X.jsx)(`strong`,{children:r})]}),(0,X.jsx)(`p`,{style:{color:`#ffcc00`,fontSize:`0.9em`,fontWeight:`bold`},children:`Bitte schliee die andere Instanz, um Datenverlust zu vermeiden!`})]}),(0,X.jsxs)(`div`,{style:{fontSize:`0.85em`,color:`#888`,marginTop:`20px`,padding:`10px`,borderTop:`1px solid #444`},children:[(0,X.jsx)(`p`,{children:` Tipp: Wenn du sicher bist, dass keine andere Instanz luft,`}),(0,X.jsx)(`p`,{children:`warte 5 Sekunden und lade die Seite neu.`})]}),(0,X.jsx)(`button`,{onClick:()=>window.location.reload(),style:{marginTop:`20px`,padding:`12px 30px`,fontSize:`1em`,backgroundColor:`#ff6b6b`,color:`white`,border:`none`,borderRadius:`8px`,cursor:`pointer`,marginRight:`10px`},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=`#ff5252`,e.currentTarget.style.transform=`scale(1.05)`},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=`#ff6b6b`,e.currentTarget.style.transform=`scale(1)`},children:` Seite neu laden`}),(0,X.jsx)(`button`,{onClick:()=>{c(!0),n(!1)},style:{marginTop:`20px`,padding:`12px 30px`,fontSize:`1em`,backgroundColor:`#666`,color:`white`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontWeight:`bold`,transition:`all 0.3s ease`},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=`#555`,e.currentTarget.style.transform=`scale(1.05)`},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=`#666`,e.currentTarget.style.transform=`scale(1)`},children:` Ignorieren`})]})}):null};function Cd(){let{gameState:e,setGameState:t,offlineProgress:n,setOfflineProgress:r,claimOfflineProgress:i,clickMoney:a,buyUpgrade:o,buyMaxUpgrades:s,buyRebirthUpgrade:c,buyMaxRebirthUpgrades:l,performRebirth:u,resetGame:d,cheatMoney:f,devAddMoney:p,devAddMoneyDirect:m,devAddRebirthPoint:h,devAddGem:g,devAddClick:v,devAddRune:y,devAddElementalRune:b,openRunePack:x,mergeRunes:ee,mergeAllRunes:te,switchRuneType:S,toggleElementalStats:C,toggleMoneyEffects:ne,toggleDiamondEffects:re,toggleDevStats:ie,devSimulateOfflineTime:ae,craftSecretRune:oe}=Bu(),[se,ce]=(0,_.useState)(`upgrades`),[le,ue]=(0,_.useState)(`achievements`),[de,w]=(0,_.useState)(`stats`),[T,fe]=(0,_.useState)(!1),[pe,me]=(0,_.useState)(!1),[he,ge]=(0,_.useState)(!1),[E,_e]=(0,_.useState)(null),[ve,ye]=(0,_.useState)(!1),[be,xe]=(0,_.useState)(!1),[Se,Ce]=(0,_.useState)(!1),[we,Te]=(0,_.useState)(null),[Ee,De]=(0,_.useState)(0),[Oe,ke]=(0,_.useState)(null),[Ae,je]=(0,_.useState)(!1),Me=_.useCallback(t=>{try{console.log(`Buying`,t,`packs...`);let n=[],r=x(t,!0);console.log(`Pack open results:`,r),r&&Array.isArray(r)&&r.length>0?(r.forEach(e=>{e&&e.rarity&&typeof e.bonus==`number`&&n.push({rarity:e.rarity,bonus:e.bonus,bonusType:e.bonusType,producing:e.producing,bonuses:e.bonuses||[],elementType:e.elementType,index:e.index})}),console.log(`Converted results:`,n),n.length>0&&!e.disablePackAnimations?(console.log(`Setting pack results to show animation`),Te(n),De(t),ke(r.__actualCounts||null)):e.disablePackAnimations?console.log(`Pack animations disabled, skipping animation`):console.log(`No valid results to show`)):console.log(`No pack results or empty array`)}catch(e){console.error(`Error buying rune packs:`,e)}},[x,e.disablePackAnimations]),Ne=_.useCallback(()=>{Te(null),ke(null)},[]);_.useEffect(()=>{if(!e.elementalRunes.some(e=>e>0))return;let n=Date.now(),r=e.traderNextRefresh||0;if(!e.traderOffers||e.traderOffers.length===0){let e=ad(3),r=Math.random()*(600*1e3)+300*1e3;t(t=>({...t,traderOffers:e.map(e=>e.id),traderLastRefresh:n,traderNextRefresh:n+r}));return}if(n>=r){let e=ad(3),r=Math.random()*(600*1e3)+300*1e3;t(t=>({...t,traderOffers:e.map(e=>e.id),traderLastRefresh:n,traderNextRefresh:n+r}))}let i=setInterval(()=>{let n=Date.now(),r=e.traderNextRefresh||0;if(n>=r){let e=ad(3),r=Math.random()*(600*1e3)+300*1e3;t(t=>({...t,traderOffers:e.map(e=>e.id),traderLastRefresh:n,traderNextRefresh:n+r}))}},6e4);return()=>clearInterval(i)},[e.elementalRunes,e.traderNextRefresh]);let Pe=e.rebirthPoints>0||e.rebirth_upgradeAmounts.some(e=>e>0);_.useEffect(()=>{!Pe&&se===`rebirth`&&ce(`upgrades`)},[Pe,se]);let Fe=e.upgradeAmounts[4]>0&&e.rebirth_upgradeAmounts[3]>0,Ie=()=>{let t=0,n=0,r=0;return e.runes.forEach((e,i)=>{let a=vu[i];e>0&&(t+=(a.moneyBonus||0)*e,n+=(a.rpBonus||0)*e,r+=(a.gemBonus||0)*e)}),{totalMoneyBonus:t,totalRpBonus:n,totalGemBonus:r}},Le=()=>yu.map((t,n)=>({name:t.producing||`Unknown`,color:t.color,totalProducing:e.elementalRunes[n]*(t.produceAmount||0),currentAmount:e.elementalResources[n]||0,runeCount:e.elementalRunes[n]})),Re=Ie(),ze=Le(),Be=e.currentRuneType===`basic`?vu:yu,Ve=e.currentRuneType===`basic`?e.runes:e.elementalRunes,He=e.runes.slice(0,6).every(e=>e>=1)&&e.elementalRunes.slice(0,6).every(e=>e>=1),Ue=Math.min(...e.runes.slice(0,6),...e.elementalRunes.slice(0,6)),We=e.elementalRunesUnlocked,Ge=()=>{fe(!0),u(),setTimeout(()=>fe(!1),800)},Ke=n=>{let r=n.bulkAmount??1,i=n.elementAmount*r;if((e.elementalResources[n.elementType]||0)<i||r<1){console.error(`Not enough resources for bulk trade`);return}let a=[...e.elementalResources];a[n.elementType]-=i;let o={...e,elementalResources:a};switch(n.rewardType){case`gems`:o.gems+=n.rewardAmount*r;break;case`rp`:o.rebirthPoints+=n.rewardAmount*r;break;case`money`:o.money+=n.rewardAmount*r;break;case`rune`:if(n.rewardRuneId!==void 0){let e=[...o.runes];e[n.rewardRuneId]+=n.rewardAmount*r,o.runes=e}break}t(o)},qe=()=>{let t=e.traderOffers||[];return id.filter(e=>t.includes(e.id))},Je=n=>{let r=e.elementalPrestige||{air:0,earth:0,water:0,fire:0,light:0,dark:0},i=[...e.elementalResources];i[n]=0;let a=[`air`,`earth`,`water`,`fire`,`light`,`dark`][n],o={...r,[a]:r[a]+1};t({...e,elementalResources:i,elementalPrestige:o})};_.useEffect(()=>(window.MoneyClicker={give:(e,...t)=>{switch(e.toLowerCase()){case`money`:{let e=t[0];if(typeof e!=`number`||e<=0){console.error(` Usage: give money {number}`);return}console.log(` Giving ${e} money`),m(e);break}case`rp`:{let e=t[0];if(typeof e!=`number`||e<=0){console.error(` Usage: give rp {number}`);return}console.log(` Giving ${e} Rebirth Points`);for(let t=0;t<e;t++)h();break}case`gem`:case`gems`:{let e=t[0];if(typeof e!=`number`||e<=0){console.error(` Usage: give gem {number}`);return}console.log(` Giving ${e} gems`);for(let t=0;t<e;t++)g();break}case`clicks`:case`click`:{let e=t[0];if(typeof e!=`number`||e<=0){console.error(` Usage: give clicks {number}`);return}console.log(` Giving ${e} total clicks`);for(let t=0;t<Math.ceil(e/100);t++)v();break}case`runes`:case`rune`:{let e=t[0],n=t[1],r=t[2]||1;if(!e||![`basic`,`elemental`].includes(e.toLowerCase())){console.error(` Usage: give runes {type} {rarity} {number}`),console.error(`Types: basic, elemental`),console.error(`Basic rarities: 1=Common, 2=Uncommon, 3=Rare, 4=Epic, 5=Legendary, 6=Mythic, 7=Secret`),console.error(`Elemental rarities: 1=Air, 2=Earth, 3=Water, 4=Fire, 5=Light, 6=Dark`);return}if(typeof n!=`number`||n<1){console.error(` Invalid rarity number`);return}if(typeof r!=`number`||r<=0){console.error(` Usage: give runes {type} {rarity} {number}`);return}if(e.toLowerCase()===`basic`){if(n>7){console.error(` Basic runes only go up to 7 (Secret Rune)`);return}let e=n-1;console.log(` Giving ${r}x ${[`Common`,`Uncommon`,`Rare`,`Epic`,`Legendary`,`Mythic`,`Secret`][e]} basic runes`);for(let t=0;t<r;t++)y(e)}else if(e.toLowerCase()===`elemental`){if(n>6){console.error(` Elemental runes only go up to 6 (Dark)`);return}let e=n-1;console.log(` Giving ${r}x ${[`Air`,`Earth`,`Water`,`Fire`,`Light`,`Dark`][e]} elemental runes`);for(let t=0;t<r;t++)b(e)}break}case`materials`:{let e=t[0],n=t[1]||1;if(!e||typeof e!=`string`){console.error(` Usage: give materials {runeName} {amount}`),console.error(`Available: "secret rune"`);return}if(typeof n!=`number`||n<=0){console.error(` Usage: give materials {runeName} {amount}`);return}if(e.toLowerCase()===`secret rune`){console.log(` Giving materials to craft ${n}x Secret Rune`),console.log(`   - Giving ${n}x of each Basic Rune (Common to Mythic)`),console.log(`   - Giving ${n}x of each Elemental Rune (Air to Dark)`);for(let e=0;e<6;e++)for(let t=0;t<n;t++)y(e);for(let e=0;e<6;e++)for(let t=0;t<n;t++)b(e)}else console.error(` Unknown rune: ${e}. Available: "secret rune"`);break}default:console.error(` Unknown item: ${e}. Use: money, rp, gem, clicks, runes, materials`),window.MoneyClicker.help()}},addMoney:e=>{console.warn(` Deprecated: Use "give money {amount}" instead`),window.MoneyClicker.give(`money`,e)},addRP:e=>{console.warn(` Deprecated: Use "give rp {amount}" instead`),window.MoneyClicker.give(`rp`,e)},addGems:e=>{console.warn(` Deprecated: Use "give gem {amount}" instead`),window.MoneyClicker.give(`gem`,e)},addRune:(e,t=1)=>{console.warn(` Deprecated: Use "give runes basic {rarity} {amount}" instead`),e>=0&&e<=6?window.MoneyClicker.give(`runes`,`basic`,e+1,t):console.error(` Invalid rune index. Use 0-6 for basic runes`)},addClicks:e=>{console.log(` Adding ${e} total clicks`);for(let t=0;t<e;t++)v()},toggleMoneyEffects:()=>{let t=!e.disableMoneyEffects;console.log(` Money effects ${t?`DISABLED`:`ENABLED`}`),ne()},toggleDiamondEffects:()=>{let t=!e.disableDiamondEffects;console.log(` Diamond effects ${t?`DISABLED`:`ENABLED`}`),re()},rebirth:()=>{console.log(` Performing rebirth`),u()},reset:()=>{console.log(` Resetting game`),d()},gameState:()=>(console.log(` Current game state:`,e),e),help:()=>{console.log(`
 Money Clicker Console Commands:

 MAIN COMMAND (give):
  MoneyClicker.give("money", amount)                       - Give money
  MoneyClicker.give("rp", amount)                          - Give Rebirth Points  
  MoneyClicker.give("gem", amount)                         - Give gems
  MoneyClicker.give("clicks", amount)                      - Give total clicks
  MoneyClicker.give("runes", type, rarity, amount)         - Give runes
  MoneyClicker.give("materials", "secret rune", amount)    - Give materials to craft Secret Rune

 Rune Types & Rarities:
  BASIC RUNES:
    1 = Common      4 = Epic       7 = Secret
    2 = Uncommon    5 = Legendary  
    3 = Rare        6 = Mythic
  
  ELEMENTAL RUNES:
    1 = Air         4 = Fire
    2 = Earth       5 = Light
    3 = Water       6 = Dark

 Other Commands:
  MoneyClicker.rebirth()               - Perform rebirth
  MoneyClicker.reset()                 - Reset entire game
  MoneyClicker.gameState()             - Show current game state
  MoneyClicker.toggleMoneyEffects()    - Toggle money floating animations
  MoneyClicker.toggleDiamondEffects()  - Toggle diamond floating animations
  MoneyClicker.help()                  - Show this help

 Examples:
  MoneyClicker.give("money", 1000000)                  // Give 1M money
  MoneyClicker.give("rp", 100)                         // Give 100 RP
  MoneyClicker.give("gem", 50)                         // Give 50 gems
  MoneyClicker.give("clicks", 1000)                    // Give 1000 clicks
  MoneyClicker.give("runes", "basic", 6, 5)            // 5x Mythic basic runes
  MoneyClicker.give("runes", "basic", 7, 1)            // 1x Secret rune
  MoneyClicker.give("runes", "elemental", 1, 10)       // 10x Air runes
  MoneyClicker.give("runes", "elemental", 5, 3)        // 3x Light runes
  MoneyClicker.give("materials", "secret rune", 2)     // Materials for 2x Secret Rune crafts
  MoneyClicker.toggleMoneyEffects()                    // Disable/enable money animations
  MoneyClicker.toggleDiamondEffects()                  // Disable/enable diamond animations
        `)}},()=>{delete window.MoneyClicker}),[e,p,m,h,g,v,y,b,u,d,ne,re]);let Ye=e.activeEvent?bu.find(t=>t.id===e.activeEvent):null,Xe=Ye?{background:Ye.backgroundGradient,transition:`background 2s ease`}:{};return(0,X.jsxs)(`div`,{className:`app`,style:Xe,children:[(0,X.jsx)(Sd,{userId:Cu()}),T&&(0,X.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,background:`linear-gradient(135deg, rgba(147, 51, 234, 0.8) 0%, rgba(139, 92, 246, 0.9) 50%, rgba(124, 58, 237, 0.8) 100%)`,zIndex:9999,pointerEvents:`none`,animation:`rebirthFlash 0.8s ease-out forwards`}}),(0,X.jsx)(ud,{eventId:e.activeEvent,eventEndTime:e.eventEndTime||null}),(0,X.jsxs)(`header`,{className:`app-header`,children:[(0,X.jsx)(`h1`,{children:` Money Clicker`}),(0,X.jsx)(`p`,{children:`Click to earn money, buy upgrades, and grow your fortune!`}),(0,X.jsx)(`button`,{onClick:()=>me(!0),className:`desktop-only-button`,style:{position:`absolute`,top:`20px`,right:`20px`,background:`rgba(255, 255, 255, 0.1)`,border:`2px solid rgba(255, 255, 255, 0.3)`,borderRadius:`12px`,width:`48px`,height:`48px`,display:`flex`,alignItems:`center`,justifyContent:`center`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 4px 12px rgba(0, 0, 0, 0.2)`,backdropFilter:`blur(10px)`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.2)`,e.currentTarget.style.transform=`rotate(90deg) scale(1.1)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(0, 0, 0, 0.3)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.1)`,e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(0, 0, 0, 0.2)`},children:(0,X.jsx)(`span`,{style:{fontSize:`28px`,color:`white`,filter:`drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))`},children:``})}),!1]}),(0,X.jsx)(rd,{isOpen:pe,onClose:()=>me(!1),onReset:d,onOpenAnimationSettings:()=>ge(!0),disableMoneyEffects:e.disableMoneyEffects||!1,disableDiamondEffects:e.disableDiamondEffects||!1,disablePackAnimations:e.disablePackAnimations||!1,username:e.username||`Player`,onUsernameChange:e=>t(t=>({...t,username:e})),gameState:e}),(0,X.jsx)(ld,{isOpen:he,onClose:()=>ge(!1),disableMoneyEffects:e.disableMoneyEffects||!1,disableDiamondEffects:e.disableDiamondEffects||!1,disablePackAnimations:e.disablePackAnimations||!1,disableCraftAnimations:e.disableCraftAnimations||!1,onToggleMoneyEffects:e=>t(t=>({...t,disableMoneyEffects:e})),onToggleDiamondEffects:e=>t(t=>({...t,disableDiamondEffects:e})),onTogglePackAnimations:e=>t(t=>({...t,disablePackAnimations:e})),onToggleCraftAnimations:e=>t(t=>({...t,disableCraftAnimations:e}))}),(0,X.jsx)(Z,{isOpen:n!==null,onClose:i,offlineTime:n?.time||0,moneyEarned:n?.money||0}),(0,X.jsx)(cd,{isOpen:ve,onClose:()=>ye(!1),gameState:e,setGameState:t,devSimulateOfflineTime:ae,setOfflineProgress:r,onOpenTrader:()=>xe(!0)}),(0,X.jsx)(dd,{isOpen:be,onClose:()=>xe(!1),offers:qe(),gameState:e,onAcceptOffer:Ke}),(0,X.jsx)(fd,{isOpen:Se,onClose:()=>Ce(!1),gameState:e,onPrestige:Je}),(Ae===`single`||Ae===`all`)&&!e.disableCraftAnimations&&(0,X.jsx)(xd,{mode:Ae,count:Ae===`all`?Ue:1,onComplete:()=>{if(Ae===`all`)for(let e=0;e<Ue;e++)oe();else Ae===`single`&&oe();je(!1)}}),(Ae===`single`||Ae===`all`)&&e.disableCraftAnimations&&(()=>{if(Ae===`all`)for(let e=0;e<Ue;e++)oe();else Ae===`single`&&oe();return je(!1),null})(),(0,X.jsxs)(`main`,{className:`game-container`,children:[(0,X.jsxs)(`div`,{className:`desktop-layout`,children:[Fe&&(0,X.jsxs)(`div`,{className:`gem-panel`,style:{minWidth:`320px`,height:`100%`,display:`flex`,flexDirection:`column`,background:`linear-gradient(135deg, #3165f3ff 0%, #153ca7ff 30%, #000000ff 100%)`,border:`3px solid`,borderImage:`linear-gradient(135deg, #1d4ed8, #3b82f6, #60a5fa) 1`,borderRadius:`16px`,padding:`16px`,boxShadow:`0 0 30px rgba(59, 130, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,color:`white`,position:`relative`,overflowY:`auto`,WebkitOverflowScrolling:`touch`},children:[(0,X.jsx)(`div`,{style:{position:`absolute`,top:`0`,left:`0`,right:`0`,bottom:`0`,backgroundImage:`radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.1) 0%, transparent 50%)`,pointerEvents:`none`}}),(0,X.jsx)(`h2`,{style:{color:`#60a5fa`,textAlign:`center`,marginBottom:`24px`,fontSize:`20px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(96, 165, 250, 0.5)`,position:`relative`},children:` Runes`}),(0,X.jsxs)(`div`,{style:{marginBottom:`24px`,textAlign:`center`,background:`rgba(59, 130, 246, 0.1)`,borderRadius:`12px`,padding:`16px`,border:`1px solid rgba(59, 130, 246, 0.3)`},children:[(0,X.jsxs)(`div`,{style:{fontSize:`24px`,fontWeight:`bold`,color:`#60a5fa`,textShadow:`0 0 8px rgba(96, 165, 250, 0.6)`},children:[` `,e.gems]}),(0,X.jsx)(`div`,{style:{fontSize:`12px`,color:`#3b82f6`,marginTop:`4px`},children:`Gems you own`})]}),(0,X.jsxs)(`div`,{style:{marginBottom:`24px`,background:`rgba(147, 51, 234, 0.1)`,borderRadius:`12px`,padding:`16px`,border:`1px solid rgba(147, 51, 234, 0.3)`},children:[(0,X.jsxs)(`h3`,{style:{color:`#9333ea`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(147, 51, 234, 0.5)`,marginBottom:`12px`,textAlign:`center`},children:[` `,e.currentRuneType===`basic`?`Basic`:`Elemental`,` Rune Packs`]}),(0,X.jsx)(`div`,{style:{display:`flex`,gap:`8px`,justifyContent:`center`,flexDirection:`column`},children:[1,`max`].map(t=>{let n=t===`max`,r=e.currentRuneType===`basic`?5:25e4,i=e.currentRuneType===`basic`?e.gems:e.money,a=n?Math.floor(i/r):t,o=r*a,s=i>=o&&a>0;return(0,X.jsxs)(`button`,{onClick:()=>Me(a),disabled:!s,style:{padding:`14px 20px`,background:s?n?`linear-gradient(135deg, #f59e0b 0%, #d97706 100%)`:`linear-gradient(135deg, #9333ea 0%, #7e22ce 100%)`:`linear-gradient(135deg, #6b7280 0%, #4b5563 100%)`,border:s?n?`2px solid #fbbf24`:`2px solid #a855f7`:`2px solid #6b7280`,borderRadius:`8px`,color:`white`,fontSize:`15px`,fontWeight:`bold`,cursor:s?`pointer`:`not-allowed`,boxShadow:s?n?`0 4px 12px rgba(245, 158, 11, 0.4)`:`0 4px 12px rgba(147, 51, 234, 0.4)`:`0 2px 6px rgba(0, 0, 0, 0.2)`,transition:`all 0.2s ease`,opacity:s?1:.5,width:`100%`},onMouseEnter:e=>{s&&(e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=n?`0 6px 16px rgba(245, 158, 11, 0.6)`:`0 6px 16px rgba(147, 51, 234, 0.6)`)},onMouseLeave:e=>{s&&(e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=n?`0 4px 12px rgba(245, 158, 11, 0.4)`:`0 4px 12px rgba(147, 51, 234, 0.4)`)},children:[(0,X.jsxs)(`div`,{style:{fontSize:`16px`,marginBottom:`4px`},children:[` `,n?`${a}x Packs (MAX)`:`${t}x Pack`,` `]}),(0,X.jsx)(`div`,{style:{fontSize:`13px`,opacity:.9},children:e.currentRuneType===`basic`?` ${o} Gems`:` ${Y(o)}$`})]},t)})})]}),He&&(0,X.jsxs)(`div`,{style:{marginBottom:`24px`,display:`flex`,flexDirection:`column`,gap:`12px`},children:[(0,X.jsxs)(`button`,{onClick:()=>{je(`single`)},style:{width:`100%`,padding:`16px`,fontSize:`16px`,fontWeight:`bold`,background:`linear-gradient(135deg, #404040 0%, #1a1a1a 50%, #000000 100%)`,color:`#d4d4d4`,border:`2px solid #404040`,borderRadius:`12px`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 6px 20px rgba(64, 64, 64, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,position:`relative`,overflow:`hidden`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 8px 25px rgba(64, 64, 64, 0.7), inset 0 1px 0 rgba(255, 255, 255, 0.15)`,e.currentTarget.style.borderColor=`#606060`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 6px 20px rgba(64, 64, 64, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,e.currentTarget.style.borderColor=`#404040`},children:[(0,X.jsx)(`div`,{style:{position:`absolute`,top:0,left:`-100%`,width:`100%`,height:`100%`,background:`linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)`,animation:`shimmer 3s infinite`}}),` Craft 1x Secret Rune `]}),Ue>1&&(0,X.jsxs)(`button`,{onClick:()=>{je(`all`)},style:{width:`100%`,padding:`16px`,fontSize:`16px`,fontWeight:`bold`,background:`linear-gradient(135deg, #606060 0%, #303030 50%, #1a1a1a 100%)`,color:`#ffffff`,border:`2px solid #808080`,borderRadius:`12px`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 6px 20px rgba(128, 128, 128, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.2)`,position:`relative`,overflow:`hidden`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 8px 25px rgba(128, 128, 128, 0.8), inset 0 1px 0 rgba(255, 255, 255, 0.25)`,e.currentTarget.style.borderColor=`#a0a0a0`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 6px 20px rgba(128, 128, 128, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.2)`,e.currentTarget.style.borderColor=`#808080`},children:[(0,X.jsx)(`div`,{style:{position:`absolute`,top:0,left:`-100%`,width:`100%`,height:`100%`,background:`linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)`,animation:`shimmer 3s infinite`}}),` Craft `,Ue,`x Secret Runes (ALL) `]})]}),(0,X.jsxs)(`div`,{style:{flex:1,display:`flex`,flexDirection:`column`},children:[(0,X.jsxs)(`button`,{onClick:S,style:{width:`100%`,padding:`12px 16px`,marginBottom:`16px`,background:`linear-gradient(135deg, ${e.currentRuneType===`basic`?`#1d4ed8 0%, #3b82f6 50%, #60a5fa 100%`:`#7c3aed 0%, #a855f7 50%, #c084fc 100%`})`,color:`white`,border:`none`,borderRadius:`12px`,cursor:`pointer`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(0,0,0,0.3)`,boxShadow:`0 4px 12px rgba(59, 130, 246, 0.3)`,transition:`all 0.3s ease`,position:`relative`,overflow:`hidden`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 20px rgba(59, 130, 246, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(59, 130, 246, 0.3)`},children:[(0,X.jsxs)(`div`,{style:{position:`relative`,zIndex:1},children:[` `,e.currentRuneType===`basic`?`Basic`:`Elemental`,` Rune Collection`,(0,X.jsxs)(`div`,{style:{fontSize:`12px`,opacity:.8,marginTop:`2px`},children:[`Click to switch  `,e.currentRuneType===`basic`?`Showing Basic Runes`:`Showing Elemental Runes`]})]}),(0,X.jsx)(`div`,{style:{position:`absolute`,top:`50%`,left:e.currentRuneType===`basic`?`-100%`:`0%`,width:`100%`,height:`2px`,background:`rgba(255,255,255,0.6)`,transition:`left 0.3s ease`,transform:`translateY(-50%)`}})]}),(0,X.jsx)(`div`,{style:{flex:1,display:`flex`,flexDirection:`column`,gap:`8px`,paddingRight:`8px`},children:Be.map((t,n)=>{let r=Ve[n],i=[],a=e.currentRuneType===`basic`,o=e.elementalPrestige?.fire||0,s=a&&o>0?1+o*.01:1,c=t.dropRate/10;if(t.dropRate===0)c=0;else if(a&&s>1){let e=Be.filter(e=>e.dropRate>0),n=e.length-1,r=e.findIndex(e=>e.id===t.id)/n*2-.5,i=(s-1)*r*2,a=Math.max(1,t.dropRate*(1+i)),o=Be.map(t=>{if(t.dropRate===0)return 0;let r=e.findIndex(e=>e.id===t.id)/n*2-.5,i=(s-1)*r*2;return Math.max(1,t.dropRate*(1+i))}).reduce((e,t)=>e+t,0);c=a/o*100}return t.moneyBonus&&r>0&&i.push(` +${Y(t.moneyBonus*r*100,2)}% Money`),t.rpBonus&&r>0&&i.push(` +${Y(t.rpBonus*r*100,2)}% Rebirth Points`),t.gemBonus&&r>0&&i.push(` +${Y(t.gemBonus*r*100,3)}% Gem Chance`),t.producing&&r>0&&i.push(` Produces ${Y((t.produceAmount||0)*r,0)} ${t.producing}/tick`),(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`8px`,padding:`12px`,background:r>0?`linear-gradient(135deg, ${t.color}20, ${t.color}10)`:`rgba(255,255,255,0.05)`,borderRadius:`8px`,border:r>0?`1px solid ${t.color}60`:`1px solid rgba(255,255,255,0.1)`,opacity:r>0?1:.6,transition:`all 0.3s ease`,position:`relative`,overflow:`visible`,cursor:r>0?`help`:`default`,transform:E===n?`scale(1.02)`:`scale(1)`},onMouseEnter:()=>_e(n),onMouseLeave:()=>_e(null),children:[r>0&&(0,X.jsx)(`div`,{style:{position:`absolute`,top:`0`,left:`0`,right:`0`,bottom:`0`,background:`linear-gradient(135deg, ${t.color}15, transparent)`,pointerEvents:`none`}}),(0,X.jsxs)(`div`,{style:{zIndex:1},children:[(0,X.jsx)(`div`,{style:{color:t.color,fontWeight:`bold`,fontSize:`14px`,marginBottom:`2px`},children:t.name}),(0,X.jsxs)(`div`,{style:{fontSize:`12px`,color:r>0?`#e5e7eb`:`#9ca3af`},children:[`Amount: `,r,`x`]}),e.currentRuneType===`basic`&&r>=3&&n<5&&(0,X.jsxs)(`div`,{style:{marginTop:`6px`,display:`flex`,gap:`4px`,flexWrap:`wrap`},children:[(0,X.jsx)(`button`,{onClick:e=>{e.stopPropagation(),ee(n)},style:{padding:`3px 6px`,fontSize:`9px`,background:`linear-gradient(135deg, ${t.color}40, ${t.color}20)`,border:`1px solid ${t.color}`,borderRadius:`3px`,color:`white`,cursor:`pointer`,transition:`all 0.2s ease`,minWidth:`45px`},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.05)`,e.currentTarget.style.background=`linear-gradient(135deg, ${t.color}60, ${t.color}40)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.background=`linear-gradient(135deg, ${t.color}40, ${t.color}20)`},children:` 31`}),(0,X.jsx)(`button`,{onClick:e=>{e.stopPropagation(),te(n)},style:{padding:`3px 6px`,fontSize:`9px`,background:`linear-gradient(135deg, ${t.color}60, ${t.color}30)`,border:`1px solid ${t.color}`,borderRadius:`3px`,color:`white`,cursor:`pointer`,transition:`all 0.2s ease`,minWidth:`45px`,fontWeight:`bold`},onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.05)`,e.currentTarget.style.background=`linear-gradient(135deg, ${t.color}80, ${t.color}50)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.background=`linear-gradient(135deg, ${t.color}60, ${t.color}30)`},title:`Merge all possible (${Math.floor(r/3)} merges)`,children:` ALL`})]})]}),(0,X.jsxs)(`div`,{style:{fontSize:`12px`,color:`#3b82f6`,textAlign:`right`,zIndex:1},children:[(0,X.jsxs)(`div`,{children:[c.toFixed(1),`%`,a&&s>1&&t.dropRate>0&&(0,X.jsx)(`span`,{style:{fontSize:`10px`,color:n===0?`#60a5fa`:`#fb923c`,marginLeft:`4px`},children:n===0?``:``})]}),(0,X.jsx)(`div`,{style:{fontSize:`10px`,opacity:.7},children:`Drop Rate`})]}),E===n&&r>0&&i.length>0&&(0,X.jsxs)(`div`,{style:{position:`absolute`,top:`-10px`,left:`50%`,transform:`translateX(-50%) translateY(-100%)`,background:`linear-gradient(135deg, #1e293b 0%, #334155 100%)`,border:`2px solid ${t.color}`,borderRadius:`12px`,padding:`12px 16px`,boxShadow:`0 8px 32px rgba(0, 0, 0, 0.4), 0 0 20px ${t.color}40`,zIndex:1e3,minWidth:`200px`,backdropFilter:`blur(10px)`,pointerEvents:`none`},children:[(0,X.jsx)(`div`,{style:{color:t.color,fontWeight:`bold`,fontSize:`14px`,marginBottom:`8px`,textAlign:`center`,textShadow:`0 0 8px ${t.color}`},children:` Active Effects `}),i.map((e,t)=>(0,X.jsx)(`div`,{style:{color:`#e2e8f0`,fontSize:`12px`,marginBottom:`4px`,padding:`4px 8px`,background:`rgba(255, 255, 255, 0.1)`,borderRadius:`6px`},children:e},t)),(0,X.jsx)(`div`,{style:{position:`absolute`,bottom:`-8px`,left:`50%`,transform:`translateX(-50%)`,width:`0`,height:`0`,borderLeft:`8px solid transparent`,borderRight:`8px solid transparent`,borderTop:`8px solid ${t.color}`}})]})]},t.id)})})]}),(Re.totalMoneyBonus>0||Re.totalRpBonus>0||Re.totalGemBonus>0)&&(0,X.jsxs)(`div`,{style:{background:`rgba(59, 130, 246, 0.1)`,borderRadius:`12px`,padding:`16px`,border:`1px solid rgba(59, 130, 246, 0.3)`,marginTop:`16px`},children:[(0,X.jsx)(`div`,{style:{color:`#60a5fa`,fontWeight:`bold`,marginBottom:`12px`,fontSize:`16px`,textShadow:`0 0 8px rgba(96, 165, 250, 0.4)`,display:`flex`,alignItems:`center`,gap:`8px`},children:` Activ Bonus`}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`},children:[Re.totalMoneyBonus>0&&(0,X.jsxs)(`div`,{style:{color:`#10B981`,display:`flex`,alignItems:`center`,gap:`8px`,padding:`8px`,background:`rgba(16, 185, 129, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(16, 185, 129, 0.2)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[`+`,Y(Re.totalMoneyBonus*100,2),`% Money`]})]}),Re.totalRpBonus>0&&(0,X.jsxs)(`div`,{style:{color:`#3B82F6`,display:`flex`,alignItems:`center`,gap:`8px`,padding:`8px`,background:`rgba(59, 130, 246, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(59, 130, 246, 0.2)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[`+`,Y(Re.totalRpBonus*100,2),`% Rebirth Points`]})]}),Re.totalGemBonus>0&&(0,X.jsxs)(`div`,{style:{color:`#F59E0B`,display:`flex`,alignItems:`center`,gap:`8px`,padding:`8px`,background:`rgba(245, 158, 11, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(245, 158, 11, 0.2)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[`+`,Y(Re.totalGemBonus*100,3),`% Gem Chance`]})]})]})]})]}),(0,X.jsxs)(`div`,{className:`left-panel`,children:[!e.showElementalStats&&(0,X.jsx)(Uu,{gameState:e}),e.showElementalStats&&We&&(0,X.jsxs)(`div`,{className:`elemental-stats-panel`,style:{background:`linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)`,border:`2px solid #64748b`,borderRadius:`16px`,padding:`24px`,boxShadow:`0 8px 32px rgba(15, 23, 42, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,color:`white`,marginBottom:`20px`},children:[(0,X.jsx)(`h3`,{style:{color:`#c084fc`,textAlign:`center`,marginBottom:`16px`,fontSize:`18px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(192, 132, 252, 0.5)`},children:` Elemental Production`}),(0,X.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`},children:ze.map((t,n)=>{let r=1+e.achievements.reduce((e,t)=>e+(t.tier||0),0)*.01,i=t.totalProducing*r,a=(e,t)=>{let n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);return`rgba(${n}, ${r}, ${i}, ${t})`};return(0,X.jsxs)(`div`,{style:{background:a(t.color,.2),border:`2px solid ${a(t.color,.5)}`,borderRadius:`8px`,padding:`12px`,textAlign:`center`,transition:`all 0.3s ease`,cursor:t.runeCount>0?`help`:`default`,opacity:t.runeCount>0?1:.6},children:[`                    `,(0,X.jsx)(`div`,{style:{fontSize:`14px`,fontWeight:`bold`,color:t.color,marginBottom:`4px`,textShadow:`0 0 6px ${t.color}`,filter:`brightness(1.3)`},children:t.name}),(0,X.jsxs)(`div`,{style:{fontSize:`12px`,color:`#f1f5f9`,marginBottom:`2px`,fontWeight:`500`},children:[`Stored: `,Y(t.currentAmount)]}),(0,X.jsxs)(`div`,{style:{fontSize:`11px`,color:`#e2e8f0`,marginBottom:`2px`,fontWeight:`500`},children:[`+`,Y(i),`/tick`]}),(0,X.jsxs)(`div`,{style:{fontSize:`10px`,color:t.color,opacity:.9,filter:`brightness(1.2)`},children:[t.runeCount,` rune`,t.runeCount===1?``:`s`]})]},n)})})]}),We&&(0,X.jsx)(`div`,{className:`Elemental-Stats-Switch`,style:{marginBottom:`16px`},children:(0,X.jsxs)(`button`,{onClick:C,style:{width:`100%`,padding:`12px 16px`,background:e.showElementalStats?`linear-gradient(135deg, #7c3aed 0%, #a855f7 50%, #c084fc 100%)`:`linear-gradient(135deg, #4b5563 0%, #6b7280 50%, #9ca3af 100%)`,color:`white`,border:`none`,borderRadius:`12px`,cursor:`pointer`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(0,0,0,0.3)`,boxShadow:e.showElementalStats?`0 4px 12px rgba(124, 58, 237, 0.3)`:`0 4px 12px rgba(107, 114, 128, 0.3)`,transition:`all 0.3s ease`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`},onMouseEnter:t=>{t.currentTarget.style.transform=`translateY(-2px)`,t.currentTarget.style.boxShadow=e.showElementalStats?`0 6px 20px rgba(124, 58, 237, 0.4)`:`0 6px 20px rgba(107, 114, 128, 0.4)`},onMouseLeave:t=>{t.currentTarget.style.transform=`none`,t.currentTarget.style.boxShadow=e.showElementalStats?`0 4px 12px rgba(124, 58, 237, 0.3)`:`0 4px 12px rgba(107, 114, 128, 0.3)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[e.showElementalStats?`Hide`:`Show`,` Elemental Stats`]}),(0,X.jsx)(`span`,{style:{fontSize:`12px`,opacity:.8,marginLeft:`4px`},children:e.showElementalStats?``:``})]})}),(e.rebirthPoints>0||e.rebirth_upgradeAmounts.some(e=>e>0))&&(0,X.jsx)(`div`,{className:`Upgrade/Rebirth-Switch`,children:(0,X.jsx)(Gu,{label1:`Upgrades`,label2:`Rebirth`,onSwitch:ce,activePanel:se,showThirdButton:!1})}),(e.rebirthPoints>0||e.rebirth_upgradeAmounts.some(e=>e>0))&&(0,X.jsx)(`div`,{className:`Second-Panel-Switch`,style:{marginTop:`16px`,marginBottom:`16px`},children:(0,X.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,background:`rgba(0, 0, 0, 0.2)`,padding:`4px`,borderRadius:`12px`,border:`1px solid rgba(100, 116, 139, 0.3)`},children:[(0,X.jsx)(`button`,{onClick:()=>ue(`achievements`),style:{flex:1,padding:`10px 12px`,background:le===`achievements`?`linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #92400e 100%)`:`transparent`,color:`white`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(0,0,0,0.3)`,boxShadow:le===`achievements`?`0 2px 8px rgba(245, 158, 11, 0.3)`:`none`,transition:`all 0.3s ease`},children:``}),(0,X.jsx)(`button`,{onClick:()=>ue(`statistics`),style:{flex:1,padding:`10px 12px`,background:le===`statistics`?`linear-gradient(135deg, #3b82f6 0%, #1d4ed8 50%, #1e3a8a 100%)`:`transparent`,color:`white`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(0,0,0,0.3)`,boxShadow:le===`statistics`?`0 2px 8px rgba(59, 130, 246, 0.3)`:`none`,transition:`all 0.3s ease`},children:``}),(0,X.jsx)(`button`,{onClick:()=>ue(`leaderboard`),style:{flex:1,padding:`10px 12px`,background:le===`leaderboard`?`linear-gradient(135deg, #8b5cf6 0%, #6d28d9 50%, #4c1d95 100%)`:`transparent`,color:`white`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(0,0,0,0.3)`,boxShadow:le===`leaderboard`?`0 2px 8px rgba(139, 92, 246, 0.3)`:`none`,transition:`all 0.3s ease`},children:``})]})}),We&&(0,X.jsx)(`div`,{className:`Trader-Button`,style:{marginTop:`16px`,marginBottom:`16px`},children:(0,X.jsxs)(`button`,{onClick:()=>xe(!0),style:{width:`100%`,padding:`14px 16px`,background:`linear-gradient(135deg, #a855f7 0%, #9333ea 50%, #7e22ce 100%)`,color:`white`,border:`2px solid #6b21a8`,borderRadius:`12px`,cursor:`pointer`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(0,0,0,0.5)`,boxShadow:`0 4px 12px rgba(168, 85, 247, 0.4)`,transition:`all 0.3s ease`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`,position:`relative`,overflow:`hidden`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 20px rgba(168, 85, 247, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(168, 85, 247, 0.4)`},children:[(0,X.jsx)(`span`,{style:{fontSize:`20px`},children:``}),(0,X.jsx)(`span`,{children:`Elemental Trader`}),(0,X.jsx)(`span`,{style:{fontSize:`12px`,opacity:.9,background:`rgba(0,0,0,0.3)`,padding:`2px 8px`,borderRadius:`6px`,marginLeft:`auto`},children:e.traderOffers&&e.traderOffers.length>0?`${e.traderOffers.length} offers`:`New!`})]})}),We&&e.elementalPrestige&&Object.values(e.elementalPrestige).some(e=>e>0)&&(0,X.jsxs)(`div`,{style:{marginTop:`16px`,marginBottom:`8px`,background:`rgba(59, 130, 246, 0.1)`,borderRadius:`8px`,padding:`12px`,border:`1px solid rgba(59, 130, 246, 0.3)`},children:[(0,X.jsx)(`div`,{style:{fontSize:`12px`,fontWeight:`bold`,color:`#60a5fa`,marginBottom:`8px`,textAlign:`center`},children:` Active Prestige Bonuses`}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexWrap:`wrap`,gap:`6px`,justifyContent:`center`,fontSize:`11px`},children:[e.elementalPrestige.air>0&&(0,X.jsxs)(`div`,{style:{background:`rgba(125, 211, 252, 0.2)`,padding:`4px 8px`,borderRadius:`4px`,border:`1px solid rgba(125, 211, 252, 0.4)`,color:`#7dd3fc`},children:[` +`,(e.elementalPrestige.air*.5).toFixed(1),`% Speed`]}),e.elementalPrestige.earth>0&&(0,X.jsxs)(`div`,{style:{background:`rgba(134, 239, 172, 0.2)`,padding:`4px 8px`,borderRadius:`4px`,border:`1px solid rgba(134, 239, 172, 0.4)`,color:`#86efac`},children:[` +`,(e.elementalPrestige.earth*2).toFixed(0),`% Income`]}),e.elementalPrestige.water>0&&(0,X.jsxs)(`div`,{style:{background:`rgba(96, 165, 250, 0.2)`,padding:`4px 8px`,borderRadius:`4px`,border:`1px solid rgba(96, 165, 250, 0.4)`,color:`#60a5fa`},children:[` +`,(e.elementalPrestige.water*1).toFixed(0),`% Click`]}),e.elementalPrestige.fire>0&&(0,X.jsxs)(`div`,{style:{background:`rgba(251, 146, 60, 0.2)`,padding:`4px 8px`,borderRadius:`4px`,border:`1px solid rgba(251, 146, 60, 0.4)`,color:`#fb923c`},children:[` +`,(e.elementalPrestige.fire*1).toFixed(0),`% Luck`]}),e.elementalPrestige.light>0&&(0,X.jsxs)(`div`,{style:{background:`rgba(253, 224, 71, 0.2)`,padding:`4px 8px`,borderRadius:`4px`,border:`1px solid rgba(253, 224, 71, 0.4)`,color:`#fde047`},children:[` +`,(e.elementalPrestige.light*1).toFixed(0),`% RP`]}),e.elementalPrestige.dark>0&&(0,X.jsxs)(`div`,{style:{background:`rgba(167, 139, 250, 0.2)`,padding:`4px 8px`,borderRadius:`4px`,border:`1px solid rgba(167, 139, 250, 0.4)`,color:`#a78bfa`},children:[` -`,((1-1/(1+e.elementalPrestige.dark*.01))*100).toFixed(0),`% Cost`]})]})]}),We&&(0,X.jsx)(`div`,{className:`Prestige-Button`,style:{marginTop:`16px`,marginBottom:`16px`},children:(0,X.jsxs)(`button`,{onClick:()=>Ce(!0),style:{width:`100%`,padding:`14px 16px`,background:`linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%)`,color:`white`,border:`2px solid #b45309`,borderRadius:`12px`,cursor:`pointer`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(0,0,0,0.5)`,boxShadow:`0 4px 12px rgba(251, 191, 36, 0.4)`,transition:`all 0.3s ease`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 20px rgba(251, 191, 36, 0.6)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(251, 191, 36, 0.4)`},children:[(0,X.jsx)(`span`,{style:{fontSize:`20px`},children:``}),(0,X.jsx)(`span`,{children:`Elemental Ascension`})]})}),(0,X.jsx)(`div`,{className:`click-area`,children:(0,X.jsx)(Wu,{onClick:a,gameState:e,onGemDrop:()=>{console.log(` Gem obtained!`)}})}),(0,X.jsx)(td,{money:e.money,onRebirth:Ge,onReset:d,onCheat:f,moneyPerClick:e.moneyPerClick,gameState:e})]}),(0,X.jsx)(`div`,{className:`right-Upgrade-panel`,children:se===`upgrades`?(0,X.jsx)(qu,{gameState:e,buyUpgrade:o,buyMaxUpgrades:s}):e.rebirthPoints>0||e.rebirth_upgradeAmounts.some(e=>e>0)?(0,X.jsx)(Yu,{gameState:e,buyRebirthUpgrade:c,buyMaxRebirthUpgrades:l}):(0,X.jsx)(qu,{gameState:e,buyUpgrade:o,buyMaxUpgrades:s})}),(e.rebirthPoints>0||e.rebirth_upgradeAmounts.some(e=>e>0))&&(0,X.jsx)(`div`,{className:`second-panel-container`,style:{background:`rgba(15, 23, 42, 0.4)`,borderRadius:`16px`,padding:`12px`,border:`1px solid rgba(100, 116, 139, 0.3)`,boxShadow:`0 4px 16px rgba(0, 0, 0, 0.2)`,minWidth:`350px`,overflow:`hidden`,display:`flex`,flexDirection:`column`,minHeight:`0`,width:`420px`,maxWidth:`100%`,boxSizing:`border-box`},children:le===`achievements`?(0,X.jsx)(Zu,{gameState:e}):le===`statistics`?(0,X.jsx)($u,{gameState:e,onToggleDevStats:ie}):(0,X.jsx)(ed,{gameState:e})})]}),(0,X.jsxs)(`div`,{className:`mobile-layout`,children:[(0,X.jsx)(nd,{activeTab:de,onTabChange:w,hasGems:Fe,hasRebirth:Pe,hasElementalRunes:We}),(0,X.jsxs)(`div`,{className:`mobile-tab-content`,children:[de===`stats`&&(0,X.jsxs)(`div`,{className:`mobile-stats-tab`,children:[!e.showElementalStats&&(0,X.jsx)(Uu,{gameState:e}),e.showElementalStats&&We&&(0,X.jsxs)(`div`,{className:`elemental-stats-panel`,style:{background:`linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)`,border:`2px solid #64748b`,borderRadius:`16px`,padding:`24px`,boxShadow:`0 8px 32px rgba(15, 23, 42, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1)`,color:`white`,marginBottom:`20px`},children:[(0,X.jsx)(`h3`,{style:{color:`#c084fc`,textAlign:`center`,marginBottom:`16px`,fontSize:`18px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(192, 132, 252, 0.5)`},children:` Elemental Production`}),(0,X.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`},children:ze.map((t,n)=>{let r=1+e.achievements.reduce((e,t)=>e+(t.tier||0),0)*.01,i=t.totalProducing*r,a=(e,t)=>{let n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);return`rgba(${n}, ${r}, ${i}, ${t})`};return(0,X.jsxs)(`div`,{style:{background:a(t.color,.2),border:`2px solid ${a(t.color,.5)}`,borderRadius:`8px`,padding:`12px`,textAlign:`center`,transition:`all 0.3s ease`,cursor:t.runeCount>0?`help`:`default`,opacity:t.runeCount>0?1:.6},children:[`                          `,(0,X.jsx)(`div`,{style:{fontSize:`14px`,fontWeight:`bold`,color:t.color,marginBottom:`4px`,textShadow:`0 0 6px ${t.color}`,filter:`brightness(1.3)`},children:t.name}),(0,X.jsxs)(`div`,{style:{fontSize:`12px`,color:`#f1f5f9`,marginBottom:`2px`,fontWeight:`500`},children:[`Stored: `,Y(t.currentAmount)]}),(0,X.jsxs)(`div`,{style:{fontSize:`11px`,color:`#e2e8f0`,marginBottom:`2px`,fontWeight:`500`},children:[`+`,Y(i),`/tick`]}),(0,X.jsxs)(`div`,{style:{fontSize:`10px`,color:t.color,opacity:.9,filter:`brightness(1.2)`},children:[t.runeCount,` rune`,t.runeCount===1?``:`s`]})]},n)})})]}),We&&(0,X.jsx)(`div`,{className:`mobile-elemental-stats-switch`,style:{marginBottom:`16px`},children:(0,X.jsxs)(`button`,{onClick:C,style:{width:`100%`,padding:`12px 16px`,background:e.showElementalStats?`linear-gradient(135deg, #7c3aed 0%, #a855f7 50%, #c084fc 100%)`:`linear-gradient(135deg, #4b5563 0%, #6b7280 50%, #9ca3af 100%)`,color:`white`,border:`none`,borderRadius:`12px`,cursor:`pointer`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(0,0,0,0.3)`,boxShadow:e.showElementalStats?`0 4px 12px rgba(124, 58, 237, 0.3)`:`0 4px 12px rgba(107, 114, 128, 0.3)`,transition:`all 0.3s ease`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`},onMouseEnter:t=>{t.currentTarget.style.transform=`translateY(-2px)`,t.currentTarget.style.boxShadow=e.showElementalStats?`0 6px 20px rgba(124, 58, 237, 0.4)`:`0 6px 20px rgba(107, 114, 128, 0.4)`},onMouseLeave:t=>{t.currentTarget.style.transform=`none`,t.currentTarget.style.boxShadow=e.showElementalStats?`0 4px 12px rgba(124, 58, 237, 0.3)`:`0 4px 12px rgba(107, 114, 128, 0.3)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[e.showElementalStats?`Hide`:`Show`,` Elemental Stats`]}),(0,X.jsx)(`span`,{style:{fontSize:`12px`,opacity:.8,marginLeft:`4px`},children:e.showElementalStats?``:``})]})}),e.activeEvent&&(0,X.jsx)(ud,{eventId:e.activeEvent,eventEndTime:e.eventEndTime||null}),(0,X.jsx)(`div`,{className:`mobile-click-area`,style:{position:`relative`,zIndex:1},children:(0,X.jsx)(Wu,{onClick:a,gameState:e,onGemDrop:()=>{console.log(` Gem obtained!`)}})}),(0,X.jsx)(td,{money:e.money,onRebirth:Ge,onReset:d,onCheat:f,moneyPerClick:e.moneyPerClick,gameState:e})]}),de===`upgrades`&&(0,X.jsx)(qu,{gameState:e,buyUpgrade:o,buyMaxUpgrades:s}),de===`rebirth`&&Pe&&(0,X.jsx)(Yu,{gameState:e,buyRebirthUpgrade:c,buyMaxRebirthUpgrades:l}),de===`achievements`&&Pe&&(0,X.jsx)(Zu,{gameState:e}),de===`statistics`&&Pe&&(0,X.jsx)($u,{gameState:e,onToggleDevStats:ie}),de===`leaderboard`&&Pe&&(0,X.jsx)(ed,{gameState:e}),de===`settings`&&(0,X.jsx)(rd,{isOpen:!0,onClose:()=>w(`stats`),onReset:d,onOpenAnimationSettings:()=>ge(!0),disableMoneyEffects:e.disableMoneyEffects||!1,disableDiamondEffects:e.disableDiamondEffects||!1,disablePackAnimations:e.disablePackAnimations||!1,username:e.username||`Player`,onUsernameChange:e=>t(t=>({...t,username:e})),gameState:e}),de===`dev`&&!1,de===`trader`&&We&&(0,X.jsx)(dd,{isOpen:!0,onClose:()=>w(`stats`),offers:qe(),gameState:e,onAcceptOffer:Ke}),de===`prestige`&&We&&(0,X.jsx)(fd,{isOpen:!0,onClose:()=>w(`stats`),gameState:e,onPrestige:Je}),de===`gems`&&Fe&&(0,X.jsxs)(`div`,{className:`mobile-gem-panel`,children:[(0,X.jsx)(`h2`,{style:{color:`#60a5fa`,textAlign:`center`,marginBottom:`24px`,fontSize:`20px`,fontWeight:`bold`,textShadow:`0 0 10px rgba(96, 165, 250, 0.5)`},children:` Runes`}),(0,X.jsxs)(`div`,{style:{marginBottom:`24px`,textAlign:`center`,background:`rgba(59, 130, 246, 0.1)`,borderRadius:`12px`,padding:`16px`,border:`1px solid rgba(59, 130, 246, 0.3)`},children:[(0,X.jsxs)(`div`,{style:{fontSize:`24px`,fontWeight:`bold`,color:`#60a5fa`,textShadow:`0 0 8px rgba(96, 165, 250, 0.6)`},children:[` `,e.gems]}),(0,X.jsx)(`div`,{style:{fontSize:`12px`,color:`#3b82f6`,marginTop:`4px`},children:`Gems you own`})]}),(0,X.jsxs)(`div`,{style:{marginBottom:`24px`,background:`rgba(147, 51, 234, 0.1)`,borderRadius:`12px`,padding:`16px`,border:`1px solid rgba(147, 51, 234, 0.3)`},children:[(0,X.jsxs)(`h3`,{style:{color:`#9333ea`,fontSize:`16px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(147, 51, 234, 0.5)`,marginBottom:`12px`,textAlign:`center`},children:[` `,e.currentRuneType===`basic`?`Basic`:`Elemental`,` Rune Packs`]}),(0,X.jsx)(`div`,{style:{display:`flex`,gap:`8px`,justifyContent:`center`,flexDirection:`column`},children:[1,`max`].map(t=>{let n=t===`max`,r=e.currentRuneType===`basic`?5:25e4,i=e.currentRuneType===`basic`?e.gems:e.money,a=n?Math.floor(i/r):t,o=r*a,s=i>=o&&a>0;return(0,X.jsxs)(`button`,{onClick:()=>Me(a),disabled:!s,style:{padding:`14px 20px`,background:s?n?`linear-gradient(135deg, #f59e0b 0%, #d97706 100%)`:`linear-gradient(135deg, #9333ea 0%, #7e22ce 100%)`:`linear-gradient(135deg, #6b7280 0%, #4b5563 100%)`,border:s?n?`2px solid #fbbf24`:`2px solid #a855f7`:`2px solid #6b7280`,borderRadius:`8px`,color:`white`,fontSize:`15px`,fontWeight:`bold`,cursor:s?`pointer`:`not-allowed`,boxShadow:s?n?`0 4px 12px rgba(245, 158, 11, 0.4)`:`0 4px 12px rgba(147, 51, 234, 0.4)`:`0 2px 6px rgba(0, 0, 0, 0.2)`,transition:`all 0.2s ease`,opacity:s?1:.5,width:`100%`},children:[(0,X.jsxs)(`div`,{style:{fontSize:`16px`,marginBottom:`4px`},children:[` `,n?`${a}x Packs (MAX)`:`${t}x Pack`,` `]}),(0,X.jsx)(`div`,{style:{fontSize:`13px`,opacity:.9},children:e.currentRuneType===`basic`?` ${o} Gems`:` ${Y(o)}$`})]},t)})})]}),He&&(0,X.jsxs)(`div`,{style:{marginBottom:`24px`,display:`flex`,flexDirection:`column`,gap:`12px`},children:[(0,X.jsxs)(`button`,{onClick:()=>{je(`single`)},style:{width:`100%`,padding:`16px`,fontSize:`16px`,fontWeight:`bold`,background:`linear-gradient(135deg, #404040 0%, #1a1a1a 50%, #000000 100%)`,color:`#d4d4d4`,border:`2px solid #404040`,borderRadius:`12px`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 6px 20px rgba(64, 64, 64, 0.5)`,position:`relative`,overflow:`hidden`},children:[(0,X.jsx)(`div`,{style:{position:`absolute`,top:0,left:`-100%`,width:`100%`,height:`100%`,background:`linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)`,animation:`shimmer 3s infinite`}}),` Craft 1x Secret Rune `]}),Ue>1&&(0,X.jsxs)(`button`,{onClick:()=>{je(`all`)},style:{width:`100%`,padding:`16px`,fontSize:`16px`,fontWeight:`bold`,background:`linear-gradient(135deg, #606060 0%, #303030 50%, #1a1a1a 100%)`,color:`#ffffff`,border:`2px solid #808080`,borderRadius:`12px`,cursor:`pointer`,transition:`all 0.3s ease`,boxShadow:`0 6px 20px rgba(128, 128, 128, 0.6)`,position:`relative`,overflow:`hidden`},children:[(0,X.jsx)(`div`,{style:{position:`absolute`,top:0,left:`-100%`,width:`100%`,height:`100%`,background:`linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)`,animation:`shimmer 3s infinite`}}),` Craft `,Ue,`x Secret Runes (ALL) `]})]}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`,paddingBottom:`20px`},children:[(0,X.jsxs)(`button`,{onClick:S,style:{width:`100%`,padding:`12px 16px`,marginBottom:`8px`,background:`linear-gradient(135deg, ${e.currentRuneType===`basic`?`#1d4ed8 0%, #3b82f6 50%, #60a5fa 100%`:`#7c3aed 0%, #a855f7 50%, #c084fc 100%`})`,color:`white`,border:`none`,borderRadius:`12px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`bold`,textShadow:`0 0 8px rgba(0,0,0,0.3)`,boxShadow:`0 4px 12px rgba(59, 130, 246, 0.3)`,transition:`all 0.3s ease`},children:[` `,e.currentRuneType===`basic`?`Basic`:`Elemental`,` Runes`]}),Be.map((t,n)=>{let r=Ve[n];return(0,X.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`12px`,background:r>0?`linear-gradient(135deg, ${t.color}20, ${t.color}10)`:`rgba(255,255,255,0.05)`,borderRadius:`8px`,border:r>0?`1px solid ${t.color}60`:`1px solid rgba(255,255,255,0.1)`,opacity:r>0?1:.6,transition:`all 0.3s ease`,cursor:`pointer`},children:[(0,X.jsxs)(`div`,{style:{flex:1},children:[(0,X.jsx)(`div`,{style:{color:t.color,fontWeight:`bold`,fontSize:`14px`,marginBottom:`2px`},children:t.name}),(0,X.jsxs)(`div`,{style:{fontSize:`11px`,color:`#94a3b8`,lineHeight:1.3,marginBottom:`4px`},children:[t.rarity,` Rune  `,t.dropRate/10,`% drop`]}),r>0&&(0,X.jsxs)(`div`,{style:{fontSize:`10px`,color:`#60a5fa`,lineHeight:1.3,marginTop:`4px`,padding:`4px 6px`,background:`rgba(59, 130, 246, 0.1)`,borderRadius:`4px`,border:`1px solid rgba(59, 130, 246, 0.2)`},children:[t.moneyBonus&&` +${(t.moneyBonus*r*100).toFixed(1)}%`,t.rpBonus&&`${t.moneyBonus?`  `:``} +${(t.rpBonus*r*100).toFixed(1)}%`,t.gemBonus&&`${t.moneyBonus||t.rpBonus?`  `:``} +${(t.gemBonus*r*100).toFixed(2)}%`,t.producing&&` ${t.producing} +${(t.produceAmount||0)*r}/tick`,t.tickBonus&&`${t.moneyBonus||t.rpBonus||t.gemBonus?`  `:``} -${t.tickBonus}ms`]})]}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`flex-end`,gap:`4px`},children:[(0,X.jsx)(`div`,{style:{fontWeight:`bold`,color:`#60a5fa`,fontSize:`16px`},children:r}),e.currentRuneType===`basic`&&r>=3&&n<5&&(0,X.jsxs)(`div`,{style:{display:`flex`,gap:`3px`,flexDirection:`column`},children:[(0,X.jsx)(`button`,{onClick:e=>{e.stopPropagation(),ee(n)},style:{padding:`2px 5px`,fontSize:`8px`,background:`linear-gradient(135deg, ${t.color}40, ${t.color}20)`,border:`1px solid ${t.color}`,borderRadius:`3px`,color:`white`,cursor:`pointer`,transition:`all 0.2s ease`,minWidth:`35px`},children:` 31`}),(0,X.jsx)(`button`,{onClick:e=>{e.stopPropagation(),te(n)},style:{padding:`2px 5px`,fontSize:`8px`,background:`linear-gradient(135deg, ${t.color}60, ${t.color}30)`,border:`1px solid ${t.color}`,borderRadius:`3px`,color:`white`,cursor:`pointer`,transition:`all 0.2s ease`,minWidth:`35px`,fontWeight:`bold`},title:`Merge all (${Math.floor(r/3)})`,children:` ALL`})]})]})]},t.id)})]}),(Re.totalMoneyBonus>0||Re.totalRpBonus>0||Re.totalGemBonus>0)&&(0,X.jsxs)(`div`,{style:{background:`rgba(59, 130, 246, 0.1)`,borderRadius:`12px`,padding:`16px`,border:`1px solid rgba(59, 130, 246, 0.3)`,marginTop:`16px`},children:[(0,X.jsx)(`div`,{style:{color:`#60a5fa`,fontWeight:`bold`,marginBottom:`12px`,fontSize:`16px`,textShadow:`0 0 8px rgba(96, 165, 250, 0.4)`,display:`flex`,alignItems:`center`,gap:`8px`},children:` Active Bonus`}),(0,X.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`8px`},children:[Re.totalMoneyBonus>0&&(0,X.jsxs)(`div`,{style:{color:`#10B981`,display:`flex`,alignItems:`center`,gap:`8px`,padding:`8px`,background:`rgba(16, 185, 129, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(16, 185, 129, 0.2)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[`+`,Y(Re.totalMoneyBonus*100,2),`% Money`]})]}),Re.totalRpBonus>0&&(0,X.jsxs)(`div`,{style:{color:`#3B82F6`,display:`flex`,alignItems:`center`,gap:`8px`,padding:`8px`,background:`rgba(59, 130, 246, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(59, 130, 246, 0.2)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[`+`,Y(Re.totalRpBonus*100,2),`% Rebirth Points`]})]}),Re.totalGemBonus>0&&(0,X.jsxs)(`div`,{style:{color:`#F59E0B`,display:`flex`,alignItems:`center`,gap:`8px`,padding:`8px`,background:`rgba(245, 158, 11, 0.1)`,borderRadius:`6px`,border:`1px solid rgba(245, 158, 11, 0.2)`},children:[(0,X.jsx)(`span`,{children:``}),(0,X.jsxs)(`span`,{children:[`+`,Y(Re.totalGemBonus*100,3),`% Gem Chance`]})]})]})]})]})]})]})]}),(0,X.jsx)(`footer`,{className:`app-footer`,children:(0,X.jsx)(`p`,{children:`React Money Clicker v0.1.4 | Your progress is automatically saved!`})}),we&&(0,X.jsx)(vd,{results:we,onComplete:Ne,totalPacksOpened:Ee,actualRuneCounts:Oe}),(0,X.jsx)(`style`,{children:`
        @keyframes tooltipFadeIn {
          0% {
            opacity: 0;
            transform: translateX(-50%) translateY(-100%) scale(0.8);
          }
          100% {
            opacity: 1;
            transform: translateX(-50%) translateY(-100%) scale(1);
          }
        }
        
        @keyframes shimmer {
          0% {
            left: -100%;
          }
          100% {
            left: 100%;
          }
        }
      `})]})}var wd=Cd;(0,g.createRoot)(document.getElementById(`root`)).render((0,X.jsx)(_.StrictMode,{children:(0,X.jsx)(wd,{})}));